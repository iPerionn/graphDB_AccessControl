(window.webpackJsonp=window.webpackJsonp||[]).push([[69,155,156],{75:function(t,e,n){"use strict";n.r(e),n.d(e,"NodeState",(function(){return r})),n.d(e,"RecoveryState",(function(){return o})),n.d(e,"LinkState",(function(){return a}));const r={LEADER:"LEADER",FOLLOWER:"FOLLOWER",CANDIDATE:"CANDIDATE",OUT_OF_SYNC:"OUT_OF_SYNC",NO_CONNECTION:"NO_CONNECTION",READ_ONLY:"READ_ONLY",RESTRICTED:"RESTRICTED",NO_CLUSTER:"NO_CLUSTER"},o={SEARCHING_FOR_NODE:"SEARCHING_FOR_NODE",WAITING_FOR_SNAPSHOT:"WAITING_FOR_SNAPSHOT",RECEIVING_SNAPSHOT:"RECEIVING_SNAPSHOT",APPLYING_SNAPSHOT:"APPLYING_SNAPSHOT",BUILDING_SNAPSHOT:"BUILDING_SNAPSHOT",SENDING_SNAPSHOT:"SENDING_SNAPSHOT",RECOVERY_OPERATION_FAILURE_WARNING:"RECOVERY_OPERATION_FAILURE_WARNING"},a={IN_SYNC:"IN_SYNC",OUT_OF_SYNC:"OUT_OF_SYNC",SYNCING:"SYNCING",NO_CONNECTION:"NO_CONNECTION",RECEIVING_SNAPSHOT:"RECEIVING_SNAPSHOT"}},87:function(t,e,n){"use strict";n.r(e),n.d(e,"createClusterSvgElement",(function(){return N})),n.d(e,"createClusterZone",(function(){return S})),n.d(e,"setCreateClusterZone",(function(){return f})),n.d(e,"updateClusterZoneLabels",(function(){return h})),n.d(e,"moveElement",(function(){return O})),n.d(e,"createNodes",(function(){return E})),n.d(e,"updateNodes",(function(){return p})),n.d(e,"createLinks",(function(){return A})),n.d(e,"updateLinks",(function(){return R})),n.d(e,"ARROW_CONFIG",(function(){return C})),n.d(e,"addArrowHead",(function(){return m})),n.d(e,"setArrowLink",(function(){return v})),n.d(e,"setLinkColor",(function(){return T})),n.d(e,"setLinkStyle",(function(){return L})),n.d(e,"positionNodesOnClusterZone",(function(){return x})),n.d(e,"createHexagon",(function(){return w})),n.d(e,"removeEventListeners",(function(){return b}));var r=n(75),o=n(27);const a="var(--primary-color)",s="var(--secondary-color)",i="var(--gray-color)",c={[r.LinkState.IN_SYNC]:s,[r.LinkState.SYNCING]:s,[r.LinkState.OUT_OF_SYNC]:i,[r.LinkState.RECEIVING_SNAPSHOT]:s},d={[r.LinkState.IN_SYNC]:"none",[r.LinkState.SYNCING]:"10 10",[r.LinkState.OUT_OF_SYNC]:"10 10",[r.LinkState.RECEIVING_SNAPSHOT]:"10 10"},u="FONT_AWESOME",l="ICOMOON";function N(t){return d3.select(t).append("svg").classed("cluster-diagram",!0)}function S(t){const e=t.append("g");return e.append("circle").classed("cluster-zone",!0).style("fill","transparent").style("stroke-width","4"),e}function f(t,e,n,r=!1){if(e.select(".cluster-zone").classed("no-cluster",!t).classed("has-access",r),t)e.selectAll("#no-cluster-zone").remove();else{const t=e.append("g").attr("id","no-cluster-zone");t.append("text").attr("id","no-cluster-label").text(n.no_cluster_configured).attr("y",-50).classed("h2",!0).style("text-anchor","middle"),r&&t.append("text").attr("id","create-cluster-label").classed("h3",!0).text(n.create_cluster_btn).style("text-anchor","middle"),t.append("text").attr("y",130).attr("class","icon-any repo").attr("fill",a).style("text-anchor","middle").classed("settings-icon",!0).text("")}}function h(t,e,n){t||(e.select("#no-cluster-zone #no-cluster-label").text(n.no_cluster_configured),e.select("#no-cluster-zone #create-cluster-label").text(n.create_cluster_btn))}function O(t,e,n){t.attr("transform",()=>`translate(${e}, ${n})`)}function E(t,e,n){const r=t.enter().append("g").attr("id","node-group").classed("legend",n),o=r.merge(t).attr("id","node-group").classed("legend",n);return w(r,e),t.exit().remove(),r.append("text").attr("class","icon-any node-icon"),n||function(t,e){const n=t.append("g");n.append("rect").attr("class","id-host-background").attr("rx",6),n.append("rect").attr("class","node-info-background").attr("rx",6),n.append("text").attr("y",e+25).attr("class","id id-host"),n.append("text").attr("y",e+55).attr("class","node-info-text")}(r,e),o}function p(t){!function(t){t.select(".node-icon").each((function(t){const e=(n=t,Object(o.isEmpty)(n.recoveryStatus)?function(t){const e=y[t.nodeState];return e||{icon:"",font:""}}(t):function(t){const e=t.recoveryStatus;if(!e||!e.state)return{icon:"",font:""};return _[e.state]||{icon:"",font:""}}(t));var n;d3.select(this).classed("icon-any",e.font===l).classed("fa-d3",e.font===u).text(e.icon)}))}(t),function(t){t.select(".node.member").classed("leader",t=>t.nodeState===r.NodeState.LEADER).classed("follower",t=>t.nodeState===r.NodeState.FOLLOWER).classed("candidate",t=>t.nodeState===r.NodeState.CANDIDATE).classed("other",t=>t.nodeState!==r.NodeState.LEADER&&t.nodeState!==r.NodeState.FOLLOWER&&t.nodeState!==r.NodeState.CANDIDATE)}(t),function(t){t.select(".id.id-host").each((function(t){t.labelNode=this})).text((function(t){return t.hostname})),t.select(".id-host-background").attr("width",(function(t){return d3.select(t.labelNode).node().getBBox().width+10})).attr("height",(function(t){return d3.select(t.labelNode).node().getBBox().height+10})).attr("x",(function(t){return d3.select(t.labelNode).node().getBBox().x-5})).attr("y",(function(t){return d3.select(t.labelNode).node().getBBox().y-5}))}(t),function(t){let e,n;t.select(".node-info-text").each((function(t){t.infoNode=this})).select((function(){return this.parentNode})).append("foreignObject").attr("width",(function(t){if(Object(o.isEmpty)(t.recoveryStatus))return 0;const r=g(I(t));return e=r.height,n=r.width,n})).attr("height",(function(t){return Object(o.isEmpty)(t.recoveryStatus)?0:e})).attr("x",(function(t){return-n/2})).attr("y",(function(t){return 78})).classed("hidden",(function(t){return Object(o.isEmpty)(t.recoveryStatus)})).style("font-size","12px").style("font-weight","400").style("text-align","center").style("padding","4px").style("background","#EEEEEE").style("border-radius","6px").attr("class","node-info-fo").append("xhtml:div").html((function(t){return I(t)})),t.select(".node-info-text").remove(),function(t){t.select(".node-info-fo").each((function(t){const e=d3.select(this);if(Object(o.isEmpty)(t.recoveryStatus))return void e.attr("width",0);const n=I(t),r=t.recoveryStatus.message&&t.recoveryStatus.message.length>40&&n!==t.recoveryStatus.message,a=r?n:t.recoveryStatus.message,s=g(n),i=g(t.recoveryStatus.message);e.on(".tooltip",null),r&&function(t,e,n,r,o){t.on("mouseover.tooltip",()=>{t.attr("width",o.width).attr("height",o.height).attr("x",-o.width/2).html(`<div>${e}</div>`)}),t.on("mouseout.tooltip",()=>{t.attr("width",n.width).attr("height",n.height).attr("x",-n.width/2).html(`<div>${r}</div>`)})}(e,t.recoveryStatus.message,s,a,i),e.attr("width",s.width).attr("height",s.height).attr("x",-s.width/2).html(`<div>${a}</div>`)}))}(t)}(t)}const _={[r.RecoveryState.SEARCHING_FOR_NODE]:{icon:"",font:u},[r.RecoveryState.WAITING_FOR_SNAPSHOT]:{icon:"",font:u},[r.RecoveryState.RECEIVING_SNAPSHOT]:{icon:"",font:u},[r.RecoveryState.APPLYING_SNAPSHOT]:{icon:"",font:u},[r.RecoveryState.BUILDING_SNAPSHOT]:{icon:"",font:u},[r.RecoveryState.SENDING_SNAPSHOT]:{icon:"",font:u},[r.RecoveryState.RECOVERY_OPERATION_FAILURE_WARNING]:{icon:"",font:l}},y={[r.NodeState.CANDIDATE]:{icon:"",font:l},[r.NodeState.NO_CONNECTION]:{icon:"",font:l},[r.NodeState.OUT_OF_SYNC]:{icon:"",font:l},[r.NodeState.READ_ONLY]:{icon:"",font:l},[r.NodeState.RESTRICTED]:{icon:"",font:l}};function I(t){return t.recoveryStatus.message&&t.recoveryStatus.message.length>40?t.recoveryStatus.message.substring(0,40)+"...":t.recoveryStatus.message||""}function g(t){const e=document.createElement("div");e.innerHTML=t,e.style.padding="4px",e.style.position="absolute",e.style.visibility="hidden",e.style.fontSize="12px",e.style.fontWeight="400",e.style.textAlign="center",e.style.height="auto",e.style.width="auto",e.style.whiteSpace="nowrap",document.body.appendChild(e);const n=e.getBoundingClientRect(),r=n.height,o=n.width;return document.body.removeChild(e),{height:r,width:o}}function A(t){t.enter().append("path").classed("link",!0),t.exit().remove()}function R(t,e){t.attr("class",t=>"link "+t.id.replaceAll(":","-")).attr("stroke",T).style("stroke-dasharray",L).style("marker-mid",t=>v(t,C.BIG)).attr("d",t=>function(t,e){const n=e.find(e=>e.address===t.source),r=e.find(e=>e.address===t.target),o=r.x-n.x,a=r.y-n.y,s=Math.sqrt(o*o+a*a),i=o/s,c=a/s,d=n.x+55*i,u=n.y+55*c,l=r.x-55*i,N=r.y-55*c;return"M"+d+","+u+"L"+(d+l)/2+","+(u+N)/2+"L"+l+","+N}(t,e))}const C={SMALL:{name:"small",size:3},BIG:{name:"big",size:5}};function m(t,e){t.append("svg:defs").append("svg:marker").attr("id","arrowhead_"+e.name).attr("viewBox",`0 0 ${2*e.size} ${2*e.size}`).attr("refX",e.size).attr("refY",e.size).attr("markerWidth",e.size).attr("markerHeight",e.size).attr("orient","auto-start-reverse").append("path").attr("d",`M 0 0 L ${2*e.size} ${e.size} L 0 ${2*e.size} z`).style("fill","var(--secondary-color)")}function v(t,e){if(t.status===r.LinkState.RECEIVING_SNAPSHOT)return`url(#arrowhead_${e.name})`}function T(t){return c[t.status]||"none"}function L(t){return d[t.status]||"none"}function x(t,e,n,r){t.attr("transform",(o,a)=>{const s=2*Math.PI*a/t.size(),i=e+Math.cos(s)*r,c=n+Math.sin(s)*r;return o.x=i,o.y=c,`translate(${i}, ${c})`})}function w(t,e){const n=Math.sqrt(3)/2,r=[[e+0,0],[e/2+0,e*n+0],[-e/2+0,e*n+0],[0-e,0],[-e/2+0,-e*n+0],[e/2+0,-e*n+0],[e+0,0],[e/2+0,e*n+0]];return t.selectAll("path.area").data([r]).enter().append("path").attr("class","node member").attr("stroke-width","10").attr("stroke-linejoin","round").attr("d",d3.line())}function b(){d3.select(document).selectAll(".node-info-fo").on(".tooltip",null)}}}]);