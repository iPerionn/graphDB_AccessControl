!function(e){function t(t){for(var n,i,o=t[0],s=t[1],a=0,l=[];a<o.length;a++)i=o[a],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&l.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(u&&u(t);l.length;)l.shift()()}var n={},r={276:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=o);var s,a=document.createElement("script");a.charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.src=function(e){return i.p+""+({278:"polyfills-dom",280:"vendors~polyfills-core-js"}[e]||e)+"."+{0:"7740a14c971ea1d2eba0",1:"9a8a5a340e17c11643b6",2:"f1a215f762fbc9060ff8",3:"1fa42f37ad5bd0e5ccfa",4:"f801e3f2505057b5fe87",5:"4dc4c9e2cc7f47eebc6d",6:"6cb08e9e9ad072cbfc81",7:"ee0f4f4648f8fc3ce108",8:"32be4128f570c447549e",9:"41a5f9b1f94054ff21b4",10:"cde4715aee111520ab10",11:"d6074d5e8b21f93140ef",12:"d77cbf85a04c13416797",13:"9d8d961a482d42349b33",14:"443c28ad7cefb54afbc3",15:"6cdd681f18f8cccb36e3",16:"bdd4a67077a1dfa0aefc",17:"0b74a9a8282301a807bb",18:"5ec8d8bedc5900dd9987",19:"8c07889227bc39cae000",20:"b7b67f324565878b78fb",21:"f3e03a35598e574d1088",22:"ca2ee125533414af6b44",23:"352eec217c0d24b98b14",24:"79bd905f69d00f38ce5a",25:"600e8bbf7fc20af9e673",26:"a46725dccee91696a0ba",27:"6f188fed594aabd1b602",28:"c11269f1bfdea632cc8c",29:"9e82fddb3191a1d492ef",30:"5e637735aba63bdf1dde",31:"fb4f5161b4a6772d5070",32:"d8891b8f8b38d373d766",33:"2f0f674804db0b6e1285",34:"3664a756f3a6545525cb",35:"822c7f9fb748934a4408",36:"fd1ab27926210be8ab74",37:"a13e60850a9a07c446dc",38:"f722999a96d03d283e5d",39:"a871b7027a2a298b4299",40:"2209efb6cf9a445aaf72",41:"2c9a2d3442452650eb05",42:"c1055d3f77e831a0feee",43:"f3516933e9fc7c240588",44:"ae510f5df386fbbebef2",45:"d91d7edbc37142f4f78e",46:"7ad1a08290f31fd43400",47:"73df3897064e52f7e349",48:"3c991adc332749c3acdd",49:"8889b00d2203095c3a93",50:"367ae07d769401becd85",51:"5f93e26d33e6f8276243",52:"d0576a9b8e77887a0256",53:"755b81d1c2a1a4996ead",54:"d121d14b8519ccfbcb89",55:"03e7d8a381e4675c44d1",56:"c7c46100fbdfa25645de",57:"4af71143d20ef8319653",58:"69b21edd46a707e2b7a4",59:"cd0020e8e69a551f3ce7",60:"c1d4a6e7b7db06eb5cf0",61:"98a3ef4ed5c339daddb8",62:"d8e356c03ac8411adbc1",63:"8e37fba90bde83bd2f3f",64:"6a6aa6434a66542efffa",65:"6941c78bf1dc89a30b9f",66:"b0e1523c5ffaef2e7332",67:"2e0c784b7da674617bbb",68:"7b133326e3a06d04bde1",69:"efd0918b042b1f398041",70:"829438eff9c2658951c2",71:"e62a381e89828b1c6313",72:"bc7fc2aaf3a8e8ec1c41",73:"9db238b1b899b65fd024",74:"79caa682c1fb91f0cba7",75:"198f1c728a9dc99932dc",76:"17d0e859ea1d5af3db31",77:"e510a937a762eecefd8e",78:"6f4f90c087c54d245a1f",79:"f3efb595666ebe8f0914",80:"dca09d62e752f0cfc49c",81:"c8d004888156470c3aad",82:"45eb346dc80bc3d07b7b",83:"d34173500de6f79f117d",84:"bd622caf3a67cf0911ac",85:"9cb089f63b89d8e7d4b8",86:"4693b1e6a0732bdd10ab",87:"8c703c24e6940c7c322c",88:"d5d55f2a585edc6ca23c",89:"73e31db425e7bdd57694",90:"677903cb383d54b99bb3",91:"3f0a70d1f461d707733a",92:"dcaf435d98ba85bf41d9",93:"c7ffdd12d101f0759f50",94:"ef149157cec71e8c6727",95:"481f9941f7c5102fd02a",96:"963fb705cf41d4813f5f",97:"885a73aa0360fd138b06",98:"4682c01b8beedb7ee99f",99:"15cb2b4dc8cf54d6c473",100:"468b84c65c7b8c06657d",101:"67724d1c5eab0229cbe8",102:"73ff72236ce70b195ca5",103:"1cf434c1865ad9ca7f7e",104:"c90b212514e1bb149d36",105:"9ddd0bff6272f563749a",106:"7dcd770aee236e1e4b9e",107:"9501561f24a33fd8ac99",108:"4c18340aa198d13ff031",109:"c5a77ee8cc5ca77d1a24",110:"dd2f5b0811c880673b1c",111:"c69116afc8952402b94b",112:"7836140f8c321eb4cc92",113:"23ff31977d4a2f51e366",114:"11d025f071059a96e016",115:"271c8849214e9cb68b82",116:"44bbe19c8267478cfe47",117:"dc5863c0ad28647bd5ff",118:"90d7cffadf0edb7dab22",119:"49fbd4f9fa7814dcf524",120:"3d0da2f33c1998e15059",121:"5cfe2a629531fff5f8bb",122:"cfc9eb38b4d4206d3b0f",123:"e47b9543e88b7a66d926",124:"ac495e52eeb93db1c258",125:"39798647d6fc59af6daa",126:"4c0939dcafeb3e016c9a",127:"cc107d2f31dab809d124",128:"31535237e77713023ab3",129:"14133cf026c08e488e9e",130:"83ca4bfc89844018c61f",131:"f6aec556f49c78da8665",132:"bda2e1408a049ad349b2",133:"f9aae73e47de861bb86e",134:"a5c33a40d2b84ab5b624",135:"e3e8ff0d0cce2e980f9b",136:"49d2a1a7cfb9325f793a",137:"c66ea292a9fd631984e5",138:"cb759fc495f9ce8e21ce",139:"7537655f500bab3e9c21",140:"74aba9df15b050c129d9",141:"60071851020a1bc11595",142:"8906dd00536438b339df",143:"b1a2222304f8efe71776",144:"f82ff50a8d2c08295627",145:"0f1b69f230a46b4de5f6",146:"9b3518b9d896bf47382d",147:"e311377785362269579e",148:"254a642917f6b6c15d61",149:"8a2de058d7b72f417791",150:"b9d376ab86b1f17e4f78",151:"ebeb15de6f8b7ab9ea57",152:"ed9387e19d9cc69953db",153:"8d702923e48b57442b55",154:"a008e16c56c63f25799f",155:"49c4d893ed30c28e6302",156:"9b98cd7f44f0ed2dd7cb",157:"800a7154e719650d7925",158:"5cb23287d8549b4c51ba",159:"f87835a57d2af1de4121",160:"033025b2f36a7ef831d4",161:"476f62c4922a9d145220",162:"12011000dea3e7ebd49a",163:"b275d2dc30b13e3ccc59",164:"9d468fabae7dd09d9f97",165:"e2ecb64983939a96f129",166:"65286425804ad7dfe2e9",167:"c6c6cc46fcc2b8583175",168:"315ff506ef157f2dd68d",169:"a8137f6bfee189645694",170:"0eb13b2a619662203972",171:"689e5189a68b5d712f1d",172:"24bac3c88732b6bc72f9",173:"c0b3e63eb4c2b828a1b6",174:"d8e0820fa9a854ca9bcd",175:"1b8efcb27b17dd75d62f",176:"a782be4f5035dbcf47f3",177:"4f0582fedc8fda87babb",178:"0957348875d0effa1ef9",179:"fe1f4ff6cae23c056538",180:"1182b4fec70a9597c7ec",181:"badd2e06a003c34308fd",182:"107bd28df28bef4c2909",183:"d0783efdda9357f3fecf",184:"67a82fc3d401ed71e42d",185:"66708cd7a879a4eae697",186:"108c237753ea448dc4d3",187:"7f30c4e08e34208a39e0",188:"532c781e1ef597c73e67",189:"05e267b32af8242bbb08",190:"1d35ed6c3463117d673a",191:"4a27829ca9f82917c075",192:"18b48442299e101c94bb",193:"a1bdfd421997c6409184",194:"11dce90246b57ec587b7",195:"bf6f340f6c26325f8a68",196:"49c3671b0ba069dc7ef1",197:"d90b1f3a6fa0fa5c8e71",198:"bc0d8a5bcd304f288f29",199:"91ebfd371cf7bf6f5c4f",200:"d51dae4d7a098dbdf4fe",201:"6b142495658006864d07",202:"8edcdbed3861f93e2b9c",203:"3e57e9c58ea07a5c557b",204:"54e15792c8c1c60b49d6",205:"a9ec4a6ed99007eade40",206:"b8ea895d33805498670e",207:"a7009c479f89c28c2b35",208:"e24574635d546598ed63",209:"4b9ac5e926fe1fde0941",210:"0e1ac9a13cec02b2e00f",211:"c66166dfc9bef130f11a",212:"578f5adf8b5c02e176a9",213:"bf39c553daaec0e3a17d",214:"f8a7783d8a401220f40b",215:"4c7d4e26060bc4fa665e",216:"d4576c9401e162281c05",217:"6153ee468e30b8b3f4f6",218:"f4c5214b9f608a2835d8",219:"42d2968dff17a1cb197e",220:"b5a3c109cb5ae12138e7",221:"8a9bb83e2ca80c71aa0f",222:"a98f48c0726553a3e27f",223:"172b2476d760a0afb627",224:"30c6fb78c4913479a4fb",225:"e4b402662c5f8ecdd969",226:"d41bd3bd54d68a488d00",227:"987d372a187ed7979252",228:"d4601448c9799d1c6538",229:"61c97977e7032772ecb4",230:"cb819039e67a93a34541",231:"f60b94ce332af52008aa",232:"1d6fb6e62d8fc62ea10a",233:"dbe5dc7cf2503ca5c591",234:"50f38ed9c15d7485e98e",235:"36eea53474e198ed9f8e",236:"d0119bc798c924cfae70",237:"d115baad2682f050b642",238:"98486ccd2b7ee258fcc4",239:"8c68b3f9d15a13a5da0b",240:"bd7eafce1c66bf1c7882",241:"a90f93cdf6b718f8ccf9",242:"3a73c867bf57d3fbb810",243:"1973d7431d7a17936443",244:"8444f98a8ec24b7c37e2",245:"9636cf7f6606068cb3a6",246:"9f9f0bf8d23dc6f1662c",247:"4955851755c875c53533",248:"ada296e9a8a5456816fa",249:"92cb46db35d013e374e4",250:"551ab6039ac308b37046",251:"c50beffac4a15fcd6cc4",252:"9c49ec3e8e6216666f72",253:"cacce88991f3565ccbc5",254:"6f2f418d35f273d36d46",255:"440b872b6108a6ccdbca",256:"5299aff146bff9106694",257:"edeb2160403986002b6a",258:"5e948ed7fb4ad5b044b9",259:"ee3a351a443f650ce82e",260:"0ef916c69b120f308964",261:"225137d2ad99664d6161",262:"c9a141390f2ea8b03a0f",263:"ca7df4aba7e4f945ad36",264:"a03e17d70d78681e1891",265:"74666bb6329431145ee6",266:"c313c81618050f779d0a",267:"1615e2999c584ba47a3f",268:"4537af5084595364571e",269:"34add7a24cff1727163f",270:"1d56637b5e881e9d574c",271:"db31c78b09a0419559e1",272:"7046c61a75b544baf99b",273:"d931a545293c81cc8502",274:"12bae4619afa0b2e4562",275:"b813e0c8f34990596f78",278:"ca5eb32124bc19968252",280:"3624d97a659a8b5960c6",281:"4fe27fcd007ff2ead4db",282:"e5f5ef3b1fb929634ba9",283:"1704806f1c3bda8bb708",284:"fd607e6497c2eb2331cd",285:"818720039f4ecc77b3e7",286:"fd8efdecce8cbe19c230",287:"aa9e8e2b092c60c7669c",288:"f627ffd85def2677d419",289:"ac33b97442c69a26dbc3",290:"abc3688c658e9720c2b9",291:"2f19d0eb3d7fb55c9ac4",292:"9a208c01122fe17410b9",293:"360da392346e3f8076ff",294:"1e0134fafd669378ec10",295:"9b2955a638a6336dc6e5",296:"c688f2b1a4361ca938df",297:"10723db0cfa2ca3d7e9d",298:"2df50a85d79650a27a56",299:"6bc38539ac3a1f688515",300:"0cfb3d0b14a74af64e82",301:"311927a5091e698dcfed",302:"07e63f56f579a56c5ea0",303:"0cc447af82c7337dc639",304:"3d83f1dfe533dec88e6c",305:"14891e5939f97cb751ca",306:"20f724177de07f5c890d",307:"46fbff297c0287265fd9",308:"88f7a0db8be6837e00fa",309:"7b83f6b5a705afff9eab",310:"dca6c1bfeb9264e0ab4f",311:"56cb5e0f1b1dc8b3725e",312:"3b54b95368a118302e20",313:"1ce22bfc57424ad1d2fb",314:"926516bd7e90c67373a3",315:"92036aca75b6a9dad60a",316:"765d133afe5fb97fdd40",317:"c744f8f1f21fdafc0b78",318:"390af989d3ef5f42577d",319:"a625c9ecab007095f599",320:"3889f0a6f5aff873ab7c",321:"e0e2ccb2b30c9a5484a6",322:"1fe729e77c7a2a33fdcc",323:"bcf838c211c993cb08a7",324:"dc37822abaa94de31d80",325:"8d68453857cbd562cd09",326:"923de7c364b841c430ee",327:"31295ecc092f78340f0b",328:"80c4d1297a758ae32c30",329:"90bdbda895cddb141603",330:"7b52a9acca29f3b211f5",331:"9f8f417788cceb622475",332:"218235e77c873ac2a107",333:"e85fbde479e1736f7367",334:"59a725f3379fb526e9ad",335:"de41e90d68f183fbd569",336:"890188e781f2276309c9",337:"8fb07ae44f3b18843fd9",338:"4a5b533a9fb5a3448eb8",339:"b966848214f586787e34",340:"043aff0dbbc4295504c2",341:"e3398d4ba3bdd8411fd6",342:"100cf6659f33171fe28a",343:"36326f594b059044bead",344:"bb213971ae0911fc62a2",345:"617ee68d74a419aa638d",346:"33b06b8194844c6ac70c",347:"c22b11b9399a806611f7",348:"b1f95e9668604c9f1537"}[e]+".bundle.js"}(e);var u=new Error;s=function(t){a.onerror=a.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",u.name="ChunkLoadError",u.type=i,u.request=o,n[1](u)}r[e]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:a})}),12e4);a.onerror=a.onload=s,document.head.appendChild(a)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var a=0;a<o.length;a++)t(o[a]);var u=s;i(i.s=0)}({0:function(e,t,n){"use strict";n.r(t),n.d(t,"decodeHTML",(function(){return s}));n(7),n(46),n(53),n(370),n(64),n(371),n(40),n(41),n(54),n(55),n(56),n(57),n(58),n(59),n(60),n(61);var r=n(33);const i=(e,t)=>"undefined"==typeof window?Promise.resolve():Object(r.f)().then(()=>Object(r.b)([["ontotext-download-as",[[0,"ontotext-download-as",{translationService:[16],nameLabelKey:[1,"name-label-key"],tooltipLabelKey:[1,"tooltip-label-key"],items:[16],pluginName:[1,"plugin-name"],query:[1],infer:[4],sameAs:[4,"same-as"]}]]],["keyboard-shortcuts-dialog",[[0,"keyboard-shortcuts-dialog",{items:[16],translationService:[16],open:[32]},[[8,"keydown","keydownListener"]]]]],["alert-box",[[0,"alert-box",{type:[1],message:[1],noIcon:[4,"no-icon"],noButton:[4,"no-button"],isVisible:[32]}]]],["copy-resource-link-button",[[0,"copy-resource-link-button",{uri:[1],classes:[1]}]]],["loader-component",[[1,"loader-component",{timeFormattingService:[16],showQueryProgress:[4,"show-query-progress"],message:[1],additionalMessage:[1,"additional-message"],size:[1],hidden:[4],queryProgress:[32]}]]],["ontotext-editable-text-field",[[0,"ontotext-editable-text-field",{value:[1025],edit:[1028],translationService:[16]},[[8,"click","handleClickOutside"],[4,"keydown","keydownListener"]]]]],["ontotext-pagination",[[0,"ontotext-pagination",{pageNumber:[2,"page-number"],pageSize:[2,"page-size"],totalElements:[2,"total-elements"],pageElements:[2,"page-elements"],hasMorePages:[4,"has-more-pages"]}]]],["confirmation-dialog_9",[[0,"ontotext-yasgui",{config:[16],language:[1],savedQueryConfig:[16],saveQueryData:[32],savedQueryData:[32],deleteQueryData:[32],isVerticalOrientation:[32],renderingMode:[32],showSaveQueryDialog:[32],showSavedQueriesPopup:[32],showSavedQueriesPopupTarget:[32],showConfirmationDialog:[32],showShareQueryDialog:[32],showCopyResourceLinkDialog:[32],copiedResourceLink:[32],loaderMessage:[32],additionalLoaderMessage:[32],yasqeBtnLabel:[32],yasguiBtnLabel:[32],yasrBtnLabel:[32],changeRenderMode:[64],setQuery:[64],query:[64],getQuery:[64],isQueryValid:[64],openTab:[64],getQueryMode:[64],getQueryType:[64],getEmbeddedResultAsJson:[64],getEmbeddedResultAsCSV:[64],hideYasqeActionButton:[64],showYasqeActionButton:[64],getOngoingRequestsInfo:[64],abortQuery:[64],abortAllRequests:[64],reInitYasgui:[64],isQueryDirty:[64]},[[9,"resize","onResize"],[8,"beforeunload","onBeforeunloadHandler"],[0,"internalCreateSavedQueryEvent","saveQueryHandler"],[0,"internalSaveQueryEvent","createSavedQueryHandler"],[0,"internalUpdateQueryEvent","updateSavedQueryHandler"],[0,"internalSaveQueryDialogClosedEvent","closeSaveDialogHandler"],[0,"internalShowSavedQueriesEvent","showSavedQueriesHandler"],[0,"internalSaveQuerySelectedEvent","savedQuerySelectedHandler"],[0,"internalEditSavedQueryEvent","editSavedQueryHandler"],[0,"internalSavedQuerySelectedForDeleteEvent","savedQuerySelectedForEditHandler"],[0,"internalConfirmationApprovedEvent","deleteSavedQueryHandler"],[0,"internalConfirmationRejectedEvent","closeSavedQueryDeleteConfirmationHandler"],[0,"internalCloseSavedQueriesPopupEvent","closeSavedQueriesPopupHandler"],[0,"internalSavedQuerySelectedForShareEvent","savedQuerySelectedForShareHandler"],[0,"internalShareQueryEvent","shareQueryHandler"],[0,"internalQueryShareLinkCopiedEvent","savedQueryShareLinkCopiedHandler"],[0,"internalShareQueryDialogClosedEvent","closeShareQueryDialogHandler"],[0,"internalResourceLinkDialogClosedEvent","resourceLinkDialogClosedHandler"],[0,"internalResourceLinkCopiedEvent","resourceLinkCopiedHandler"],[0,"internalShowResourceCopyLinkDialogEvent","showResourceCopyLinkDialogHandler"],[0,"internalDownloadAsEvent","onDownloadAsEventHandler"],[0,"internalNotificationMessageEvent","notificationMessageHandler"],[0,"internalQueryEvent","onQuery"],[0,"internalQueryExecuted","onInternalQueryExecuted"],[0,"internalCountQueryEvent","onCountQuery"],[0,"internalCountQueryResponseEvent","onCountQueryResponse"],[0,"internalRequestAbortedEvent","onQueryAborted"]]],[0,"copy-resource-link-dialog",{serviceFactory:[16],resourceLink:[1,"resource-link"]}],[0,"share-query-dialog",{config:[16],serviceFactory:[16]}],[0,"save-query-dialog",{serviceFactory:[16],data:[16],queryName:[32],query:[32],isPublic:[32],isNew:[32],isSaveAllowed:[32]},[[8,"keydown","keydownListener"]]],[0,"confirmation-dialog",{translationService:[16],config:[16]},[[8,"keydown","keydownListener"]]],[0,"saved-queries-popup",{config:[16],serviceFactory:[16]},[[8,"click","onWindowResize"],[8,"keydown","keydownListener"]]],[0,"copy-link-dialog",{config:[16],serviceFactory:[16],copyLinkEventsObserver:[16],classes:[1]}],[4,"yasgui-tooltip",{dataTooltip:[1,"data-tooltip"],placement:[1],showOnClick:[4,"show-on-click"]}],[4,"ontotext-dialog-web-component",{config:[16]},[[4,"keydown","keydownListener"]]]]],["ontotext-dropdown",[[0,"ontotext-dropdown",{translationService:[16],nameLabelKey:[1,"name-label-key"],tooltipLabelKey:[1,"tooltip-label-key"],items:[16],iconClass:[1,"icon-class"],open:[32],showTooltip:[32]},[[8,"keydown","keydownListener"],[8,"click","mouseClickListener"]]]]]],t));!function(){if("undefined"!=typeof window&&void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}();var o=n(19);const s=function(e){let t=document.createElement("textarea");return t.innerHTML=e,t.value},a=["ngRoute","graphdb.workbench.se.controllers","graphdb.framework.core","angularCancelOnNavigateModule","oc.lazyLoad","pascalprecht.translate","graphdb.framework.core.interceptors.unauthorized","graphdb.framework.core.interceptors.authentication","graphdb.framework.core.directives.rdfresourcesearch.rdfresourcesearch","graphdb.framework.core.directives.languageselector.languageselector","graphdb.framework.core.directives.copytoclipboard.copytoclipboard","graphdb.framework.core.directives.angular-tooltips","graphdb.framework.core.directives.uppercased","graphdb.framework.core.directives.prop-indeterminate","graphdb.framework.guides.services","graphdb.framework.core.directives.operationsstatusesmonitor","graphdb.framework.core.directives.autocomplete","ngCustomElement"],u=["$routeProvider","$locationProvider","$menuItemsProvider","toastrConfig","localStorageServiceProvider","$uibTooltipProvider","$httpProvider","$templateRequestProvider","$translateProvider"];$.get("rest/info/version?local=1",(function(e){const t=e.productVersion.match(/^(\d+\.\d+)/);t.length?e.productShortVersion=t[1]:e.productShortVersion=e.productVersion;const r=e.productVersion.match(/(-.*?)(-|$)/);r&&r.length&&(e.productShortVersion=e.productShortVersion+r[1]),function(e){i();const t=angular.module("graphdb.workbench",a);t.config([...u,function(t,r,i,o,s,a,u,l,c){c.useStaticFilesLoader({prefix:"i18n/locale-",suffix:".json?v=2.7.4"}),c.preferredLanguage("en"),c.useSanitizeValueStrategy("escape"),angular.extend(o,{timeOut:5e3,positionClass:"toast-bottom-right",tapToDismiss:!1,extendedTimeOut:5e3}),s.setStorageType("localStorage").setNotify(!0,!0);var h=t.$get[t.$get.length-1]({$on:function(){}});t.when("_openid_implicit_",{controller:function(){},template:"<div></div>"}),h.routes._openid_implicit_.regexp=/[&/](?:id_token=.*&access_token=|access_token=.*&id_token=)/;let p=PluginRegistry.get("route");angular.forEach(p,(function(e){t.when(e.url,{controller:e.controller,templateUrl:e.templateUrl,title:e.title,helpInfo:e.helpInfo,reloadOnSearch:void 0===e.reloadOnSearch||e.reloadOnSearch,resolve:{preload:["$ocLazyLoad","$q",function(t,r){return e.path?n(373)("./"+e.path).then(n=>{t.inject(e.module)}):r.defer().resolve()}]}})})),t.otherwise({templateUrl:"pages/not_found.html"}),r.html5Mode(!0),a.setTriggers({show:"hide"}),a.options({appendToBody:!0}),i.setProductInfo(e),PluginRegistry.get("main.menu").forEach((function(e){e.items.forEach((function(e){i.addItem(e)}))})),u.interceptors.push("$unauthorizedInterceptor"),u.interceptors.push("$authenticationInterceptor");const d=l.$get[3];"function"==typeof d&&(l.$get[3]=function(e,t,n){const r=d(e,t,n);return function(t,n){return e.get(t)||(t+="?v=2.7.4"),r(t,n)}})}]),t.constant("productInfo",e),t.run(["$rootScope","$route","toastr","$sce","$translate","ThemeService","WorkbenchSettingsStorageService","LSKeys","GuidesService",function(e,t,n,r,i,o,a,u,l){function c(){t.current.title?document.title=s(i.instant(t.current.title))+" | GraphDB Workbench":document.title="GraphDB Workbench",e.helpInfo=r.trustAsHtml(s(i.instant(t.current.helpInfo))),e.title=s(i.instant(t.current.title))}e.$on("$routeChangeSuccess",(function(){c(),n.clear()})),e.$on("$translateChangeSuccess",(function(){c()}));const h=a.getThemeName();o.applyTheme(h),o.applyDarkThemeMode(),l.init()}]),t.filter("titlecase",(function(){return function(e){var t=""+e;return t.charAt(0).toUpperCase()+t.slice(1)}})),t.filter("prettyJSON",()=>e=>angular.toJson(e,!0)),t.filter("humanReadableSize",()=>e=>Object(o.convertToHumanReadable)(e)),angular.bootstrap(document,["graphdb.workbench"])}(e)}))},1:function(e,t,n){"use strict";n.r(t),n.d(t,"OPERATION_GROUP_TYPE",(function(){return r}));const r={IMPORT_OPERATION:"IMPORT_OPERATION",QUERIES_OPERATION:"QUERIES_OPERATION",BACKUP_AND_RESTORE_OPERATION:"BACKUP_AND_RESTORE_OPERATION",CLUSTER_OPERATION:"CLUSTER_OPERATION"}},10:function(e,t){function n(e,t){return{get:function(t){return e.get(t)},set:function(t,n){e.set(t,n)},keys:n,remove:r,clearAll:function(){e.clearAll()},clearClassHieararchyState:function(){n().forEach((function(e){0!==e.indexOf("classHierarchy-")||e===t.CLASS_HIERARCHY_HIDE_PREFIXES||e.startsWith("classHierarchy-selectedGraph-")||r(e)}))}};function n(){return e.keys()}function r(t){e.remove(t)}}angular.module("graphdb.framework.utils.localstorageadapter",[]).factory("LocalStorageAdapter",n).value("LSKeys",{TABS_STATE:"tabs-state",TABS_STATE_CURRENT_ID:"tabs-state-currentid",TABS_STATE_MAXID:"tabs-state-maxid",VIEW_MODE:"viewMode",CLASS_HIERARCHY_HIDE_PREFIXES:"classHierarchy-hidePrefixes",CLASS_HIERARCHY_CURRENT_SLIDER_VALUE:"classHierarchy-currentSliderValue",CLASS_HIERARCHY_SWITCH_PREFIXES:"classHierarchy-switchPrefixes",CLASS_HIERARCHY_LAST_SELECTED_CLASS:"classHierarchy-lastSelectedClass",DOMAIN_RANGE_WENT_BACK:"domainRange-wentBack",DOMAIN_RANGE_COLLAPSE_EDGES:"domainRange-collapseEdges",HIDE_SIMILARITY_HELP:"hide-similarity-help",TUTORIAL_STATE:"tutorial-state",MENU_STATE:"menu-state",HIDE_GRAPH_CONFIG_HELP:"hide-graph-config-help",GRAPHS_VIZ:"graphs-viz",AUTOCOMPLETE_ENABLED:"autocomplete.enabled",RDF_SEARCH_TYPE:"rdf-search.search-type",RDF_SEARCH_INPUT:"rdf-search.search-input",RDF_SEARCH_EXPANDED_URI:"rdf-search.search-expanded-uri",RDF_RESOURCE_DESCRIPTION:"rdf-search.resource-description",PREFERRED_LANG:"preferred-language",WORKBENCH_SETTINGS:"workbench-settings",REPOSITORY_ID:"repository-id",REPOSITORY_LOCATION:"repository-location",JSONLD_EXPORT_SETTINGS:"jsonld-export-settings",IMPORT_VIEW:"import-view",SPARQL_LAST_REPO:"sparql-last-repo"}),n.$inject=["localStorageService","LSKeys"]},11:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},12:function(e,t,n){"use strict";n.r(t),n.d(t,"QueryMode",(function(){return r}));const r={UPDATE:"update",QUERY:"query"}},13:function(e,t,n){"use strict";n.r(t),n.d(t,"GUIDE_ID",(function(){return ln})),n.d(t,"GUIDE_CURRENT_STEP_ID",(function(){return cn})),n.d(t,"GUIDE_STEP_HISTORY",(function(){return hn})),n.d(t,"GUIDE_PAUSE",(function(){return pn}));var r=n(2),i=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};
/*! shepherd.js 11.2.0 */var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function s(e,t){return!1!==t.clone&&t.isMergeableObject(e)?h((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function a(e,t,n){return e.concat(t).map((function(e){return s(e,n)}))}function u(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function l(e,t){try{return t in e}catch(e){return!1}}function c(e,t,n){var r={};return n.isMergeableObject(e)&&u(e).forEach((function(t){r[t]=s(e[t],n)})),u(t).forEach((function(i){(function(e,t){return l(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(l(e,i)&&n.isMergeableObject(t[i])?r[i]=function(e,t){if(!t.customMerge)return h;var n=t.customMerge(e);return"function"==typeof n?n:h}(i,n)(e[i],t[i],n):r[i]=s(t[i],n))})),r}function h(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||a,n.isMergeableObject=n.isMergeableObject||i,n.cloneUnlessOtherwiseSpecified=s;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):c(e,t,n):s(t,n)}h.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return h(e,n,t)}),{})};var p=h;function d(e){return e instanceof HTMLElement}function f(e){return"function"==typeof e}function g(e){return"string"==typeof e}function m(e){return void 0===e}class v{on(e,t,n,r=!1){return m(this.bindings)&&(this.bindings={}),m(this.bindings[e])&&(this.bindings[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:r}),this}once(e,t,n){return this.on(e,t,n,!0)}off(e,t){return m(this.bindings)||m(this.bindings[e])||(m(t)?delete this.bindings[e]:this.bindings[e].forEach((n,r)=>{n.handler===t&&this.bindings[e].splice(r,1)})),this}trigger(e,...t){return!m(this.bindings)&&this.bindings[e]&&this.bindings[e].forEach((n,r)=>{const{ctx:i,handler:o,once:s}=n,a=i||this;o.apply(a,t),s&&this.bindings[e].splice(r,1)}),this}}function y(e){const t=Object.getOwnPropertyNames(e.constructor.prototype);for(let n=0;n<t.length;n++){const r=t[n],i=e[r];"constructor"!==r&&"function"==typeof i&&(e[r]=i.bind(e))}return e}function b(e){const{event:t,selector:n}=e.options.advanceOn||{};if(!t)return console.error("advanceOn was defined, but no event name was passed.");{const r=function(e,t){return n=>{if(t.isOpen()){const r=t.el&&n.currentTarget===t.el;(!m(e)&&n.currentTarget.matches(e)||r)&&t.tour.next()}}}(n,e);let i;try{i=document.querySelector(n)}catch(e){}if(!m(n)&&!i)return console.error("No element was found for the selector supplied to advanceOn: "+n);i?(i.addEventListener(t,r),e.on("destroy",()=>i.removeEventListener(t,r))):(document.body.addEventListener(t,r,!0),e.on("destroy",()=>document.body.removeEventListener(t,r,!0)))}}function $(e){return g(e)&&""!==e?"-"!==e.charAt(e.length-1)?e+"-":e:""}function w(e){return null==e||(!e.element||!e.on)}function x(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})}function S(){return(S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const A=Math.min,C=Math.max,F=Math.round,T=Math.floor,D=e=>({x:e,y:e}),R={left:"right",right:"left",bottom:"top",top:"bottom"},k={start:"end",end:"start"};function I(e,t,n){return C(e,A(t,n))}function P(e,t){return"function"==typeof e?e(t):e}function O(e){return e.split("-")[0]}function _(e){return e.split("-")[1]}function j(e){return"x"===e?"y":"x"}function L(e){return"y"===e?"height":"width"}function N(e){return["top","bottom"].includes(O(e))?"y":"x"}function M(e){return j(N(e))}function B(e){return e.replace(/start|end/g,e=>k[e])}function H(e){return e.replace(/left|right|bottom|top/g,e=>R[e])}function U(e){return"number"!=typeof e?function(e){return S({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function V(e){return S({},e,{top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height})}const q=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],z=["mainAxis","crossAxis","limiter"];function K(e,t,n){let{reference:r,floating:i}=e;const o=N(t),s=M(t),a=L(s),u=O(t),l="y"===o,c=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let d;switch(u){case"top":d={x:c,y:r.y-i.height};break;case"bottom":d={x:c,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:h};break;case"left":d={x:r.x-i.width,y:h};break;default:d={x:r.x,y:r.y}}switch(_(t)){case"start":d[s]-=p*(n&&l?-1:1);break;case"end":d[s]+=p*(n&&l?-1:1)}return d}async function G(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:h="floating",altBoundary:p=!1,padding:d=0}=P(t,e),f=U(d),g=a[p?"floating"===h?"reference":"floating":h],m=V(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(g)))||n?g:g.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),v="floating"===h?S({},s.floating,{x:r,y:i}):s.reference,y=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),b=await(null==o.isElement?void 0:o.isElement(y))&&await(null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},$=V(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:v,offsetParent:y,strategy:u}):v);return{top:(m.top-$.top+f.top)/b.y,bottom:($.bottom-m.bottom+f.bottom)/b.y,left:(m.left-$.left+f.left)/b.x,right:($.right-m.right+f.right)/b.x}}const W=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:o,initialPlacement:s,platform:a,elements:u}=t,l=P(e,t),{mainAxis:c=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:g=!0}=l,m=E(l,q),v=O(r),y=O(s)===s,b=await(null==a.isRTL?void 0:a.isRTL(u.floating)),$=p||(y||!g?[H(s)]:function(e){const t=H(e);return[B(e),t,B(t)]}(s));p||"none"===f||$.push(...function(e,t,n,r){const i=_(e);let o=function(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}(O(e),"start"===n,r);return i&&(o=o.map(e=>e+"-"+i),t&&(o=o.concat(o.map(B)))),o}(s,g,f,b));const w=[s,...$],x=await G(t,m),S=[];let A=(null==(n=i.flip)?void 0:n.overflows)||[];if(c&&S.push(x[v]),h){const e=function(e,t,n){void 0===n&&(n=!1);const r=_(e),i=M(e),o=L(i);let s="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=H(s)),[s,H(s)]}(r,o,b);S.push(x[e[0]],x[e[1]])}if(A=[...A,{placement:r,overflows:S}],!S.every(e=>e<=0)){var C,F;const e=((null==(C=i.flip)?void 0:C.index)||0)+1,t=w[e];if(t)return{data:{index:e,overflows:A},reset:{placement:t}};let n=null==(F=A.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:F.placement;if(!n)switch(d){case"bestFit":{var T;const e=null==(T=A.map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:T[0];e&&(n=e);break}case"initialPlacement":n=s}if(r!==n)return{reset:{placement:n}}}return{}}}},Y=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:u=!0,crossAxis:l=!0}=P(e,t),c={x:n,y:r},h=N(i),p=j(h);let d=c[p],f=c[h];const g=P(a,t),m="number"==typeof g?{mainAxis:g,crossAxis:0}:S({mainAxis:0,crossAxis:0},g);if(u){const e="y"===p?"height":"width",t=o.reference[p]-o.floating[e]+m.mainAxis,n=o.reference[p]+o.reference[e]-m.mainAxis;d<t?d=t:d>n&&(d=n)}if(l){var v,y;const e="y"===p?"width":"height",t=["top","left"].includes(O(i)),n=o.reference[h]-o.floating[e]+(t&&(null==(v=s.offset)?void 0:v[h])||0)+(t?0:m.crossAxis),r=o.reference[h]+o.reference[e]+(t?0:(null==(y=s.offset)?void 0:y[h])||0)-(t?m.crossAxis:0);f<n?f=n:f>r&&(f=r)}return{[p]:d,[h]:f}}}};function X(e){return Z(e)?(e.nodeName||"").toLowerCase():"#document"}function J(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Q(e){var t;return null==(t=(Z(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Z(e){return e instanceof Node||e instanceof J(e).Node}function ee(e){return e instanceof Element||e instanceof J(e).Element}function te(e){return e instanceof HTMLElement||e instanceof J(e).HTMLElement}function ne(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof J(e).ShadowRoot)}function re(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ue(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function ie(e){return["table","td","th"].includes(X(e))}function oe(e){const t=se(),n=ue(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some(e=>(n.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(n.contain||"").includes(e))}function se(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function ae(e){return["html","body","#document"].includes(X(e))}function ue(e){return J(e).getComputedStyle(e)}function le(e){return ee(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ce(e){if("html"===X(e))return e;const t=e.assignedSlot||e.parentNode||ne(e)&&e.host||Q(e);return ne(t)?t.host:t}function he(e,t){var n;void 0===t&&(t=[]);const r=function e(t){const n=ce(t);return ae(n)?t.ownerDocument?t.ownerDocument.body:t.body:te(n)&&re(n)?n:e(n)}(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=J(r);return i?t.concat(o,o.visualViewport||[],re(r)?r:[]):t.concat(r,he(r))}function pe(e){const t=ue(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=te(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=F(n)!==o||F(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function de(e){return ee(e)?e:e.contextElement}function fe(e){const t=de(e);if(!te(t))return D(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=pe(t);let s=(o?F(n.width):n.width)/r,a=(o?F(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const ge=D(0);function me(e){const t=J(e);return se()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:ge}function ve(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=de(e);let s=D(1);t&&(r?ee(r)&&(s=fe(r)):s=fe(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==J(e))&&t}(o,n,r)?me(o):D(0);let u=(i.left+a.x)/s.x,l=(i.top+a.y)/s.y,c=i.width/s.x,h=i.height/s.y;if(o){const e=J(o),t=r&&ee(r)?J(r):r;let n=e.frameElement;for(;n&&r&&t!==e;){const e=fe(n),t=n.getBoundingClientRect(),r=ue(n),i=t.left+(n.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(n.clientTop+parseFloat(r.paddingTop))*e.y;u*=e.x,l*=e.y,c*=e.x,h*=e.y,u+=i,l+=o,n=J(n).frameElement}}return V({width:c,height:h,x:u,y:l})}function ye(e){return ve(Q(e)).left+le(e).scrollLeft}function be(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=J(e),r=Q(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,u=0;if(i){o=i.width,s=i.height;const e=se();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,u=i.offsetTop)}return{width:o,height:s,x:a,y:u}}(e,n);else if("document"===t)r=function(e){const t=Q(e),n=le(e),r=e.ownerDocument.body,i=C(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=C(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+ye(e);const a=-n.scrollTop;return"rtl"===ue(r).direction&&(s+=C(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}(Q(e));else if(ee(t))r=function(e,t){const n=ve(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=te(e)?fe(e):D(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{const n=me(e);r=S({},t,{x:t.x-n.x,y:t.y-n.y})}return V(r)}function $e(e,t){const n=ce(e);return!(n===t||!ee(n)||ae(n))&&("fixed"===ue(n).position||$e(n,t))}function we(e,t,n){const r=te(t),i=Q(t),o="fixed"===n,s=ve(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const u=D(0);if(r||!r&&!o)if(("body"!==X(t)||re(i))&&(a=le(t)),r){const e=ve(t,!0,o,t);u.x=e.x+t.clientLeft,u.y=e.y+t.clientTop}else i&&(u.x=ye(i));return{x:s.left+a.scrollLeft-u.x,y:s.top+a.scrollTop-u.y,width:s.width,height:s.height}}function xe(e,t){return te(e)&&"fixed"!==ue(e).position?t?t(e):e.offsetParent:null}function Se(e,t){const n=J(e);if(!te(e))return n;let r=xe(e,t);for(;r&&ie(r)&&"static"===ue(r).position;)r=xe(r,t);return r&&("html"===X(r)||"body"===X(r)&&"static"===ue(r).position&&!oe(r))?n:r||function(e){let t=ce(e);for(;te(t)&&!ae(t);){if(oe(t))return t;t=ce(t)}return null}(e)||n}const Ee={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=te(n),o=Q(n);if(n===o)return t;let s={scrollLeft:0,scrollTop:0},a=D(1);const u=D(0);if((i||!i&&"fixed"!==r)&&(("body"!==X(n)||re(o))&&(s=le(n)),te(n))){const e=ve(n);a=fe(n),u.x=e.x+n.clientLeft,u.y=e.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+u.x,y:t.y*a.y-s.scrollTop*a.y+u.y}},getDocumentElement:Q,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[..."clippingAncestors"===n?function(e,t){const n=t.get(e);if(n)return n;let r=he(e).filter(e=>ee(e)&&"body"!==X(e)),i=null;const o="fixed"===ue(e).position;let s=o?ce(e):e;for(;ee(s)&&!ae(s);){const t=ue(s),n=oe(s);n||"fixed"!==t.position||(i=null);(o?!n&&!i:!n&&"static"===t.position&&!!i&&["absolute","fixed"].includes(i.position)||re(s)&&!n&&$e(e,s))?r=r.filter(e=>e!==s):i=t,s=ce(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=o[0],a=o.reduce((e,n)=>{const r=be(t,n,i);return e.top=C(r.top,e.top),e.right=A(r.right,e.right),e.bottom=A(r.bottom,e.bottom),e.left=C(r.left,e.left),e},be(t,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:Se,getElementRects:async function(e){let{reference:t,floating:n,strategy:r}=e;const i=this.getOffsetParent||Se,o=this.getDimensions;return{reference:we(t,await i(n),r),floating:S({x:0,y:0},await o(n))}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){return pe(e)},getScale:fe,isElement:ee,isRTL:function(e){return"rtl"===ue(e).direction}};function Ae(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:u=!1}=r,l=de(e),c=i||o?[...l?he(l):[],...he(t)]:[];c.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});const h=l&&a?function(e,t){let n,r=null;const i=Q(e);function o(){clearTimeout(n),r&&r.disconnect(),r=null}return function s(a,u){void 0===a&&(a=!1),void 0===u&&(u=1),o();const{left:l,top:c,width:h,height:p}=e.getBoundingClientRect();if(a||t(),!h||!p)return;const d={rootMargin:-T(c)+"px "+-T(i.clientWidth-(l+h))+"px "+-T(i.clientHeight-(c+p))+"px "+-T(l)+"px",threshold:C(0,A(1,u))||1};let f=!0;function g(e){const t=e[0].intersectionRatio;if(t!==u){if(!f)return s();t?s(!1,t):n=setTimeout(()=>{s(!1,1e-7)},100)}f=!1}try{r=new IntersectionObserver(g,S({},d,{root:i.ownerDocument}))}catch(e){r=new IntersectionObserver(g,d)}r.observe(e)}(!0),o}(l,n):null;let p,d=-1,f=null;s&&(f=new ResizeObserver(e=>{let[r]=e;r&&r.target===l&&f&&(f.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{f&&f.observe(t)})),n()}),l&&!u&&f.observe(l),f.observe(t));let g=u?ve(e):null;return u&&function t(){const r=ve(e);!g||r.x===g.x&&r.y===g.y&&r.width===g.width&&r.height===g.height||n();g=r,p=requestAnimationFrame(t)}(),n(),()=>{c.forEach(e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),h&&h(),f&&f.disconnect(),f=null,u&&cancelAnimationFrame(p)}}const Ce=(e,t,n)=>{const r=new Map,i=S({platform:Ee},n),o=S({},i.platform,{_c:r});return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),u=await(null==s.isRTL?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:h}=K(l,r,u),p=r,d={},f=0;for(let n=0;n<a.length;n++){const{name:o,fn:g}=a[n],{x:m,y:v,data:y,reset:b}=await g({x:c,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:d,rects:l,platform:s,elements:{reference:e,floating:t}});c=null!=m?m:c,h=null!=v?v:h,d=S({},d,{[o]:S({},d[o],y)}),b&&f<=50&&(f++,"object"==typeof b&&(b.placement&&(p=b.placement),b.rects&&(l=!0===b.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:c,y:h}=K(l,p,u))),n=-1)}return{x:c,y:h,placement:p,strategy:i,middlewareData:d}})(e,t,S({},i,{platform:o}))};function Fe(e){e.cleanup&&e.cleanup();const t=e._getResolvedAttachToOptions();let n=t.element;const r=function(e,t){const n={strategy:"absolute",middleware:[]},r=function(e){if(e.options.arrow&&e.el)return e.el.querySelector(".shepherd-arrow");return!1}(t);w(e)||(n.middleware.push(W(),function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,o=P(e,t),{mainAxis:s=!0,crossAxis:a=!1,limiter:u={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}}}=o,l=E(o,z),c={x:n,y:r},h=await G(t,l),p=N(O(i)),d=j(p);let f=c[d],g=c[p];if(s){const e="y"===d?"bottom":"right";f=I(f+h["y"===d?"top":"left"],f,f-h[e])}if(a){const e="y"===p?"bottom":"right";g=I(g+h["y"===p?"top":"left"],g,g-h[e])}const m=u.fn(S({},t,{[d]:f,[p]:g}));return S({},m,{data:{x:m.x-n,y:m.y-r}})}}}({limiter:Y(),crossAxis:!0})),r&&n.middleware.push((e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a}=t,{element:u,padding:l=0}=P(e,t)||{};if(null==u)return{};const c=U(l),h={x:n,y:r},p=M(i),d=L(p),f=await s.getDimensions(u),g="y"===p,m=g?"top":"left",v=g?"bottom":"right",y=g?"clientHeight":"clientWidth",b=o.reference[d]+o.reference[p]-h[p]-o.floating[d],$=h[p]-o.reference[p],w=await(null==s.getOffsetParent?void 0:s.getOffsetParent(u));let x=w?w[y]:0;x&&await(null==s.isElement?void 0:s.isElement(w))||(x=a.floating[y]||o.floating[d]);const S=b/2-$/2,E=x/2-f[d]/2-1,C=A(c[m],E),F=A(c[v],E),T=C,D=x-f[d]-F,R=x/2-f[d]/2+S,k=I(T,R,D),O=null!=_(i)&&R!=k&&o.reference[d]/2-(R<T?C:F)-f[d]/2<0?R<T?T-R:D-R:0;return{[p]:h[p]-O,data:{[p]:k,centerOffset:R-k+O}}}}))({element:r})),n.placement=e.on);return p(t.options.floatingUIOptions||{},n)}(t,e),i=w(t);if(i){n=document.body;e.shepherdElementComponent.getElement().classList.add("shepherd-centered")}return e.cleanup=Ae(n,e.el,()=>{e.el?function(e,t,n,r){Ce(e,t.el,n).then(function(e,t){return({x:n,y:r,placement:i,middlewareData:o})=>e.el?(t?Object.assign(e.el.style,{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}):Object.assign(e.el.style,{position:"absolute",left:n+"px",top:r+"px"}),e.el.dataset.popperPlacement=i,function(e,t){const n=e.querySelector(".shepherd-arrow");if(n&&t.arrow){const{x:e,y:r}=t.arrow;Object.assign(n.style,{left:null!=e?e+"px":"",top:null!=r?r+"px":""})}}(e.el,o),e):e}(t,r)).then(e=>new Promise(t=>{setTimeout(()=>t(e),300)})).then(e=>{e&&e.el&&e.el.focus({preventScroll:!0})})}(n,e,r,i):e.cleanup()}),e.target=t.element,r}function Te(){}function De(e,t){for(const n in t)e[n]=t[n];return e}function Re(e){return e()}function ke(){return Object.create(null)}function Ie(e){e.forEach(Re)}function Pe(e){return"function"==typeof e}function Oe(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function _e(e,t){e.appendChild(t)}function je(e,t,n){e.insertBefore(t,n||null)}function Le(e){e.parentNode&&e.parentNode.removeChild(e)}function Ne(e){return document.createElement(e)}function Me(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Be(e){return document.createTextNode(e)}function He(){return Be(" ")}function Ue(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Ve(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const qe=["width","height"];function ze(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)null==t[r]?e.removeAttribute(r):"style"===r?e.style.cssText=t[r]:"__value"===r?e.value=e[r]=t[r]:n[r]&&n[r].set&&-1===qe.indexOf(r)?e[r]=t[r]:Ve(e,r,t[r])}function Ke(e,t,n){e.classList[n?"add":"remove"](t)}let Ge;function We(e){Ge=e}function Ye(){if(!Ge)throw new Error("Function called outside component initialization");return Ge}function Xe(e){Ye().$$.after_update.push(e)}const Je=[],Qe=[];let Ze=[];const et=[],tt=Promise.resolve();let nt=!1;function rt(e){Ze.push(e)}const it=new Set;let ot=0;function st(){if(0!==ot)return;const e=Ge;do{try{for(;ot<Je.length;){const e=Je[ot];ot++,We(e),at(e.$$)}}catch(e){throw Je.length=0,ot=0,e}for(We(null),Je.length=0,ot=0;Qe.length;)Qe.pop()();for(let e=0;e<Ze.length;e+=1){const t=Ze[e];it.has(t)||(it.add(t),t())}Ze.length=0}while(Je.length);for(;et.length;)et.pop()();nt=!1,it.clear(),We(e)}function at(e){if(null!==e.fragment){e.update(),Ie(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(rt)}}const ut=new Set;let lt;function ct(){lt={r:0,c:[],p:lt}}function ht(){lt.r||Ie(lt.c),lt=lt.p}function pt(e,t){e&&e.i&&(ut.delete(e),e.i(t))}function dt(e,t,n,r){if(e&&e.o){if(ut.has(e))return;ut.add(e),lt.c.push(()=>{ut.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function ft(e){e&&e.c()}function gt(e,t,n,r){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),r||rt(()=>{const t=e.$$.on_mount.map(Re).filter(Pe);e.$$.on_destroy?e.$$.on_destroy.push(...t):Ie(t),e.$$.on_mount=[]}),o.forEach(rt)}function mt(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];Ze.forEach(r=>-1===e.indexOf(r)?t.push(r):n.push(r)),n.forEach(e=>e()),Ze=t}(n.after_update),Ie(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function vt(e,t){-1===e.$$.dirty[0]&&(Je.push(e),nt||(nt=!0,tt.then(st)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function yt(e,t,n,r,i,o,s,a=[-1]){const u=Ge;We(e);const l=e.$$={fragment:null,ctx:[],props:o,update:Te,not_equal:i,bound:ke(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:ke(),dirty:a,skip_bound:!1,root:t.target||u.$$.root};s&&s(l.root);let c=!1;if(l.ctx=n?n(e,t.props||{},(t,n,...r)=>{const o=r.length?r[0]:n;return l.ctx&&i(l.ctx[t],l.ctx[t]=o)&&(!l.skip_bound&&l.bound[t]&&l.bound[t](o),c&&vt(e,t)),n}):[],l.update(),c=!0,Ie(l.before_update),l.fragment=!!r&&r(l.ctx),t.target){if(t.hydrate){const e=(h=t.target,Array.from(h.childNodes));l.fragment&&l.fragment.l(e),e.forEach(Le)}else l.fragment&&l.fragment.c();t.intro&&pt(e.$$.fragment),gt(e,t.target,t.anchor,t.customElement),st()}var h;We(u)}class bt{$destroy(){mt(this,1),this.$destroy=Te}$on(e,t){if(!Pe(t))return Te;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function $t(e){let t,n,r,i,o;return{c(){t=Ne("button"),Ve(t,"aria-label",n=e[3]?e[3]:null),Ve(t,"class",r=`${e[1]||""} shepherd-button ${e[4]?"shepherd-button-secondary":""}`),t.disabled=e[2],Ve(t,"tabindex","0")},m(n,r){je(n,t,r),t.innerHTML=e[5],i||(o=Ue(t,"click",(function(){Pe(e[0])&&e[0].apply(this,arguments)})),i=!0)},p(i,[o]){e=i,32&o&&(t.innerHTML=e[5]),8&o&&n!==(n=e[3]?e[3]:null)&&Ve(t,"aria-label",n),18&o&&r!==(r=`${e[1]||""} shepherd-button ${e[4]?"shepherd-button-secondary":""}`)&&Ve(t,"class",r),4&o&&(t.disabled=e[2])},i:Te,o:Te,d(e){e&&Le(t),i=!1,o()}}}function wt(e,t,n){let r,i,o,s,a,u,{config:l,step:c}=t;function h(e){return f(e)?e.call(c):e}return e.$$set=e=>{"config"in e&&n(6,l=e.config),"step"in e&&n(7,c=e.step)},e.$$.update=()=>{192&e.$$.dirty&&(n(0,r=l.action?l.action.bind(c.tour):null),n(1,i=l.classes),n(2,o=!!l.disabled&&h(l.disabled)),n(3,s=l.label?h(l.label):null),n(4,a=l.secondary),n(5,u=l.text?h(l.text):null))},[r,i,o,s,a,u,l,c]}class xt extends bt{constructor(e){super(),yt(this,e,wt,$t,Oe,{config:6,step:7})}}function St(e,t,n){const r=e.slice();return r[2]=t[n],r}function Et(e){let t,n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=At(St(e,r,t));const o=e=>dt(i[e],1,1,()=>{i[e]=null});return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=Be("")},m(e,r){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,r);je(e,t,r),n=!0},p(e,n){if(3&n){let s;for(r=e[1],s=0;s<r.length;s+=1){const o=St(e,r,s);i[s]?(i[s].p(o,n),pt(i[s],1)):(i[s]=At(o),i[s].c(),pt(i[s],1),i[s].m(t.parentNode,t))}for(ct(),s=r.length;s<i.length;s+=1)o(s);ht()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)pt(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)dt(i[e]);n=!1},d(e){!function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(i,e),e&&Le(t)}}}function At(e){let t,n;return t=new xt({props:{config:e[2],step:e[0]}}),{c(){ft(t.$$.fragment)},m(e,r){gt(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.config=e[2]),1&n&&(r.step=e[0]),t.$set(r)},i(e){n||(pt(t.$$.fragment,e),n=!0)},o(e){dt(t.$$.fragment,e),n=!1},d(e){mt(t,e)}}}function Ct(e){let t,n,r=e[1]&&Et(e);return{c(){t=Ne("footer"),r&&r.c(),Ve(t,"class","shepherd-footer")},m(e,i){je(e,t,i),r&&r.m(t,null),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&pt(r,1)):(r=Et(e),r.c(),pt(r,1),r.m(t,null)):r&&(ct(),dt(r,1,1,()=>{r=null}),ht())},i(e){n||(pt(r),n=!0)},o(e){dt(r),n=!1},d(e){e&&Le(t),r&&r.d()}}}function Ft(e,t,n){let r,{step:i}=t;return e.$$set=e=>{"step"in e&&n(0,i=e.step)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=i.options.buttons)},[i,r]}class Tt extends bt{constructor(e){super(),yt(this,e,Ft,Ct,Oe,{step:0})}}function Dt(e){let t,n,r,i,o;return{c(){t=Ne("button"),n=Ne("span"),n.textContent="Ã—",Ve(n,"aria-hidden","true"),Ve(t,"aria-label",r=e[0].label?e[0].label:"Close Tour"),Ve(t,"class","shepherd-cancel-icon"),Ve(t,"type","button")},m(r,s){je(r,t,s),_e(t,n),i||(o=Ue(t,"click",e[1]),i=!0)},p(e,[n]){1&n&&r!==(r=e[0].label?e[0].label:"Close Tour")&&Ve(t,"aria-label",r)},i:Te,o:Te,d(e){e&&Le(t),i=!1,o()}}}function Rt(e,t,n){let{cancelIcon:r,step:i}=t;return e.$$set=e=>{"cancelIcon"in e&&n(0,r=e.cancelIcon),"step"in e&&n(2,i=e.step)},[r,e=>{e.preventDefault(),i.cancel()},i]}class kt extends bt{constructor(e){super(),yt(this,e,Rt,Dt,Oe,{cancelIcon:0,step:2})}}function It(e){let t;return{c(){t=Ne("h3"),Ve(t,"id",e[1]),Ve(t,"class","shepherd-title")},m(n,r){je(n,t,r),e[3](t)},p(e,[n]){2&n&&Ve(t,"id",e[1])},i:Te,o:Te,d(n){n&&Le(t),e[3](null)}}}function Pt(e,t,n){let{labelId:r,element:i,title:o}=t;return Xe(()=>{f(o)&&n(2,o=o()),n(0,i.innerHTML=o,i)}),e.$$set=e=>{"labelId"in e&&n(1,r=e.labelId),"element"in e&&n(0,i=e.element),"title"in e&&n(2,o=e.title)},[i,r,o,function(e){Qe[e?"unshift":"push"](()=>{i=e,n(0,i)})}]}class Ot extends bt{constructor(e){super(),yt(this,e,Pt,It,Oe,{labelId:1,element:0,title:2})}}function _t(e){let t,n;return t=new Ot({props:{labelId:e[0],title:e[2]}}),{c(){ft(t.$$.fragment)},m(e,r){gt(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.labelId=e[0]),4&n&&(r.title=e[2]),t.$set(r)},i(e){n||(pt(t.$$.fragment,e),n=!0)},o(e){dt(t.$$.fragment,e),n=!1},d(e){mt(t,e)}}}function jt(e){let t,n;return t=new kt({props:{cancelIcon:e[3],step:e[1]}}),{c(){ft(t.$$.fragment)},m(e,r){gt(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.cancelIcon=e[3]),2&n&&(r.step=e[1]),t.$set(r)},i(e){n||(pt(t.$$.fragment,e),n=!0)},o(e){dt(t.$$.fragment,e),n=!1},d(e){mt(t,e)}}}function Lt(e){let t,n,r,i=e[2]&&_t(e),o=e[3]&&e[3].enabled&&jt(e);return{c(){t=Ne("header"),i&&i.c(),n=He(),o&&o.c(),Ve(t,"class","shepherd-header")},m(e,s){je(e,t,s),i&&i.m(t,null),_e(t,n),o&&o.m(t,null),r=!0},p(e,[r]){e[2]?i?(i.p(e,r),4&r&&pt(i,1)):(i=_t(e),i.c(),pt(i,1),i.m(t,n)):i&&(ct(),dt(i,1,1,()=>{i=null}),ht()),e[3]&&e[3].enabled?o?(o.p(e,r),8&r&&pt(o,1)):(o=jt(e),o.c(),pt(o,1),o.m(t,null)):o&&(ct(),dt(o,1,1,()=>{o=null}),ht())},i(e){r||(pt(i),pt(o),r=!0)},o(e){dt(i),dt(o),r=!1},d(e){e&&Le(t),i&&i.d(),o&&o.d()}}}function Nt(e,t,n){let r,i,{labelId:o,step:s}=t;return e.$$set=e=>{"labelId"in e&&n(0,o=e.labelId),"step"in e&&n(1,s=e.step)},e.$$.update=()=>{2&e.$$.dirty&&(n(2,r=s.options.title),n(3,i=s.options.cancelIcon))},[o,s,r,i]}class Mt extends bt{constructor(e){super(),yt(this,e,Nt,Lt,Oe,{labelId:0,step:1})}}function Bt(e){let t;return{c(){t=Ne("div"),Ve(t,"class","shepherd-text"),Ve(t,"id",e[1])},m(n,r){je(n,t,r),e[3](t)},p(e,[n]){2&n&&Ve(t,"id",e[1])},i:Te,o:Te,d(n){n&&Le(t),e[3](null)}}}function Ht(e,t,n){let{descriptionId:r,element:i,step:o}=t;return Xe(()=>{let{text:e}=o.options;f(e)&&(e=e.call(o)),d(e)?i.appendChild(e):n(0,i.innerHTML=e,i)}),e.$$set=e=>{"descriptionId"in e&&n(1,r=e.descriptionId),"element"in e&&n(0,i=e.element),"step"in e&&n(2,o=e.step)},[i,r,o,function(e){Qe[e?"unshift":"push"](()=>{i=e,n(0,i)})}]}class Ut extends bt{constructor(e){super(),yt(this,e,Ht,Bt,Oe,{descriptionId:1,element:0,step:2})}}function Vt(e){let t,n;return t=new Mt({props:{labelId:e[1],step:e[2]}}),{c(){ft(t.$$.fragment)},m(e,r){gt(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.labelId=e[1]),4&n&&(r.step=e[2]),t.$set(r)},i(e){n||(pt(t.$$.fragment,e),n=!0)},o(e){dt(t.$$.fragment,e),n=!1},d(e){mt(t,e)}}}function qt(e){let t,n;return t=new Ut({props:{descriptionId:e[0],step:e[2]}}),{c(){ft(t.$$.fragment)},m(e,r){gt(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.descriptionId=e[0]),4&n&&(r.step=e[2]),t.$set(r)},i(e){n||(pt(t.$$.fragment,e),n=!0)},o(e){dt(t.$$.fragment,e),n=!1},d(e){mt(t,e)}}}function zt(e){let t,n;return t=new Tt({props:{step:e[2]}}),{c(){ft(t.$$.fragment)},m(e,r){gt(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.step=e[2]),t.$set(r)},i(e){n||(pt(t.$$.fragment,e),n=!0)},o(e){dt(t.$$.fragment,e),n=!1},d(e){mt(t,e)}}}function Kt(e){let t,n,r,i,o=!m(e[2].options.title)||e[2].options.cancelIcon&&e[2].options.cancelIcon.enabled,s=!m(e[2].options.text),a=Array.isArray(e[2].options.buttons)&&e[2].options.buttons.length,u=o&&Vt(e),l=s&&qt(e),c=a&&zt(e);return{c(){t=Ne("div"),u&&u.c(),n=He(),l&&l.c(),r=He(),c&&c.c(),Ve(t,"class","shepherd-content")},m(e,o){je(e,t,o),u&&u.m(t,null),_e(t,n),l&&l.m(t,null),_e(t,r),c&&c.m(t,null),i=!0},p(e,[i]){4&i&&(o=!m(e[2].options.title)||e[2].options.cancelIcon&&e[2].options.cancelIcon.enabled),o?u?(u.p(e,i),4&i&&pt(u,1)):(u=Vt(e),u.c(),pt(u,1),u.m(t,n)):u&&(ct(),dt(u,1,1,()=>{u=null}),ht()),4&i&&(s=!m(e[2].options.text)),s?l?(l.p(e,i),4&i&&pt(l,1)):(l=qt(e),l.c(),pt(l,1),l.m(t,r)):l&&(ct(),dt(l,1,1,()=>{l=null}),ht()),4&i&&(a=Array.isArray(e[2].options.buttons)&&e[2].options.buttons.length),a?c?(c.p(e,i),4&i&&pt(c,1)):(c=zt(e),c.c(),pt(c,1),c.m(t,null)):c&&(ct(),dt(c,1,1,()=>{c=null}),ht())},i(e){i||(pt(u),pt(l),pt(c),i=!0)},o(e){dt(u),dt(l),dt(c),i=!1},d(e){e&&Le(t),u&&u.d(),l&&l.d(),c&&c.d()}}}function Gt(e,t,n){let{descriptionId:r,labelId:i,step:o}=t;return e.$$set=e=>{"descriptionId"in e&&n(0,r=e.descriptionId),"labelId"in e&&n(1,i=e.labelId),"step"in e&&n(2,o=e.step)},[r,i,o]}class Wt extends bt{constructor(e){super(),yt(this,e,Gt,Kt,Oe,{descriptionId:0,labelId:1,step:2})}}function Yt(e){let t;return{c(){t=Ne("div"),Ve(t,"class","shepherd-arrow"),Ve(t,"data-popper-arrow","")},m(e,n){je(e,t,n)},d(e){e&&Le(t)}}}function Xt(e){let t,n,r,i,o,s,a,u,l=e[4].options.arrow&&e[4].options.attachTo&&e[4].options.attachTo.element&&e[4].options.attachTo.on&&Yt();r=new Wt({props:{descriptionId:e[2],labelId:e[3],step:e[4]}});let c=[{"aria-describedby":i=m(e[4].options.text)?null:e[2]},{"aria-labelledby":o=e[4].options.title?e[3]:null},e[1],{role:"dialog"},{tabindex:"0"}],h={};for(let e=0;e<c.length;e+=1)h=De(h,c[e]);return{c(){t=Ne("div"),l&&l.c(),n=He(),ft(r.$$.fragment),ze(t,h),Ke(t,"shepherd-has-cancel-icon",e[5]),Ke(t,"shepherd-has-title",e[6]),Ke(t,"shepherd-element",!0)},m(i,o){je(i,t,o),l&&l.m(t,null),_e(t,n),gt(r,t,null),e[13](t),s=!0,a||(u=Ue(t,"keydown",e[7]),a=!0)},p(e,[a]){e[4].options.arrow&&e[4].options.attachTo&&e[4].options.attachTo.element&&e[4].options.attachTo.on?l||(l=Yt(),l.c(),l.m(t,n)):l&&(l.d(1),l=null);const u={};4&a&&(u.descriptionId=e[2]),8&a&&(u.labelId=e[3]),16&a&&(u.step=e[4]),r.$set(u),ze(t,h=function(e,t){const n={},r={},i={$$scope:1};let o=e.length;for(;o--;){const s=e[o],a=t[o];if(a){for(const e in s)e in a||(r[e]=1);for(const e in a)i[e]||(n[e]=a[e],i[e]=1);e[o]=a}else for(const e in s)i[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}(c,[(!s||20&a&&i!==(i=m(e[4].options.text)?null:e[2]))&&{"aria-describedby":i},(!s||24&a&&o!==(o=e[4].options.title?e[3]:null))&&{"aria-labelledby":o},2&a&&e[1],{role:"dialog"},{tabindex:"0"}])),Ke(t,"shepherd-has-cancel-icon",e[5]),Ke(t,"shepherd-has-title",e[6]),Ke(t,"shepherd-element",!0)},i(e){s||(pt(r.$$.fragment,e),s=!0)},o(e){dt(r.$$.fragment,e),s=!1},d(n){n&&Le(t),l&&l.d(),mt(r),e[13](null),a=!1,u()}}}function Jt(e){return e.split(" ").filter(e=>!!e.length)}function Qt(e,t,n){let r,i,o,{classPrefix:s,element:a,descriptionId:u,firstFocusableElement:l,focusableElements:c,labelId:h,lastFocusableElement:p,step:d,dataStepId:f}=t;var m;m=()=>{n(1,f={[`data-${s}shepherd-step-id`]:d.id}),n(9,c=a.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')),n(8,l=c[0]),n(10,p=c[c.length-1])},Ye().$$.on_mount.push(m),Xe(()=>{o!==d.options.classes&&(function(e){if(g(e)){const t=Jt(e);t.length&&a.classList.remove(...t)}}(o),o=d.options.classes,function(e){if(g(e)){const t=Jt(e);t.length&&a.classList.add(...t)}}(o))});return e.$$set=e=>{"classPrefix"in e&&n(11,s=e.classPrefix),"element"in e&&n(0,a=e.element),"descriptionId"in e&&n(2,u=e.descriptionId),"firstFocusableElement"in e&&n(8,l=e.firstFocusableElement),"focusableElements"in e&&n(9,c=e.focusableElements),"labelId"in e&&n(3,h=e.labelId),"lastFocusableElement"in e&&n(10,p=e.lastFocusableElement),"step"in e&&n(4,d=e.step),"dataStepId"in e&&n(1,f=e.dataStepId)},e.$$.update=()=>{16&e.$$.dirty&&(n(5,r=d.options&&d.options.cancelIcon&&d.options.cancelIcon.enabled),n(6,i=d.options&&d.options.title))},[a,f,u,h,d,r,i,e=>{const{tour:t}=d;switch(e.keyCode){case 9:if(0===c.length){e.preventDefault();break}e.shiftKey?(document.activeElement===l||document.activeElement.classList.contains("shepherd-element"))&&(e.preventDefault(),p.focus()):document.activeElement===p&&(e.preventDefault(),l.focus());break;case 27:t.options.exitOnEsc&&(e.stopPropagation(),d.cancel());break;case 37:t.options.keyboardNavigation&&(e.stopPropagation(),t.back());break;case 39:t.options.keyboardNavigation&&(e.stopPropagation(),t.next())}},l,c,p,s,()=>a,function(e){Qe[e?"unshift":"push"](()=>{a=e,n(0,a)})}]}class Zt extends bt{constructor(e){super(),yt(this,e,Qt,Xt,Oe,{classPrefix:11,element:0,descriptionId:2,firstFocusableElement:8,focusableElements:9,labelId:3,lastFocusableElement:10,step:4,dataStepId:1,getElement:12})}get getElement(){return this.$$.ctx[12]}}class en extends v{constructor(e,t={}){return super(e,t),this.tour=e,this.classPrefix=this.tour.options?$(this.tour.options.classPrefix):"",this.styles=e.styles,this._resolvedAttachTo=null,y(this),this._setOptions(t),this}cancel(){this.tour.cancel(),this.trigger("cancel")}complete(){this.tour.complete(),this.trigger("complete")}destroy(){var e;(e=this).cleanup&&e.cleanup(),e.cleanup=null,d(this.el)&&(this.el.remove(),this.el=null),this._updateStepTargetOnHide(),this.trigger("destroy")}getTour(){return this.tour}hide(){this.tour.modal.hide(),this.trigger("before-hide"),this.el&&(this.el.hidden=!0),this._updateStepTargetOnHide(),this.trigger("hide")}_resolveAttachToOptions(){return this._resolvedAttachTo=function(e){const t=e.options.attachTo||{},n=Object.assign({},t);if(f(n.element)&&(n.element=n.element.call(e)),g(n.element)){try{n.element=document.querySelector(n.element)}catch(e){}n.element||console.error("The element for this Shepherd step was not found "+t.element)}return n}(this),this._resolvedAttachTo}_getResolvedAttachToOptions(){return null===this._resolvedAttachTo?this._resolveAttachToOptions():this._resolvedAttachTo}isOpen(){return Boolean(this.el&&!this.el.hidden)}show(){return f(this.options.beforeShowPromise)?Promise.resolve(this.options.beforeShowPromise()).then(()=>this._show()):Promise.resolve(this._show())}updateStepOptions(e){Object.assign(this.options,e),this.shepherdElementComponent&&this.shepherdElementComponent.$set({step:this})}getElement(){return this.el}getTarget(){return this.target}_createTooltipContent(){const e=this.id+"-description",t=this.id+"-label";return this.shepherdElementComponent=new Zt({target:this.tour.options.stepsContainer||document.body,props:{classPrefix:this.classPrefix,descriptionId:e,labelId:t,step:this,styles:this.styles}}),this.shepherdElementComponent.getElement()}_scrollTo(e){const{element:t}=this._getResolvedAttachToOptions();f(this.options.scrollToHandler)?this.options.scrollToHandler(t):t instanceof Element&&"function"==typeof t.scrollIntoView&&t.scrollIntoView(e)}_getClassOptions(e){const t=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions,n=e.classes?e.classes:"",r=t&&t.classes?t.classes:"",i=[...n.split(" "),...r.split(" ")],o=new Set(i);return Array.from(o).join(" ").trim()}_setOptions(e={}){let t=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;t=p({},t||{}),this.options=Object.assign({arrow:!0},t,e,function(e,t){return{floatingUIOptions:p(e.floatingUIOptions||{},t.floatingUIOptions||{})}}(t,e));const{when:n}=this.options;this.options.classes=this._getClassOptions(e),this.destroy(),this.id=this.options.id||"step-"+x(),n&&Object.keys(n).forEach(e=>{this.on(e,n[e],this)})}_setupElements(){m(this.el)||this.destroy(),this.el=this._createTooltipContent(),this.options.advanceOn&&b(this),Fe(this)}_show(){this.trigger("before-show"),this._resolveAttachToOptions(),this._setupElements(),this.tour.modal||this.tour._setupModal(),this.tour.modal.setupForStep(this),this._styleTargetElementForStep(this),this.el.hidden=!1,this.options.scrollTo&&setTimeout(()=>{this._scrollTo(this.options.scrollTo)}),this.el.hidden=!1;const e=this.shepherdElementComponent.getElement(),t=this.target||document.body;t.classList.add(this.classPrefix+"shepherd-enabled"),t.classList.add(this.classPrefix+"shepherd-target"),e.classList.add("shepherd-enabled"),this.trigger("show")}_styleTargetElementForStep(e){const t=e.target;t&&(e.options.highlightClass&&t.classList.add(e.options.highlightClass),t.classList.remove("shepherd-target-click-disabled"),!1===e.options.canClickTarget&&t.classList.add("shepherd-target-click-disabled"))}_updateStepTargetOnHide(){const e=this.target||document.body;this.options.highlightClass&&e.classList.remove(this.options.highlightClass),e.classList.remove("shepherd-target-click-disabled",this.classPrefix+"shepherd-enabled",this.classPrefix+"shepherd-target")}}function tn(e){let t,n,r,i,o;return{c(){t=Me("svg"),n=Me("path"),Ve(n,"d",e[2]),Ve(t,"class",r=(e[1]?"shepherd-modal-is-visible":"")+" shepherd-modal-overlay-container")},m(r,s){je(r,t,s),_e(t,n),e[11](t),i||(o=Ue(t,"touchmove",e[3]),i=!0)},p(e,[i]){4&i&&Ve(n,"d",e[2]),2&i&&r!==(r=(e[1]?"shepherd-modal-is-visible":"")+" shepherd-modal-overlay-container")&&Ve(t,"class",r)},i:Te,o:Te,d(n){n&&Le(t),e[11](null),i=!1,o()}}}function nn(e,t,n){let{element:r,openingProperties:i}=t;x();let o,s=!1,a=void 0;u();function u(){n(4,i={width:0,height:0,x:0,y:0,r:0})}function l(){n(1,s=!1),d()}function c(e=0,t=0,r,o){if(o){const{y:s,height:a}=function(e,t){const n=e.getBoundingClientRect();let r=n.y||n.top,i=n.bottom||r+n.height;if(t){const e=t.getBoundingClientRect(),n=e.y||e.top,o=e.bottom||n+e.height;r=Math.max(r,n),i=Math.min(i,o)}return{y:r,height:Math.max(i-r,0)}}(o,r),{x:u,width:l,left:c}=o.getBoundingClientRect();n(4,i={width:l+2*e,height:a+2*e,x:(u||c)-e,y:s-e,r:t})}else u()}function h(){n(1,s=!0)}const p=e=>{e.preventDefault()};function d(){a&&(cancelAnimationFrame(a),a=void 0),window.removeEventListener("touchmove",p,{passive:!1})}return e.$$set=e=>{"element"in e&&n(0,r=e.element),"openingProperties"in e&&n(4,i=e.openingProperties)},e.$$.update=()=>{16&e.$$.dirty&&n(2,o=function({width:e,height:t,x:n=0,y:r=0,r:i=0}){const{innerWidth:o,innerHeight:s}=window,{topLeft:a=0,topRight:u=0,bottomRight:l=0,bottomLeft:c=0}="number"==typeof i?{topLeft:i,topRight:i,bottomRight:i,bottomLeft:i}:i;return`M${o},${s}H0V0H${o}V${s}ZM${n+a},${r}a${a},${a},0,0,0-${a},${a}V${t+r-c}a${c},${c},0,0,0,${c},${c}H${e+n-l}a${l},${l},0,0,0,${l}-${l}V${r+u}a${u},${u},0,0,0-${u}-${u}Z`}(i))},[r,s,o,e=>{e.stopPropagation()},i,()=>r,u,l,c,function(e){d(),e.tour.options.useModalOverlay?(!function(e){const{modalOverlayOpeningPadding:t,modalOverlayOpeningRadius:n}=e.options,r=function e(t){if(!t)return null;const n=t instanceof HTMLElement&&window.getComputedStyle(t).overflowY;return"hidden"!==n&&"visible"!==n&&t.scrollHeight>=t.clientHeight?t:e(t.parentElement)}(e.target),i=()=>{a=void 0,c(t,n,r,e.target),a=requestAnimationFrame(i)};i(),window.addEventListener("touchmove",p,{passive:!1})}(e),h()):l()},h,function(e){Qe[e?"unshift":"push"](()=>{r=e,n(0,r)})}]}class rn extends bt{constructor(e){super(),yt(this,e,nn,tn,Oe,{element:0,openingProperties:4,getElement:5,closeModalOpening:6,hide:7,positionModal:8,setupForStep:9,show:10})}get getElement(){return this.$$.ctx[5]}get closeModalOpening(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[7]}get positionModal(){return this.$$.ctx[8]}get setupForStep(){return this.$$.ctx[9]}get show(){return this.$$.ctx[10]}}const on=new v;class sn extends v{constructor(e={}){super(e),y(this);this.options=Object.assign({},{exitOnEsc:!0,keyboardNavigation:!0},e),this.classPrefix=$(this.options.classPrefix),this.steps=[],this.addSteps(this.options.steps);return["active","cancel","complete","inactive","show","start"].map(e=>{(e=>{this.on(e,t=>{(t=t||{}).tour=this,on.trigger(e,t)})})(e)}),this._setTourID(),this}addStep(e,t){let n=e;return n instanceof en?n.tour=this:n=new en(this,n),m(t)?this.steps.push(n):this.steps.splice(t,0,n),n}addSteps(e){return Array.isArray(e)&&e.forEach(e=>{this.addStep(e)}),this}back(){const e=this.steps.indexOf(this.currentStep);this.show(e-1,!1)}async cancel(){if(this.options.confirmCancel){const e="function"==typeof this.options.confirmCancel,t=this.options.confirmCancelMessage||"Are you sure you want to stop the tour?";(e?await this.options.confirmCancel():window.confirm(t))&&this._done("cancel")}else this._done("cancel")}complete(){this._done("complete")}getById(e){return this.steps.find(t=>t.id===e)}getCurrentStep(){return this.currentStep}hide(){const e=this.getCurrentStep();if(e)return e.hide()}isActive(){return on.activeTour===this}next(){const e=this.steps.indexOf(this.currentStep);e===this.steps.length-1?this.complete():this.show(e+1,!0)}removeStep(e){const t=this.getCurrentStep();this.steps.some((t,n)=>{if(t.id===e)return t.isOpen()&&t.hide(),t.destroy(),this.steps.splice(n,1),!0}),t&&t.id===e&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())}show(e=0,t=!0){const n=g(e)?this.getById(e):this.steps[e];if(n){this._updateStateBeforeShow();f(n.options.showOn)&&!n.options.showOn()?this._skipStep(n,t):(this.trigger("show",{step:n,previous:this.currentStep}),this.currentStep=n,n.show())}}start(){this.trigger("start"),this.focusedElBeforeOpen=document.activeElement,this.currentStep=null,this._setupModal(),this._setupActiveTour(),this.next()}_done(e){const t=this.steps.indexOf(this.currentStep);if(Array.isArray(this.steps)&&this.steps.forEach(e=>e.destroy()),function(e){if(e){const{steps:t}=e;t.forEach(e=>{e.options&&!1===e.options.canClickTarget&&e.options.attachTo&&e.target instanceof HTMLElement&&e.target.classList.remove("shepherd-target-click-disabled")})}}(this),this.trigger(e,{index:t}),on.activeTour=null,this.trigger("inactive",{tour:this}),this.modal&&this.modal.hide(),("cancel"===e||"complete"===e)&&this.modal){const e=document.querySelector(".shepherd-modal-overlay-container");e&&e.remove()}d(this.focusedElBeforeOpen)&&this.focusedElBeforeOpen.focus()}_setupActiveTour(){this.trigger("active",{tour:this}),on.activeTour=this}_setupModal(){this.modal=new rn({target:this.options.modalContainer||document.body,props:{classPrefix:this.classPrefix,styles:this.styles}})}_skipStep(e,t){const n=this.steps.indexOf(e);if(n===this.steps.length-1)this.complete();else{const e=t?n+1:n-1;this.show(e,t)}}_updateStateBeforeShow(){this.currentStep&&this.currentStep.hide(),this.isActive()||this._setupActiveTour()}_setTourID(){const e=this.options.tourName||"tour";this.id=`${e}--${x()}`}}const an="undefined"==typeof window;class un{constructor(){}}an?Object.assign(on,{Tour:un,Step:un}):Object.assign(on,{Tour:sn,Step:en});const ln="shepherd.guide_id",cn="shepherd.guide.current.step.id",hn="shepherd.guide.step.history",pn="shepherd.guide.pause";function dn(e,t,n,i,o,s,a){this.guideCancelSubscription=void 0,this.onPause=()=>{},this.onCancel=()=>{},this.startGuide=(e,t,r,i=!0)=>{if(i&&n.remove(hn),!t)return;const o=this._createGuide(e);this._addGuideSteps(o,t),this._startGuide(o,r)},this.resumeGuide=(e,t,r)=>{n.set(pn,!1),this.startGuide(e,t,r,!1)},this.isActive=()=>on.activeTour&&!this.isPaused(),this.isPaused=()=>"true"===n.get(pn),this.getGuideId=()=>n.get(ln),this.getCurrentStepId=()=>n.get(cn),this.subscribeToGuideCancel=e=>{angular.isFunction(e)&&(this.onCancel=e)},this.subscribeToGuidePause=e=>{angular.isFunction(e)&&(this.onPause=e)},this._createGuide=e=>(this._subscribeToGuideCanceled(),new on.Tour({name:e,useModalOverlay:!0,confirmCancel:!0,confirmCancelMessage:t.instant("guide.confirm.cancel.message"),defaultStepOptions:{classes:"shadow-md bg-purple-dark",scrollTo:!0}})),this._addGuideSteps=(e,t)=>{if(t.length>0&&e.addStep(this._getFirstStep(e,t)),t.length>2)for(let n=1;n<t.length-1;n++)e.addStep(this._getMiddleStep(e,t,n));t.length>1&&e.addStep(this._getLastStep(e,t))},this._startGuide=(o,a)=>{n.remove(pn);let u=o.steps.findIndex(e=>e.options.id===a);u<0&&(u=0);const l=o.steps[u],c=l.options.url;c&&(e.url(c),i.reload()),l.options.attachTo?r.GuideUtils.waitFor(l.options.attachTo.element,l.options.maxWaitTime).then(()=>o.show(u)).catch(e=>{console.log(e),s.error(t.instant("guide.start.unexpected.error.message"))}):o.show(u)},this._subscribeToGuideCanceled=()=>{this.guideCancelSubscription||(this.guideCancelSubscription=on.on("cancel",()=>{this._clearLocaleStorage();const e=on.activeTour.getCurrentStep();e&&angular.isFunction(e.hide)&&e.hide(),this.onCancel&&this.onCancel()}))},this._getFirstStep=function(e,t){const n=t.length>1?t[1]:void 0;return this._toGuideStep(e,void 0,t[0],n)},this._getMiddleStep=(e,t,n)=>this._toGuideStep(e,t[n-1],t[n],t[n+1]),this._getLastStep=(e,t)=>{const n=this._toGuideStep(e,null,t[t.length-1]);return n.buttons.push(this._getBackToGuidesButton(e)),n.buttons.push(this._getCancelButton(e)),n},this._getBackToGuidesButton=e=>this._getButton(t.instant("back.to.guides.btn"),()=>this._backToGuidesButton(e),!0),this._getCancelButton=e=>this._getButton(t.instant("common.close"),()=>this._cancelGuide(e,!1),!0),this._backToGuidesButton=t=>{e.path("guides"),this._cancelGuide(t,!1)},this._cancelGuide=(e,t=!0)=>{e.options.confirmCancel=t,e.cancel(),this.onCancel()&&this.onCancel()},this._toGuideStep=(e,n,r,i)=>{const o=this._toBaseGuideStep(e,t,r,()=>this._updateLocalStorage()),s=[];return r.skipPoint&&s.push(this._getSkipButton(e)),n&&s.push(this._getPreviousButton(e)),i&&s.push(this._getNextButton(e,r,i)),o.buttons=s,o},this._getPauseButton=e=>this._getButton(t.instant("pause.btn"),()=>this._pauseGuide(e),!0),this._getSkipButton=e=>this._getButton(t.instant("skip.btn"),()=>this._skipSteps(e),!0),this._skipSteps=e=>{const t=e.getCurrentStep(),n=e.steps.findIndex(e=>t.id===e.id);this._startGuide(e,this._getNextSkipPointId(e.steps,n))},this._getNextSkipPointId=(e,t)=>{for(let n=t+1;n<e.length;n++){const t=e.at(n);if(t.options.skipPoint)return t.id}return e.at(e.length-1).id},this._pauseGuide=e=>{e.hide();const t=this._getStepWhichCanBePaused(e.steps,e.getCurrentStep().id);this._saveStep(t),n.set(pn,!0);let r=!1;for(;!r;){const e=this._getHistory();e&&e.length>0&&e.at(e.length-1)!==t.options.id?this._removeLastStepFromHistory():r=!0}this.onPause()&&this.onPause()},this._getStepWhichCanBePaused=(e,t)=>{const n=e.findIndex(e=>e.id===t),r=e[n];return r.options.canBePaused?r:n>0?this._getStepWhichCanBePaused(e,e[n-1].id):void 0},this._getPreviousButton=e=>{const n=t.instant("previous.btn"),r=this._getPreviousButtonAction(e);return this._getButton(n,r)},this._getPreviousButtonAction=n=>()=>{const i=this._getPreviousStepIdFromHistory();let o;o=-1===i?n.steps.at(0):n.steps.find(e=>e.options.id===i);const a=n.getCurrentStep();a.hide(),a.options.initPreviousStep({GuideUtils:r.GuideUtils,ShepherdService:this},a.options.id).then(()=>{angular.isFunction(a.options.onPreviousClick)?a.options.onPreviousClick(n).then(e=>{!angular.isUndefined(e)&&null!==e&&e||(a.hide(),n.show(o.id))}).catch(e=>{console.log(e),s.error(t.instant("guide.unexpected.error.message")),this._cancelGuide(n,!1)}):((o.options.forceReload||o.options.url&&o.options.url!==a.options.url)&&e.path(o.options.url),a.hide(),n.show(o.id))}).catch(e=>{console.log(e),s.error(t.instant("guide.unexpected.error.message")),this._cancelGuide(n,!1)})},this._getNextButton=(e,n,r)=>{const i=t.instant("next.btn"),o=u(e,n,r);return this._getButton(i,o)};const u=(n,r,i)=>()=>{r.onNextValidate(r).then(o=>{if(o)if(angular.isFunction(r.onNextClick)){const e=r.onNextClick(n,r);e instanceof Promise&&e.catch(e=>{s.error(t.instant("guide.unexpected.error.message")),this._cancelGuide(n,!1)})}else(i.forceReload||i.url&&i.url!==r.url)&&e.path(i.url),n.next()})};this._updateLocalStorage=()=>{const e=on.activeTour;if(!e)return;const t=e.getCurrentStep();if(t.options.skipFromHistory)return void console.log("Current step: ",t.options.skipFromHistory);const n=e.steps.findIndex(e=>e.id===t.id),r=this.getCurrentStepId(),i=e.steps.findIndex(e=>e.id===r);n>i?this._addStepToHistory(t):i>n&&this._removeLastStepFromHistory(),this._saveStep(t)},this._saveStep=e=>{e&&(n.set(ln,e.tour.options.name),n.set(cn,e.options.id))},this._addStepToHistory=e=>{const t=this._getHistory();t.push(e.options.id),n.set(hn,t)},this._getHistory=()=>{const e=n.get(hn);return e||[]},this._removeLastStepFromHistory=()=>{const e=this._getHistory();e.splice(e.length-1,1),n.set(hn,e)},this._getPreviousStepIdFromHistory=e=>{const t=this._getHistory()||[];if(e){const n=t.findIndex(t=>t===e);if(n>0)return t.at(n-1)}else if(t.length>1)return t.at(t.length-2);return-1},this.getPreviousStepFromHistory=e=>{const t=this._getPreviousStepIdFromHistory(e);return on.activeTour.steps.find(e=>e.id===t)},this._clearLocaleStorage=()=>{n.remove(ln),n.remove(pn),n.remove(cn),n.remove(hn)},this._toBaseGuideStep=(e,t,n,i)=>{let s;n.elementSelector&&(s={element:n.elementSelector,on:n.placement});const a=r.GuideUtils.unescapeHtml(r.GuideUtils.translateLocalMessage(t,o,n.title,n));let u="";if(n.stepsTotalN>1){const e=document.createElement("span");e.setAttribute("gdb-tooltip",t.instant("guide.block.progress.tooltip",{action:a})),e.setAttribute("tooltip-placement","bottom"),e.innerText=t.instant("guide.block.progress",{n:n.stepN+1,nn:n.stepsTotalN}),u="&nbsp;&mdash;&nbsp;"+e.outerHTML}const l="readonly"!==n.type,c=n.extraPadding?n.extraPadding:0,h={id:n.id,title:a+u,text:()=>{const e=this._toParagraph(r.GuideUtils.translateLocalMessage(t,o,n.content,n));let i="";return n.extraContent&&(i=r.GuideUtils.translateLocalMessage(t,o,n.extraContent,n),i=this._toParagraph(i,n.extraContentClass)),e+i},url:n.url,maxWaitTime:n.maxWaitTime,cancelIcon:{enabled:!0},attachTo:s,modalOverlayOpeningPadding:c,modalOverlayOpeningRadius:0,canBePaused:n.canBePaused,advanceOn:n.advanceOn,showOn:n.showOn,scrollToHandler:n.scrollToHandler,classes:"guide-dialog "+n.class,beforeShowPromise:n.beforeShowPromise,canClickTarget:l,keyboardNavigation:!1,skipPoint:n.skipPoint,skipFromHistory:n.skipFromHistory,onPreviousClick:n.onPreviousClick,initPreviousStep:n.initPreviousStep,when:{show:this._getShowFunction(e,n,i)}};return angular.isFunction(n.hide)&&(h.when.hide=n.hide(e)),h},this._getShowFunction=(e,t,n)=>angular.isFunction(t.show)?()=>{t.show(e)(),n(),this._whenStepShow(t)}:()=>{n(),this._whenStepShow(t)},this._whenStepShow=e=>{const t=on.activeTour.getCurrentStep(),n=t.getElement();this._addTotalProgress(t,n),this._addTypeIcon(n,e);const r=angular.element(n).scope();angular.isFunction(e.onScope)&&e.onScope(r),setTimeout(()=>r.$apply(()=>a(n)(r)))},this._toParagraph=(e,t)=>{if(e){const n=document.createElement("p");return t&&(n.className=t),n.innerHTML=e,n.outerHTML}return""},this._addTotalProgress=(e,n)=>{const r=on.activeTour.steps,i=n.querySelector(".shepherd-content"),o=document.createElement("div");o.className="shepherd-progress";const s=document.createElement("span");s.className="text-muted",s.innerText=t.instant("guide.total.progress",{n:r.indexOf(e)+1,nn:r.length}),s.setAttribute("gdb-tooltip",t.instant("guide.total.progress.tooltip")),s.setAttribute("tooltip-placement","left"),o.appendChild(s),i.appendChild(o)},this._addTypeIcon=(e,n)=>{let r,i;switch(n.type){case"clickable":r="focus",i="mouse";break;case"input":r="edit",i="input";break;default:r="info",i="info"}const o=document.createElement("span");o.className="shepherd-step-type icon-"+r+" icon-1-25x",o.setAttribute("gdb-tooltip",t.instant("guide.step-type."+i)),o.setAttribute("tooltip-placement","bottom-right"),angular.element(e.querySelector(".shepherd-header")).prepend(o)},this._getButton=(e,t,n)=>{const r={text:e,classes:n?"btn btn-secondary":"btn btn-primary",action:e=>{e.stopPropagation(),t()}};return r}}angular.module("graphdb.framework.guides.shepherd.services",["graphdb.framework.utils.localstorageadapter"]).service("ShepherdService",dn),dn.$inject=["$location","$translate","LocalStorageAdapter","$route","$interpolate","toastr","$compile"]},14:function(e,t,n){"use strict";n.r(t),n.d(t,"YasguiComponentDirectiveUtil",(function(){return i})),n.d(t,"YasqeButtonsBuilder",(function(){return o})),n.d(t,"YasqeButtonName",(function(){return s})),n.d(t,"DISABLE_YASQE_BUTTONS_CONFIGURATION",(function(){return a})),n.d(t,"INFERRED_AND_SAME_AS_BUTTONS_CONFIGURATION",(function(){return u}));const r=["var(--primary-color)","","var(--primary-color)"],i=function(){const e=e=>{const t=angular.element(document.querySelector(e));return angular.element(t).isolateScope()},t=(t,n=1)=>new Promise((r,i)=>{let o=e(t);o&&r(o.getOntotextYasguiElement());let s=1e3*n|1e3;const a=setInterval(()=>{o=e(t),o?(clearInterval(a),r(o.getOntotextYasguiElement())):(s-=100,s<0&&(clearInterval(a),console.log("YASGUI component is not found",t),i(new Error("Element is not found: "+t))))},100)}),n=(e,n)=>{let r=void 0;return t(e).then(e=>(r=e,e)).then(()=>r.setQuery(n)).then(()=>r)},o=e=>{if(!e||!e.yasgui||!e.yasgui.tabElements)return;const t=e.yasgui.tabElements.get(e.getId());return t?t.tabEl:void 0};return{getOntotextYasguiElementController:e,getOntotextYasguiElement:e=>{const t=i.getOntotextYasguiElementController(e);if(t)return t.getOntotextYasguiElement()},getOntotextYasguiElementAsync:t,executeSparqlQuery:(e,t)=>{let r=void 0;return n(e,t).then(e=>(r=e,e)).then(()=>r.query()).then(()=>r)},setQuery:n,highlightTabName:e=>{const t=o(e);if(!t)return;let n=0,i=void 0;const s=()=>{t.style.color=r[n++],n>r.length&&(t.style.color="",clearInterval(i))};i=setInterval(s,400),s()}}}();class o{constructor(){this.createSavedQueryVisibility=!1,this.showSavedQueriesVisibility=!1,this.shareQueryVisibility=!1,this.includeInferredStatementsVisibility=!1}addCreateSavedQuery(){return this.createSavedQueryVisibility=!0,this}addShowSavedQueries(){return this.showSavedQueriesVisibility=!0,this}addShareQuery(){return this.shareQueryVisibility=!0,this}addIncludeInferredStatements(){return this.includeInferredStatementsVisibility=!0,this}build(){return[{name:s.CREATE_SAVED_QUERY,visible:this.createSavedQueryVisibility},{name:s.SHOW_SAVED_QUERIES,visible:this.showSavedQueriesVisibility},{name:s.SHARE_QUERY,visible:this.shareQueryVisibility},{name:s.INCLUDE_INFERRED_STATEMENTS,visible:this.includeInferredStatementsVisibility}]}}const s={CREATE_SAVED_QUERY:"createSavedQuery",SHOW_SAVED_QUERIES:"showSavedQueries",SHARE_QUERY:"shareQuery",EXPANDS_RESULTS:"expandResults",INFER_STATEMENTS:"inferStatements",INCLUDE_INFERRED_STATEMENTS:"includeInferredStatements"},a=(new o).build(),u=(new o).addIncludeInferredStatements().build()},143:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},15:function(e,t){angular.module("graphdb.framework.utils.event-emitter-service",[]).factory("EventEmitterService",(function(){const e={},t={};return{subscribe:(t,n)=>(e[t]||(e[t]=[]),e[t].push(n),function(){const r=e[t].indexOf(n);-1!==r&&e[t].splice(r,1)}),emit:(t,n,r)=>{(e[t]||[]).reduce((e,t)=>e.then(e=>t(e)),Promise.resolve(n)).then(()=>{angular.isFunction(r)&&r(n)})},subscribeSync:(e,n)=>(t[e]||(t[e]=[]),t[e].push(n),function(){const r=t[e].indexOf(n);-1!==r&&t[e].splice(r,1)}),emitSync:(e,n)=>{(t[e]||[]).forEach(t=>{angular.isFunction(t)?t(n):console.error(`Callback of "${e}" is not function:`,t)})}}}))},16:function(e,t){angular.module("graphdb.framework.rest.license.service",["ngFileUpload"]).factory("LicenseRestService",r),r.$inject=["$http","Upload"];const n="rest/graphdb-settings/license";function r(e,t){return{getLicenseInfo:function(){return e.get(n)},getHardcodedLicense:function(){return e.get(n+"/hardcoded")},sendLicenseToValidate:function(t){return e.post("rest/info/license/validate",t,{headers:{Accept:"application/json","Content-Type":"text/plain"}})},extractFromLicenseFile:function(e){return t.upload({url:"rest/info/license/to-base-64",file:e,headers:{Accept:"text/plain"}})},checkLicenseHardcoded:function(){return e.get(n+"/hardcoded")},registerLicense:function(t){const r=new Uint8Array(t.length);for(let e=0;e<r.length;e++)r[e]=t.charCodeAt(e);return e({method:"POST",url:n,headers:{"Content-Type":"application/octet-stream"},data:r,transformRequest:[]})},unregisterLicense:function(){return e({method:"DELETE",url:"rest/graphdb-settings/license"})},getInfo:function(){return e.get("rest/info/properties")},getVersion:function(t){return e.get("rest/info/version",{headers:{"X-GraphDB-Repository-Location":t}})},getStatistics:function(){return e.get("rest/graphdb-settings/statistics")},toggleStatistics:function(t){return e({method:"POST",url:"rest/graphdb-settings/statistics",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:"enabled="+t})}}}},17:function(e,t,n){"use strict";n.r(t),n.d(t,"md5HashGenerator",(function(){return i}));var r=n(5);const i=()=>{const e=new r.KJUR.crypto.MessageDigest({alg:"md5",prov:"cryptojs"});return t=>e.digestString(t)}},18:function(e,t){angular.module("graphdb.framework.rest.repositories.service",[]).factory("RepositoriesRestService",n),n.$inject=["$http"];function n(e){return{getRepositories:function(t){return e.get("rest/repositories/all",{params:{location:t}})},getRepository:function(t){return e.get("rest/repositories/"+t.id,{params:{location:t.location}})},deleteRepository:function(t){return e.delete("rest/repositories/"+t.id,{params:{location:t.location}})},createRepository:function(t){return e.post("rest/repositories",t)},editRepository:function(t,n){return e.put("rest/repositories/"+t,n)},getRepositoryConfiguration:function(t){return e.get("rest/repositories/default-config/"+t)},getSize:function(t){return e.get(`rest/repositories/${t.id}/size`,{params:{location:t.location}})},getPrefix:function(t,n){return e.post(`rest/repositories/${t}/prefix`,null,{params:n})},getCluster:function(){return e.get("rest/repositories/cluster")},getRepositoryFileContent:function(t){return e.get("rest/repositories/file",{params:{fileLocation:t}})},updateRepositoryFileContent:function(t,n,r){return e.post("rest/repositories/file/update",JSON.stringify(n),{params:{fileLocation:t,location:r}})},validateOntopPropertiesConnection:function(t){return e.post("rest/repositories/ontop/test-connection",t.params.propertiesFile,{params:{location:t.location}})},restartRepository:function(t){return e.post(`rest/repositories/${t.id}/restart`,null,{params:{location:t.location}})},getSupportedDriversData:function(t){return e.get("rest/repositories/ontop/drivers",{params:{location:t.location}})},updatePropertiesFile:function(t,n,r,i){return e.post("rest/repositories/ontop/jdbc-properties",JSON.stringify(n),{params:{fileLocation:t,location:r,driverType:i}})},loadPropertiesFile:function(t,n,r){return e.get("rest/repositories/ontop/jdbc-properties",{params:{fileLocation:t,location:n,driverType:r}})},getRepositoriesFromKnownLocation:function(t){return e.get("rest/repositories?location="+t)},getRepositoryTurtleConfig:function(t){return e.get("rest/repositories/"+t.id,{headers:{Accept:"text/turtle"}})}}}},19:function(e,t,n){"use strict";n.r(t),n.d(t,"convertToBytes",(function(){return s})),n.d(t,"convertToHumanReadable",(function(){return a}));const r={BYTES:1,KB:1024,MB:1048576,GB:1024**3,TB:1024**4,PB:1024**5},i=/^(\d+(?:\.\d+)?)\s*(bytes|KB|MB|GB|TB|PB)$/i,o=/^\d+$/,s=e=>{if(null==e)return 0;if("number"==typeof e)return e;if(e=e.trim(),o.test(e))return parseInt(e,10);const t=e.match(i);if(!t)return 0;const n=parseFloat(t[1]),s=t[2];return n*r[s.toUpperCase()]},a=e=>{if(!angular.isDefined(e))return"0 bytes";if(i.test(e))return e;if("string"==typeof e&&(e=parseFloat(e)),isNaN(e)||e<=0)return"0 bytes";const t=Object.keys(r).reverse();for(const n of t){const t=r[n];if(e>=t){const r=e/t;return`${Number.isInteger(r)?r:r.toFixed(2)} ${n.toLowerCase()}`}}return"0 bytes"}},2:function(e,t,n){"use strict";n.r(t),n.d(t,"GuideUtils",(function(){return r}));const r=function(){const e=function(e,t=1,n=!0){const r=a(e);return new Promise((function(e,i){let o=1e3*t|1e3;const s=setInterval(()=>{try{const t=document.querySelector(r);null!=t?!n||angular.element(t).is(":visible")?(clearInterval(s),setTimeout(()=>{e(angular.element(t))},0)):(o-=100,o<0&&(clearInterval(s),console.log("Element is not visible: "+r),i(new Error("Element is not visible: "+r)))):(o-=100,o<0&&(clearInterval(s),console.log("Element is not found: "+r),i(new Error("Element is not found: "+r))))}catch(e){clearInterval(s),console.log("Error when processing selector: "+r),console.log(e),i(e)}},100)}))},t=function(e){const t=document.querySelector(e);return t&&angular.element(t).is(":visible")},n=function(e,t){return`[guide-selector="${e}"] ${t||""}`},i=(e,t,n,r)=>{const i=e.use();let s;return angular.isObject(n)?(s=n[i],s||(s=n.en),s=t(s)(r)):s=o(e.instant(n,r)),s},o=e=>{const t=document.createElement("div");return t.innerHTML=e,t.innerText},s=e=>angular.element(e).is(":checked"),a=e=>angular.isFunction(e)?e():e;return{GUIDES_LIST_URL:"rest/guides",GUIDES_DOWNLOAD_URL:"rest/guides/download/",waitFor:e,getOrWaiteFor:(t,n=1,r=!0)=>{const i=a(t),o=document.querySelector(i);return null==o||r&&!angular.element(o).is(":visible")?e(t,n,r):Promise.resolve(o)},clickOnElement:function(t){return()=>e(t).then(e=>{e.click()})},clickOnGuideElement:function(e,t){return r.clickOnElement(r.getGuideElementSelector(e,t))},getGuideElementSelector:n,isVisible:t,isGuideElementVisible:function(e){return t(n(e))},awaitAlphaDropD3:function(e,n,r=2,i=.1){return()=>new Promise((function(o){t(e)?o():setTimeout(()=>{let e=1e3*r;const t=setInterval(()=>{n.d3alpha<i?(clearInterval(t),o()):(e-=100,e<0&&(clearInterval(t),o()))},100)},150)}))},graphVizExpandNode:function(e){const t=d3.select(e),n=new CustomEvent("gdb-expand-node",{detail:t.datum()});t.node().dispatchEvent(n)},graphVizShowNodeInfo:function(e){const t=d3.select(e),n=new CustomEvent("gdb-show-node-info",{detail:t.datum()});t.node().dispatchEvent(n)},classHierarchyFocus:function(e){const t=d3.select(e),n=new CustomEvent("gdb-focus",{detail:t.datum()});t.node().dispatchEvent(n)},classHierarchyZoom:function(e){const t=d3.select(e),n=new CustomEvent("gdb-zoom",{detail:t.datum()});t.node().dispatchEvent(n)},validateTextInput:function(e,t,n=!0){const r=$(e).val();return""===r&&n?($(e).val(t),$(e).trigger("change"),!0):r===t},translateLocalMessage:i,unescapeHtml:o,noNextErrorToast:(e,t,n,r,s)=>{e.error(o(i(t,n,r,s)),o(i(t,n,"guide.validate.no-next",s)),{allowHtml:!0})},deferredShow:e=>()=>new Promise((function(t){setTimeout(()=>{t()},e)})),scrollToTop:()=>{window.scrollTo(0,0)},removeWhiteSpaces:e=>e.replace(/\s+/g,""),toResourceDownloadUrl:e=>"rest/guides/download/"+e.resourcePath+"/"+e.resourceFile,getSparqlResultsSelectorForIri:e=>`${r.CSS_SELECTORS.SPARQL_RESULTS_SELECTOR} a[title='${e}']`,getSparqlResultsSelectorForRow:e=>`${r.CSS_SELECTORS.SPARQL_RESULTS_SELECTOR} tbody tr:nth-child(${e})`,isChecked:s,isGuideElementChecked:(e,t)=>s(r.getGuideElementSelector("autocompleteCheckbox",t)),defaultInitPreviousStep:(e,t)=>new Promise((function(n,r){const i=e.ShepherdService.getPreviousStepFromHistory(t);i?i.options.initPreviousStep(e,i.options.id).then(()=>n()).catch(e=>r(e)):n()})),getElementSelector:a,CSS_SELECTORS:{SPARQL_EDITOR_SELECTOR:".tabPanel.active .yasqe .CodeMirror-code",SPARQL_RESULTS_SELECTOR:".tabPanel.active .yasr_results",SPARQL_RESULTS_ROWS_SELECTOR:".tabPanel.active .yasr_results tbody",SPARQL_RUN_BUTTON_SELECTOR:".tabPanel.active .yasqe .yasqe_queryButton"}}}()},20:function(e,t,n){"use strict";n.r(t),n.d(t,"mapBackupAndRestoreResponseToModel",(function(){return o})),n.d(t,"mapSnapshotOptionsResponseToModel",(function(){return s}));var r=n(21),i=n(22);const o=e=>{const t=[],n=new r.BackupAndRestoreInfo;return 0===Object.keys(e).length||(n.id=e.id,n.username=e.username,n.operation=e.operation,n.affectedRepositories=e.affectedRepositories,n.secondsSinceCreated=e.msSinceCreated/1e3,n.snapshotOptions=s(e.snapshotOptions),n.nodePerformingClusterBackup=e.nodePerformingClusterBackup,t.push(n)),t},s=e=>{const t=new i.SnapshotOptionInfo;return t.withRepositoryData=e.withRepositoryData,t.withSystemData=e.withSystemData,t.withClusterData=e.withClusterData,t.cleanDataDir=e.cleanDataDir,t.removeCluster=e.removeCluster,t.repositories=e.repositories,t.replicationTimeoutMs=e.replicationTimeoutMs,t}},21:function(e,t,n){"use strict";n.r(t),n.d(t,"BackupAndRestoreInfo",(function(){return r}));class r{constructor(){this.id=void 0,this.username="",this.operation="",this.affectedRepositories=[],this.secondsSinceCreated=0,this.snapshotOptions=[],this.nodePerformingClusterBackup=""}}},22:function(e,t,n){"use strict";n.r(t),n.d(t,"SnapshotOptionInfo",(function(){return r}));class r{constructor(){this.withRepositoryData=!1,this.withSystemData=!1,this.withClusterData=!1,this.cleanDataDir=!1,this.removeCluster=!1,this.repositories=[],this.replicationTimeoutMs=0}}},23:function(e,t,n){"use strict";n.r(t),n.d(t,"mapActiveOperationResponseToModel",(function(){return u})),n.d(t,"mapActiveOperationToActiveOperationInfoModel",(function(){return c})),n.d(t,"mapImportActiveOperationToActiveOperationInfoModel",(function(){return h})),n.d(t,"mapQueriesActiveOperationToActiveOperationInfoModel",(function(){return p})),n.d(t,"mapBackupAndRestoreActiveOperationToActiveOperationInfoModel",(function(){return d})),n.d(t,"mapClusterActiveOperationToActiveOperationInfoModel",(function(){return f}));var r=n(3),i=n(8),o=n(1),s=n(24),a=n(9);const u=e=>{const t=new s.ActiveOperationsModel;return t.status=e.status,t.operations=l(e.allRunningOperations),t},l=(e=[])=>{const t=[];return e.forEach(e=>t.push(c(e))),t},c=e=>{switch(e.type){case r.OPERATION_TYPE.IMPORTS:return h(e);case r.OPERATION_TYPE.QUERIES:case r.OPERATION_TYPE.UPDATES:return p(e);case r.OPERATION_TYPE.BACKUP_RESTORE:return d(e);case r.OPERATION_TYPE.CLUSTER_STATUS:return f(e)}},h=e=>{const t=new i.ActiveOperationModel;return t.operationGroup=o.OPERATION_GROUP_TYPE.IMPORT_OPERATION,t.runningOperationCount=parseInt(e.value,10),t.status=e.status,t.type=e.type,t.titleLabelKey=e.type,t.monitoringViewUrl=a.OPERATION_MONITORING_CONSTANTS.IMPORT_MONITORING_URL,t},p=e=>{const t=new i.ActiveOperationModel;return t.operationGroup=o.OPERATION_GROUP_TYPE.QUERIES_OPERATION,t.runningOperationCount=parseInt(e.value,10),t.status=e.status,t.type=e.type,t.titleLabelKey=e.type,t.monitoringViewUrl=a.OPERATION_MONITORING_CONSTANTS.QUERIES_MONITORING_URL,t},d=e=>{const t=new i.ActiveOperationModel;return t.operationGroup=o.OPERATION_GROUP_TYPE.BACKUP_AND_RESTORE_OPERATION,t.status=e.status,t.type=e.type,t.titleLabelKey=e.value,t.monitoringViewUrl=a.OPERATION_MONITORING_CONSTANTS.BACKUP_AND_RESTORE_MONITORING_URL,t},f=e=>{const t=new i.ActiveOperationModel;return t.operationGroup=o.OPERATION_GROUP_TYPE.CLUSTER_OPERATION,t.status=e.status,t.type=e.type,t.titleLabelKey=e.value,t.monitoringViewUrl=a.OPERATION_MONITORING_CONSTANTS.CLUSTER_MONITORING_URL,t}},239:function(e,t,n){var r,i,o;i=[n(65)],void 0===(o="function"==typeof(r=function(e){e.module("pageslide-directive",[]).directive("pageslide",["$document","$timeout",function(t,n){return{restrict:"EA",transclude:!1,scope:{psOpen:"=?",psAutoClose:"@",psSide:"@",psSpeed:"@",psClass:"@",psSize:"@",psZindex:"@",psPush:"@",psContainer:"@",psKeyListener:"@",psBodyClass:"@",psClickOutside:"@",onopen:"&?",onclose:"&?"},link:function(r,i,o){var s={};s.side=r.psSide||"right",s.speed=r.psSpeed||"0.5",s.size=r.psSize||"300px",s.zindex=r.psZindex||1e3,s.className=r.psClass||"ng-pageslide",s.push="true"===r.psPush,s.container=r.psContainer||!1,s.keyListener="true"===r.psKeyListener,s.bodyClass=r.psBodyClass||!1,s.clickOutside="false"!==r.psClickOutside,s.autoClose=r.psAutoClose||!1,s.push=s.push&&!s.container,i.addClass(s.className);var a,u,l=!1;function c(e){var t=e.touches&&e.touches[0]||e.target;l&&u.contains(t)&&!a.contains(t)&&(l=!1,r.psOpen=!1,r.$apply()),r.psOpen&&(l=!0)}function h(e){if(s.bodyClass){var t=s.className+"-body",n=new RegExp(t+"-closed|"+t+"-open");u.className=u.className.replace(n,"");var r=t+"-"+e;" "!==u.className[u.className.length-1]?u.className+=" "+r:u.className+=r}}if(u=s.container?document.getElementById(s.container):document.body,"div"!==(a=i[0]).tagName.toLowerCase()&&"pageslide"!==a.tagName.toLowerCase())throw new Error("Pageslide can only be applied to <div> or <pageslide> elements");if(0===a.children.length)throw new Error("You need to have content inside the <pageslide>");function p(){r.psOpen?"function"==typeof r.onopen&&r.onopen()():"function"==typeof r.onclose&&r.onclose()()}function d(e,t){switch(t.side){case"right":case"left":e.style.width=t.size,e.style.height="100%",e.style.top="0px",e.style.bottom="0px";break;case"top":case"bottom":e.style.height=t.size,e.style.width="100%",e.style.left="0px",e.style.right="0px"}r.psOpen?g(e,t):f(e,t)}function f(e,n){switch(n.side){case"right":e.style.right="-"+n.size,n.push&&(u.style.right="0px",u.style.left="0px");break;case"left":e.style.left="-"+n.size,n.push&&(u.style.left="0px",u.style.right="0px");break;case"top":e.style.top="-"+n.size,n.push&&(u.style.top="0px",u.style.bottom="0px");break;case"bottom":e.style.bottom="-"+n.size,n.push&&(u.style.bottom="0px",u.style.top="0px")}n.keyListener&&t.off("keydown",m),n.clickOutside&&t.off("touchend click",c),l=!1,h("closed"),r.psOpen=!1}function g(e,n){switch(n.side){case"right":e.style.right="0px",n.push&&(u.style.right=n.size,u.style.left="-"+n.size);break;case"left":e.style.left="0px",n.push&&(u.style.left=n.size,u.style.right="-"+n.size);break;case"top":e.style.top="0px",n.push&&(u.style.top=n.size,u.style.bottom="-"+n.size);break;case"bottom":e.style.bottom="0px",n.push&&(u.style.bottom=n.size,u.style.top="-"+n.size)}r.psOpen=!0,n.keyListener&&t.on("keydown",m),n.clickOutside&&t.on("touchend click",c),h("open")}function m(e){27===(e.keyCode||e.which)&&(f(a,s),n((function(){r.$apply()})))}e.element(a.children),u.appendChild(a),a.style.zIndex=s.zindex,a.style.position="fixed",a.style.transitionDuration=s.speed+"s",a.style.webkitTransitionDuration=s.speed+"s",a.style.height=s.size,a.style.transitionProperty="top, bottom, left, right",s.push&&(u.style.position="absolute",u.style.transitionDuration=s.speed+"s",u.style.webkitTransitionDuration=s.speed+"s",u.style.transitionProperty="top, bottom, left, right"),s.container&&(a.style.position="absolute",u.style.position="relative",u.style.overflow="hidden"),a.addEventListener("transitionend",p),d(a,s),r.$watch("psOpen",(function(e){e?g(a,s):f(a,s)})),r.$watch("psSize",(function(e,t){t!==e&&(s.size=e,d(a,s))})),r.$on("$destroy",(function(){a.parentNode===u&&(s.clickOutside&&t.off("touchend click",c),u.removeChild(a)),a.removeEventListener("transitionend",p)})),s.autoClose&&(r.$on("$locationChangeStart",(function(){f(a,s)})),r.$on("$stateChangeStart",(function(){f(a,s)})))}}}])})?r.apply(t,i):r)||(e.exports=o)},24:function(e,t,n){"use strict";n.r(t),n.d(t,"ActiveOperationsModel",(function(){return o}));var r=n(4),i=n(1);class o{constructor(){this.operations=[],this.status=r.OPERATION_STATUS.INFORMATION}hasClusterOperation(){return!!this.operations&&this.operations.some(e=>i.OPERATION_GROUP_TYPE.CLUSTER_OPERATION===e.operationGroup)}}},247:function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(366),i=n(367),o=n(368);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=p(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(t,n),i=(e=a(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):p(e,t);if("Buffer"===t.type&&o(t.data))return p(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(c(t),e=a(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|d(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function f(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return F(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var c=-1;for(o=n;o<a;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var h=!0,p=0;p<u;p++)if(l(e,o+p)!==l(t,p)){h=!1;break}if(h)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function $(e,t,n,r){return U(B(t,e.length-n),e,n,r)}function w(e,t,n,r){return U(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return w(e,t,n,r)}function S(e,t,n,r){return U(H(t),e,n,r)}function E(e,t,n,r){return U(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,l=e[i],c=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return l(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=f,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),l=this.slice(r,i),c=e.slice(t,n),h=0;h<a;++h)if(l[h]!==c[h]){o=l[h],s=c[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return $(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function D(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=M(e[o]);return i}function R(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function k(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function O(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function _(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,o){return o||_(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,o){return o||_(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):O(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):O(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=u.isBuffer(e)?e:B(new u(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function M(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(11))},248:function(e,t,n){var r,i,o;/*! angularjs-slider - v7.1.0 -  (c) Rafal Zajac <rzajac@gmail.com>, Valentin Hervieu <valentin@hervi.eu>, Jussi Saarivirta <jusasi@gmail.com>, Angelin Sirbu <angelin.sirbu@gmail.com> -  https://github.com/angular-slider/angularjs-slider -  2022-05-26 */!function(s,a){"use strict";i=[n(65)],void 0===(o="function"==typeof(r=function(e){var t=e.module("rzSlider",[]).factory("RzSliderOptions",(function(){var t={floor:0,ceil:null,step:1,precision:0,minRange:null,maxRange:null,restrictedRange:null,skipRestrictedRangesWithArrowKeys:null,pushRange:!1,minLimit:null,maxLimit:null,id:null,translate:null,getLegend:null,stepsArray:null,bindIndexForStepsArray:!1,draggableRange:!1,draggableRangeOnly:!1,showSelectionBar:!1,showSelectionBarEnd:!1,showSelectionBarFromValue:null,showOuterSelectionBars:!1,hidePointerLabels:!1,hideLimitLabels:!1,autoHideLimitLabels:!0,readOnly:!1,disabled:!1,interval:350,showTicks:!1,showTicksValues:!1,ticksArray:null,ticksTooltip:null,ticksValuesTooltip:null,vertical:!1,getSelectionBarColor:null,getTickColor:null,getPointerColor:null,keyboardSupport:!0,scale:1,enforceStep:!0,enforceRange:!1,noSwitching:!1,onlyBindHandles:!1,disableAnimation:!1,onStart:null,onChange:null,onEnd:null,rightToLeft:!1,reversedControls:!1,boundPointerLabels:!0,mergeRangeLabelsIfSame:!1,labelOverlapSeparator:" - ",customTemplateScope:null,logScale:!1,customValueToPosition:null,customPositionToValue:null,selectionBarGradient:null,ariaLabel:null,ariaLabelledBy:null,ariaLabelHigh:null,ariaLabelledByHigh:null},n={},r={options:function(t){e.extend(n,t)},getOptions:function(r){return e.extend({},t,n,r)}};return r})).factory("rzThrottle",["$timeout",function(e){return function(t,n,r){var i,o,s,a=Date.now||function(){return(new Date).getTime()},u=null,l=0;r=r||{};var c=function(){l=a(),u=null,s=t.apply(i,o),i=o=null};return function(){var h=a(),p=n-(h-l);return i=this,o=arguments,0>=p?(e.cancel(u),u=null,l=h,s=t.apply(i,o),i=o=null):u||!1===r.trailing||(u=e(c,p)),s}}}]).factory("RzSlider",["$timeout","$document","$window","$compile","RzSliderOptions","rzThrottle",function(t,n,r,i,o,s){var a=function(e,t){this.scope=e,this.lowValue=0,this.highValue=0,this.sliderElem=t,this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.dragging={active:!1,value:0,difference:0,position:0,lowLimit:0,highLimit:0},this.positionProperty="left",this.dimensionProperty="width",this.handleHalfDim=0,this.maxPos=0,this.precision=0,this.step=1,this.tracking="",this.minValue=0,this.maxValue=0,this.valueRange=0,this.intermediateTicks=!1,this.initHasRun=!1,this.firstKeyDown=!1,this.internalChange=!1,this.cmbLabelShown=!1,this.currentFocusElement=null,this.moving=!1,this.fullBar=null,this.selBar=null,this.minH=null,this.maxH=null,this.flrLab=null,this.ceilLab=null,this.minLab=null,this.maxLab=null,this.cmbLab=null,this.ticks=null,this.init()};return a.prototype={init:function(){var t,n,i=this,o=function(){i.calcViewDimensions()};this.applyOptions(),this.syncLowValue(),this.range&&this.syncHighValue(),this.initElemHandles(),this.manageElementsStyle(),this.setDisabledState(),this.calcViewDimensions(),this.setMinAndMax(),this.updateRestrictionBar(),this.addAccessibility(),this.updateCeilLab(),this.updateFloorLab(),this.initHandles(),this.manageEventsBindings(),this.scope.$on("reCalcViewDimensions",o),e.element(r).on("resize",o),this.initHasRun=!0,this.options.disableAnimation&&this.sliderElem.addClass("noanimate"),t=s((function(){i.onLowHandleChange()}),i.options.interval),n=s((function(){i.onHighHandleChange()}),i.options.interval),this.scope.$on("rzSliderForceRender",(function(){i.resetLabelsValue(),t(),i.range&&n(),i.resetSlider()})),this.scope.$watchCollection("rzSliderOptions()",(function(e,t){e!==t&&(i.applyOptions(),i.syncLowValue(),i.range&&i.syncHighValue(),i.resetSlider())})),this.scope.$watch("rzSliderModel",(function(e,n){i.internalChange||e!==n&&t()})),this.scope.$watch("rzSliderHigh",(function(e,t){i.internalChange||e!==t&&(null!=e&&n(),(i.range&&null==e||!i.range&&null!=e)&&(i.applyOptions(),i.resetSlider()))})),this.scope.$on("$destroy",(function(){i.unbindEvents(),e.element(r).off("resize",o),i.currentFocusElement=null}))},findStepIndex:function(t){for(var n=0,r=0;r<this.options.stepsArray.length;r++){var i=this.options.stepsArray[r];if(i===t){n=r;break}if(e.isDate(i)){if(i.getTime()===t.getTime()){n=r;break}}else if(e.isObject(i)&&(e.isDate(i.value)&&i.value.getTime()===t.getTime()||i.value===t)){n=r;break}}return n},syncLowValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.lowValue=this.scope.rzSliderModel:this.lowValue=this.findStepIndex(this.scope.rzSliderModel):this.lowValue=this.scope.rzSliderModel},syncHighValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.highValue=this.scope.rzSliderHigh:this.highValue=this.findStepIndex(this.scope.rzSliderHigh):this.highValue=this.scope.rzSliderHigh},getStepValue:function(t){var n=this.options.stepsArray[t];return e.isDate(n)?n:e.isObject(n)?n.value:n},applyLowValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.scope.rzSliderModel=this.lowValue:this.scope.rzSliderModel=this.getStepValue(this.lowValue):this.scope.rzSliderModel=this.lowValue},applyHighValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.scope.rzSliderHigh=this.highValue:this.scope.rzSliderHigh=this.getStepValue(this.highValue):this.scope.rzSliderHigh=this.highValue},onLowHandleChange:function(){this.syncLowValue(),this.range&&this.syncHighValue(),this.setMinAndMax(),this.updateLowHandle(this.valueToPosition(this.lowValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCmbLabel()},onHighHandleChange:function(){this.syncLowValue(),this.syncHighValue(),this.setMinAndMax(),this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateCmbLabel(),this.updateAriaAttributes()},applyOptions:function(){var t;t=this.scope.rzSliderOptions?this.scope.rzSliderOptions():{},this.options=o.getOptions(t),this.options.step<=0&&(this.options.step=1),this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.options.draggableRange=this.range&&this.options.draggableRange,this.options.draggableRangeOnly=this.range&&this.options.draggableRangeOnly,this.options.draggableRangeOnly&&(this.options.draggableRange=!0),this.options.showTicks=this.options.showTicks||this.options.showTicksValues||!!this.options.ticksArray,this.scope.showTicks=this.options.showTicks,(e.isNumber(this.options.showTicks)||this.options.ticksArray)&&(this.intermediateTicks=!0),this.options.showSelectionBar=this.options.showSelectionBar||this.options.showSelectionBarEnd||null!==this.options.showSelectionBarFromValue,this.options.stepsArray?this.parseStepsArray():(this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(e){return String(e)},this.getLegend=this.options.getLegend),this.options.vertical?(this.positionProperty="bottom",this.dimensionProperty="height"):(this.positionProperty="left",this.dimensionProperty="width"),this.options.customTemplateScope&&(this.scope.custom=this.options.customTemplateScope)},parseStepsArray:function(){this.options.floor=0,this.options.ceil=this.options.stepsArray.length-1,this.options.step=1,this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(e){return this.options.bindIndexForStepsArray?this.getStepValue(e):e},this.getLegend=function(t){var n=this.options.stepsArray[t];return e.isObject(n)?n.legend:null}},resetSlider:function(){this.resetLabelsValue(),this.manageElementsStyle(),this.addAccessibility(),this.setMinAndMax(),this.updateCeilLab(),this.updateFloorLab(),this.unbindEvents(),this.manageEventsBindings(),this.setDisabledState(),this.calcViewDimensions(),this.updateRestrictionBar(),this.refocusPointerIfNeeded()},refocusPointerIfNeeded:function(){this.currentFocusElement&&(this.onPointerFocus(this.currentFocusElement.pointer,this.currentFocusElement.ref),this.focusElement(this.currentFocusElement.pointer))},ensureRestrictedBarIsArray:function(t){var n=e.element(t);if(this.restrictedBar=[],this.options.restrictedRange){this.options.restrictedRange=Array.isArray(this.options.restrictedRange)?this.options.restrictedRange:[this.options.restrictedRange],this.restrictedBar[0]=n;for(var r=t.parentElement,i=1;i<this.options.restrictedRange.length;i++){var o=document.createElement("span");o.setAttribute("class","rz-bar-wrapper"),o.innerHTML='<span class="rz-bar rz-restricted" ng-style="restrictionStyle"></span>',r.appendChild(o),this.restrictedBar[i]=e.element(o)}}else t.style.visibility="hidden",this.restrictedBar=null},initElemHandles:function(){e.forEach(this.sliderElem.children(),(function(t,n){var r=e.element(t);switch(n){case 0:this.leftOutSelBar=r;break;case 1:this.rightOutSelBar=r;break;case 2:this.fullBar=r;break;case 3:this.selBar=r;break;case 4:this.ensureRestrictedBarIsArray(t);break;case 5:this.minH=r;break;case 6:this.maxH=r;break;case 7:this.flrLab=r;break;case 8:this.ceilLab=r;break;case 9:this.minLab=r;break;case 10:this.maxLab=r;break;case 11:this.cmbLab=r;break;case 12:this.ticks=r}}),this),this.selBar.rzsp=0,this.minH.rzsp=0,this.maxH.rzsp=0,this.flrLab.rzsp=0,this.ceilLab.rzsp=0,this.minLab.rzsp=0,this.maxLab.rzsp=0,this.cmbLab.rzsp=0},manageElementsStyle:function(){this.range?this.maxH.css("display",""):this.maxH.css("display","none"),this.alwaysHide(this.flrLab,this.options.showTicksValues||this.options.hideLimitLabels),this.alwaysHide(this.ceilLab,this.options.showTicksValues||this.options.hideLimitLabels);var e=this.options.showTicksValues&&!this.intermediateTicks;for(var t in this.alwaysHide(this.minLab,e||this.options.hidePointerLabels),this.alwaysHide(this.maxLab,e||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.cmbLab,e||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.selBar,!this.range&&!this.options.showSelectionBar),this.alwaysHide(this.leftOutSelBar,!this.range||!this.options.showOuterSelectionBars),this.restrictedBar)this.restrictedBar[t]&&this.alwaysHide(this.restrictedBar[t],!this.options.restrictedRange[t]);this.alwaysHide(this.rightOutSelBar,!this.range||!this.options.showOuterSelectionBars),this.range&&this.options.showOuterSelectionBars&&this.fullBar.addClass("rz-transparent"),this.options.vertical?this.sliderElem.addClass("rz-vertical"):this.sliderElem.removeClass("rz-vertical"),this.options.draggableRange?this.selBar.addClass("rz-draggable"):this.selBar.removeClass("rz-draggable"),this.intermediateTicks&&this.options.showTicksValues&&this.ticks.addClass("rz-ticks-values-under")},alwaysHide:function(e,t){e.rzAlwaysHide=t,t?this.hideEl(e):this.showEl(e)},manageEventsBindings:function(){this.options.disabled||this.options.readOnly?this.unbindEvents():this.bindEvents()},setDisabledState:function(){this.options.disabled?this.sliderElem.attr("disabled","disabled"):this.sliderElem.attr("disabled",null)},resetLabelsValue:function(){this.minLab.rzsv=void 0,this.maxLab.rzsv=void 0,this.flrLab.rzsv=void 0,this.ceilLab.rzsv=void 0,this.cmbLab.rzsv=void 0,this.resetPosition(this.flrLab),this.resetPosition(this.ceilLab),this.resetPosition(this.cmbLab),this.resetPosition(this.minLab),this.resetPosition(this.maxLab)},initHandles:function(){this.updateLowHandle(this.valueToPosition(this.lowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateSelectionBar(),this.range&&this.updateCmbLabel(),this.updateTicksScale()},translateFn:function(e,t,n,r){r=void 0===r||r;var i="",o=!1,s=t.hasClass("no-label-injection");r?(this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(e=this.getStepValue(e)),i=String(this.customTrFn(e,this.options.id,n))):i=String(e),(void 0===t.rzsv||t.rzsv.length!==i.length||t.rzsv.length>0&&0===t.rzsd)&&(o=!0,t.rzsv=i),s||t.html(i),this.scope[n+"Label"]=i,o&&this.getDimension(t)},setMinAndMax:function(){if(this.step=+this.options.step,this.precision=+this.options.precision,this.minValue=this.options.floor,this.options.logScale&&0===this.minValue)throw Error("Can't use floor=0 with logarithmic scale");this.options.enforceStep&&(this.lowValue=this.roundStep(this.lowValue),this.range&&(this.highValue=this.roundStep(this.highValue))),null!=this.options.ceil?this.maxValue=this.options.ceil:this.maxValue=this.options.ceil=this.range?this.highValue:this.lowValue,this.options.enforceRange&&(this.lowValue=this.sanitizeValue(this.lowValue),this.range&&(this.highValue=this.sanitizeValue(this.highValue))),this.applyLowValue(),this.range&&this.applyHighValue(),this.valueRange=this.maxValue-this.minValue},addAccessibility:function(){this.minH.attr("role","slider"),this.updateAriaAttributes(),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.minH.attr("tabindex",""):this.minH.attr("tabindex","0"),this.options.vertical?this.minH.attr("aria-orientation","vertical"):this.minH.attr("aria-orientation","horizontal"),this.options.ariaLabel?this.minH.attr("aria-label",this.options.ariaLabel):this.options.ariaLabelledBy&&this.minH.attr("aria-labelledby",this.options.ariaLabelledBy),this.range&&(this.maxH.attr("role","slider"),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.maxH.attr("tabindex",""):this.maxH.attr("tabindex","0"),this.options.vertical?this.maxH.attr("aria-orientation","vertical"):this.maxH.attr("aria-orientation","horizontal"),this.options.ariaLabelHigh?this.maxH.attr("aria-label",this.options.ariaLabelHigh):this.options.ariaLabelledByHigh&&this.maxH.attr("aria-labelledby",this.options.ariaLabelledByHigh))},updateAriaAttributes:function(){this.minH.attr({"aria-valuenow":this.scope.rzSliderModel,"aria-valuetext":this.customTrFn(this.scope.rzSliderModel,this.options.id,"model"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue}),this.range&&this.maxH.attr({"aria-valuenow":this.scope.rzSliderHigh,"aria-valuetext":this.customTrFn(this.scope.rzSliderHigh,this.options.id,"high"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue})},calcViewDimensions:function(){var e=this.getDimension(this.minH);if(this.handleHalfDim=e/2,this.barDimension=this.getDimension(this.fullBar),this.maxPos=this.barDimension-e,this.getDimension(this.sliderElem),this.sliderElem.rzsp=this.sliderElem[0].getBoundingClientRect()[this.positionProperty],this.initHasRun){this.updateFloorLab(),this.updateCeilLab(),this.initHandles();var n=this;t((function(){n.updateTicksScale()}))}},updateTicksScale:function(){if(this.options.showTicks){var t=this.options.ticksArray||this.getTicksArray(),n=this.options.vertical?"translateY":"translateX",r=this;this.options.rightToLeft&&t.reverse(),this.scope.ticks=t.map((function(t){var i=null;e.isObject(t)&&(i=t.legend,t=t.value);var o=r.valueToPosition(t);r.options.vertical&&(o=r.maxPos-o);var s=n+"("+Math.round(o)+"px)",a={legend:i,selected:r.isTickSelected(t),style:{"-webkit-transform":s,"-moz-transform":s,"-o-transform":s,"-ms-transform":s,transform:s}};return a.selected&&r.options.getSelectionBarColor&&(a.style["background-color"]=r.getSelectionBarColor()),!a.selected&&r.options.getTickColor&&(a.style["background-color"]=r.getTickColor(t)),r.options.ticksTooltip&&(a.tooltip=r.options.ticksTooltip(t),a.tooltipPlacement=r.options.vertical?"right":"top"),(!0===r.options.showTicksValues||t%r.options.showTicksValues==0)&&(a.value=r.getDisplayValue(t,"tick-value"),r.options.ticksValuesTooltip&&(a.valueTooltip=r.options.ticksValuesTooltip(t),a.valueTooltipPlacement=r.options.vertical?"right":"top")),r.getLegend&&((i=r.getLegend(t,r.options.id))&&(a.legend=i)),a}))}},getTicksArray:function(){var e=this.step,t=[];this.intermediateTicks&&(e=this.options.showTicks);for(var n=this.minValue;n<=this.maxValue;n+=e)t.push(n);return t},isTickSelected:function(e){if(!this.range)if(null!==this.options.showSelectionBarFromValue){var t=this.options.showSelectionBarFromValue;if(this.lowValue>t&&e>=t&&e<=this.lowValue)return!0;if(this.lowValue<t&&t>=e&&e>=this.lowValue)return!0}else if(this.options.showSelectionBarEnd){if(e>=this.lowValue)return!0}else if(this.options.showSelectionBar&&e<=this.lowValue)return!0;return!!(this.range&&e>=this.lowValue&&e<=this.highValue)},updateFloorLab:function(){this.translateFn(this.minValue,this.flrLab,"floor"),this.getDimension(this.flrLab);var e=this.options.rightToLeft?this.barDimension-this.flrLab.rzsd:0;this.setPosition(this.flrLab,e)},updateCeilLab:function(){this.translateFn(this.maxValue,this.ceilLab,"ceil"),this.getDimension(this.ceilLab);var e=this.options.rightToLeft?0:this.barDimension-this.ceilLab.rzsd;this.setPosition(this.ceilLab,e)},updateHandles:function(e,t){"lowValue"===e?this.updateLowHandle(t):this.updateHighHandle(t),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCmbLabel()},getHandleLabelPos:function(e,t){var n=this[e].rzsd,r=t-n/2+this.handleHalfDim,i=this.barDimension-n;return this.options.boundPointerLabels?this.options.rightToLeft&&"minLab"===e||!this.options.rightToLeft&&"maxLab"===e?Math.min(r,i):Math.min(Math.max(r,0),i):r},updateLowHandle:function(e){if(this.setPosition(this.minH,e),this.translateFn(this.lowValue,this.minLab,"model"),this.setPosition(this.minLab,this.getHandleLabelPos("minLab",e)),this.options.getPointerColor){var t=this.getPointerColor("min");this.scope.minPointerStyle={backgroundColor:t}}this.options.autoHideLimitLabels&&this.shFloorCeil()},updateHighHandle:function(e){if(this.setPosition(this.maxH,e),this.translateFn(this.highValue,this.maxLab,"high"),this.setPosition(this.maxLab,this.getHandleLabelPos("maxLab",e)),this.options.getPointerColor){var t=this.getPointerColor("max");this.scope.maxPointerStyle={backgroundColor:t}}this.options.autoHideLimitLabels&&this.shFloorCeil()},shFloorCeil:function(){if(!this.options.hidePointerLabels){var e=!1,t=!1,n=this.isLabelBelowFloorLab(this.minLab),r=this.isLabelAboveCeilLab(this.minLab),i=this.isLabelAboveCeilLab(this.maxLab),o=this.isLabelBelowFloorLab(this.cmbLab),s=this.isLabelAboveCeilLab(this.cmbLab);if(n?(e=!0,this.hideEl(this.flrLab)):(e=!1,this.showEl(this.flrLab)),r?(t=!0,this.hideEl(this.ceilLab)):(t=!1,this.showEl(this.ceilLab)),this.range){var a=this.cmbLabelShown?s:i,u=this.cmbLabelShown?o:n;a?this.hideEl(this.ceilLab):t||this.showEl(this.ceilLab),u?this.hideEl(this.flrLab):e||this.showEl(this.flrLab)}}},isLabelBelowFloorLab:function(e){var t=this.options.rightToLeft,n=e.rzsp,r=e.rzsd,i=this.flrLab.rzsp,o=this.flrLab.rzsd;return t?n+r>=i-2:i+o+2>=n},isLabelAboveCeilLab:function(e){var t=this.options.rightToLeft,n=e.rzsp,r=e.rzsd,i=this.ceilLab.rzsp,o=this.ceilLab.rzsd;return t?i+o+2>=n:n+r>=i-2},updateRestrictionBar:function(){var e=0,t=0;if(this.options.restrictedRange)for(var n in this.options.restrictedRange=Array.isArray(this.options.restrictedRange)?this.options.restrictedRange:[this.options.restrictedRange],this.options.restrictedRange){var r=this.valueToPosition(this.options.restrictedRange[n].from),i=this.valueToPosition(this.options.restrictedRange[n].to);t=Math.abs(i-r),e=this.options.rightToLeft?i+this.handleHalfDim:r+this.handleHalfDim,this.setDimension(this.restrictedBar[n],t),this.setPosition(this.restrictedBar[n],e)}},updateSelectionBar:function(){var e=0,t=0,n=this.options.rightToLeft?!this.options.showSelectionBarEnd:this.options.showSelectionBarEnd,r=this.options.rightToLeft?this.maxH.rzsp+this.handleHalfDim:this.minH.rzsp+this.handleHalfDim;if(this.range)t=Math.abs(this.maxH.rzsp-this.minH.rzsp),e=r;else if(null!==this.options.showSelectionBarFromValue){var i=this.options.showSelectionBarFromValue,o=this.valueToPosition(i);(this.options.rightToLeft?this.lowValue<=i:this.lowValue>i)?(t=this.minH.rzsp-o,e=o+this.handleHalfDim):(t=o-this.minH.rzsp,e=this.minH.rzsp+this.handleHalfDim)}else n?(t=Math.abs(this.maxPos-this.minH.rzsp)+this.handleHalfDim,e=this.minH.rzsp+this.handleHalfDim):(t=this.minH.rzsp+this.handleHalfDim,e=0);if(this.setDimension(this.selBar,t),this.setPosition(this.selBar,e),this.range&&this.options.showOuterSelectionBars&&(this.options.rightToLeft?(this.setDimension(this.rightOutSelBar,e),this.setPosition(this.rightOutSelBar,0),this.setDimension(this.leftOutSelBar,this.getDimension(this.fullBar)-(e+t)),this.setPosition(this.leftOutSelBar,e+t)):(this.setDimension(this.leftOutSelBar,e),this.setPosition(this.leftOutSelBar,0),this.setDimension(this.rightOutSelBar,this.getDimension(this.fullBar)-(e+t)),this.setPosition(this.rightOutSelBar,e+t))),this.options.getSelectionBarColor){var s=this.getSelectionBarColor();this.scope.barStyle={backgroundColor:s}}else if(this.options.selectionBarGradient){var a=null!==this.options.showSelectionBarFromValue?this.valueToPosition(this.options.showSelectionBarFromValue):0,u=a-e>0^n,l=this.options.vertical?u?"bottom":"top":u?"left":"right";this.scope.barStyle={backgroundImage:"linear-gradient(to "+l+", "+this.options.selectionBarGradient.from+" 0%,"+this.options.selectionBarGradient.to+" 100%)"},this.options.vertical?(this.scope.barStyle.backgroundPosition="center "+(a+t+e+(u?-this.handleHalfDim:0))+"px",this.scope.barStyle.backgroundSize="100% "+(this.barDimension-this.handleHalfDim)+"px"):(this.scope.barStyle.backgroundPosition=a-e+(u?this.handleHalfDim:0)+"px center",this.scope.barStyle.backgroundSize=this.barDimension-this.handleHalfDim+"px 100%")}},getSelectionBarColor:function(){return this.range?this.options.getSelectionBarColor(this.scope.rzSliderModel,this.scope.rzSliderHigh):this.options.getSelectionBarColor(this.scope.rzSliderModel)},getPointerColor:function(e){return"max"===e?this.options.getPointerColor(this.scope.rzSliderHigh,e):this.options.getPointerColor(this.scope.rzSliderModel,e)},getTickColor:function(e){return this.options.getTickColor(e)},updateCmbLabel:function(){if(this.options.rightToLeft?this.minLab.rzsp-this.minLab.rzsd-10<=this.maxLab.rzsp:this.minLab.rzsp+this.minLab.rzsd+10>=this.maxLab.rzsp){var e,t=this.getDisplayValue(this.lowValue,"model"),n=this.getDisplayValue(this.highValue,"high");e=this.options.mergeRangeLabelsIfSame&&t===n?t:this.options.rightToLeft?n+this.options.labelOverlapSeparator+t:t+this.options.labelOverlapSeparator+n,this.translateFn(e,this.cmbLab,"cmb",!1);var r=this.options.boundPointerLabels?Math.min(Math.max(this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2,0),this.barDimension-this.cmbLab.rzsd):this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2;this.setPosition(this.cmbLab,r),this.cmbLabelShown=!0,this.hideEl(this.minLab),this.hideEl(this.maxLab),this.showEl(this.cmbLab)}else this.cmbLabelShown=!1,this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateLowHandle(this.valueToPosition(this.lowValue)),this.showEl(this.maxLab),this.showEl(this.minLab),this.hideEl(this.cmbLab);this.options.autoHideLimitLabels&&this.shFloorCeil()},getDisplayValue:function(e,t){return this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(e=this.getStepValue(e)),this.customTrFn(e,this.options.id,t)},roundStep:function(e,t){var n=t||this.step,r=parseFloat((e-this.minValue)/n).toPrecision(12);return r=Math.round(+r)*n,+(this.minValue+r).toFixed(this.precision)},hideEl:function(e){return e.css({visibility:"hidden"})},showEl:function(e){return e.rzAlwaysHide?e:e.css({visibility:"visible"})},setPosition:function(e,t){e.rzsp=t;var n={};return n[this.positionProperty]=Math.round(t)+"px",e.css(n),t},resetPosition:function(e){e.css({left:null,bottom:null})},getDimension:function(e){var t=e[0].getBoundingClientRect();return this.options.vertical?e.rzsd=(t.bottom-t.top)*this.options.scale:e.rzsd=(t.right-t.left)*this.options.scale,e.rzsd},setDimension:function(e,t){e.rzsd=t;var n={};return n[this.dimensionProperty]=Math.round(t)+"px",e.css(n),t},sanitizeValue:function(e){return Math.min(Math.max(e,this.minValue),this.maxValue)},valueToPosition:function(e){var t=this.linearValueToPosition;this.options.customValueToPosition?t=this.options.customValueToPosition:this.options.logScale&&(t=this.logValueToPosition);var n=t(e=this.sanitizeValue(e),this.minValue,this.maxValue)||0;return this.options.rightToLeft&&(n=1-n),n*this.maxPos},linearValueToPosition:function(e,t,n){return(e-t)/(n-t)},logValueToPosition:function(e,t,n){return((e=Math.log(e))-(t=Math.log(t)))/((n=Math.log(n))-t)},positionToValue:function(e){var t=e/this.maxPos;this.options.rightToLeft&&(t=1-t);var n=this.linearPositionToValue;return this.options.customPositionToValue?n=this.options.customPositionToValue:this.options.logScale&&(n=this.logPositionToValue),n(t,this.minValue,this.maxValue)||0},linearPositionToValue:function(e,t,n){return e*(n-t)+t},logPositionToValue:function(e,t,n){t=Math.log(t);var r=e*((n=Math.log(n))-t)+t;return Math.exp(r)},getEventAttr:function(e,t){return void 0===e.originalEvent?e[t]:e.originalEvent[t]},getEventXY:function(e,t){var n=this.options.vertical?"clientY":"clientX";if(void 0!==e[n])return e[n];var r=this.getEventAttr(e,"touches");if(void 0!==t)for(var i=0;i<r.length;i++)if(r[i].identifier===t)return r[i][n];return r[0][n]},getEventPosition:function(e,t){var n=this.sliderElem.rzsp;return(this.options.vertical?-this.getEventXY(e,t)+n:this.getEventXY(e,t)-n)*this.options.scale-this.handleHalfDim},getEventNames:function(e){var t={moveEvent:"",endEvent:""};return this.getEventAttr(e,"touches")?(t.moveEvent="touchmove",t.endEvent="touchend"):(t.moveEvent="mousemove",t.endEvent="mouseup"),t},getNearestHandle:function(e){if(!this.range)return this.minH;var t=this.getEventPosition(e),n=Math.abs(t-this.minH.rzsp),r=Math.abs(t-this.maxH.rzsp);return r>n?this.minH:n>r?this.maxH:this.options.rightToLeft?t>this.minH.rzsp?this.minH:this.maxH:t<this.minH.rzsp?this.minH:this.maxH},focusElement:function(e){e[0].focus()},bindEvents:function(){var t,n,r;this.options.draggableRange?(t="rzSliderDrag",n=this.onDragStart,r=this.onDragMove):(t="lowValue",n=this.onStart,r=this.onMove),this.options.onlyBindHandles||(this.selBar.on("mousedown",e.bind(this,n,null,t)),this.selBar.on("mousedown",e.bind(this,r,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("mousedown",e.bind(this,n,null,t)),this.maxH.on("mousedown",e.bind(this,n,null,t))):(this.minH.on("mousedown",e.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("mousedown",e.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("mousedown",e.bind(this,this.onStart,null,null)),this.fullBar.on("mousedown",e.bind(this,this.onMove,this.fullBar)),this.ticks.on("mousedown",e.bind(this,this.onStart,null,null)),this.ticks.on("mousedown",e.bind(this,this.onTickClick,this.ticks)))),this.options.onlyBindHandles||(this.selBar.on("touchstart",e.bind(this,n,null,t)),this.selBar.on("touchstart",e.bind(this,r,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("touchstart",e.bind(this,n,null,t)),this.maxH.on("touchstart",e.bind(this,n,null,t))):(this.minH.on("touchstart",e.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("touchstart",e.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("touchstart",e.bind(this,this.onStart,null,null)),this.fullBar.on("touchstart",e.bind(this,this.onMove,this.fullBar)),this.ticks.on("touchstart",e.bind(this,this.onStart,null,null)),this.ticks.on("touchstart",e.bind(this,this.onTickClick,this.ticks)))),this.options.keyboardSupport&&(this.minH.on("focus",e.bind(this,this.onPointerFocus,this.minH,"lowValue")),this.range&&this.maxH.on("focus",e.bind(this,this.onPointerFocus,this.maxH,"highValue")))},unbindEvents:function(){this.minH.off(),this.maxH.off(),this.fullBar.off(),this.selBar.off(),this.ticks.off()},onStart:function(t,r,i){var o,s,a=this.getEventNames(i);i.stopPropagation(),i.preventDefault(),this.calcViewDimensions(),t?this.tracking=r:(t=this.getNearestHandle(i),this.tracking=t===this.minH?"lowValue":"highValue"),t.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(t),o=e.bind(this,this.dragging.active?this.onDragMove:this.onMove,t),s=e.bind(this,this.onEnd,o),n.on(a.moveEvent,o),n.on(a.endEvent,s),this.endHandlerToBeRemovedOnEnd=s,this.callOnStart();var u=this.getEventAttr(i,"changedTouches");u&&(this.touchId||(this.isDragging=!0,this.touchId=u[0].identifier))},onMove:function(t,n,r){this.options.disableAnimation||this.moving&&this.sliderElem.addClass("noanimate"),this.moving=!0;var i,o=this.getEventAttr(n,"changedTouches");if(o)for(var s=0;s<o.length;s++)if(o[s].identifier===this.touchId){i=o[s];break}if(!o||i){var a,u=this.getEventPosition(n,i?i.identifier:void 0),l=this.options.rightToLeft?this.minValue:this.maxValue,c=this.options.rightToLeft?this.maxValue:this.minValue;0>=u?a=c:u>=this.maxPos?a=l:(a=this.positionToValue(u),a=r&&e.isNumber(this.options.showTicks)?this.roundStep(a,this.options.showTicks):this.roundStep(a)),this.positionTrackingHandle(a)}},onEnd:function(e,t){this.moving=!1,this.options.disableAnimation||this.sliderElem.removeClass("noanimate");var r=this.getEventAttr(t,"changedTouches");if(!r||r[0].identifier===this.touchId){this.isDragging=!1,this.touchId=null,this.options.keyboardSupport||(this.minH.removeClass("rz-active"),this.maxH.removeClass("rz-active"),this.tracking=""),this.dragging.active=!1;var i=this.getEventNames(t);n.off(i.moveEvent,e),n.off(i.endEvent,this.endHandlerToBeRemovedOnEnd),this.endHandlerToBeRemovedOnEnd=null,this.callOnEnd()}},onTickClick:function(e,t){this.onMove(e,t,!0)},onPointerFocus:function(t,n){this.tracking=n,t.one("blur",e.bind(this,this.onPointerBlur,t)),t.on("keydown",e.bind(this,this.onKeyboardEvent)),t.on("keyup",e.bind(this,this.onKeyUp)),this.firstKeyDown=!0,t.addClass("rz-active"),this.currentFocusElement={pointer:t,ref:n}},onKeyUp:function(){this.firstKeyDown=!0,this.callOnEnd()},onPointerBlur:function(e){e.off("keydown"),e.off("keyup"),e.removeClass("rz-active"),this.isDragging||(this.tracking="",this.currentFocusElement=null)},skipRestrictedRanges:function(e,t){if(this.options.restrictedRange&&Array.isArray(this.options.restrictedRange))for(var n in this.options.restrictedRange){var r=this.options.restrictedRange[n];if(0===r.from&&0===t&&[37,40].includes(e)||r.to>=this.options.restrictedRange[this.options.restrictedRange.length-1].to&&t>=this.options.restrictedRange[this.options.restrictedRange.length-1].to&&[38,39].includes(e))return t;r.to>t&&t>r.from&&(t=Math.abs(r.to-t)>Math.abs(r.from-t)?r.to:r.from)}return t},getKeyActions:function(e){var t=e+this.step,n=e-this.step,r=e+this.valueRange/10,i=e-this.valueRange/10;this.options.reversedControls&&(t=e-this.step,n=e+this.step,r=e-this.valueRange/10,i=e+this.valueRange/10);var o={UP:t,DOWN:n,LEFT:n,RIGHT:t,PAGEUP:r,PAGEDOWN:i,HOME:this.options.reversedControls?this.maxValue:this.minValue,END:this.options.reversedControls?this.minValue:this.maxValue};return this.options.rightToLeft&&(o.LEFT=t,o.RIGHT=n,this.options.vertical&&(o.UP=n,o.DOWN=t)),o},onKeyboardEvent:function(e){var n=e.keyCode||e.which,r=this[this.tracking],i=this.getKeyActions(r)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[n]];if(null!=i&&""!==this.tracking){e.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.callOnStart());var o=this;t((function(){var e=o.roundStep(o.sanitizeValue(i));if(e=o.options.skipRestrictedRangesWithArrowKeys?o.skipRestrictedRanges(n,e):e,o.options.draggableRangeOnly){var t,r,s=o.highValue-o.lowValue;"lowValue"===o.tracking?(t=e,(r=e+s)>o.maxValue&&(t=(r=o.maxValue)-s)):(r=e,(t=e-s)<o.minValue&&(r=(t=o.minValue)+s)),o.positionTrackingBar(t,r)}else o.positionTrackingHandle(e)}))}},onDragStart:function(e,t,n){var r=this.getEventPosition(n);this.dragging={active:!0,value:this.positionToValue(r),difference:this.highValue-this.lowValue,lowLimit:this.options.rightToLeft?this.minH.rzsp-r:r-this.minH.rzsp,highLimit:this.options.rightToLeft?r-this.maxH.rzsp:this.maxH.rzsp-r},this.onStart(e,t,n)},getValue:function(e,t,n,r){var i,o=this.options.rightToLeft;return i="min"===e?n?r?o?this.minValue:this.maxValue-this.dragging.difference:o?this.maxValue-this.dragging.difference:this.minValue:o?this.positionToValue(t+this.dragging.lowLimit):this.positionToValue(t-this.dragging.lowLimit):n?r?o?this.minValue+this.dragging.difference:this.maxValue:o?this.maxValue:this.minValue+this.dragging.difference:o?this.positionToValue(t+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(t-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(i)},onDragMove:function(e,t){this.options.disableAnimation||this.moving&&this.sliderElem.addClass("noanimate"),this.moving=!0;var n,r,i,o,s,a,u,l,c=this.getEventPosition(t);if(this.options.rightToLeft?(i=this.dragging.lowLimit,o=this.dragging.highLimit,u=this.maxH,l=this.minH):(i=this.dragging.highLimit,o=this.dragging.lowLimit,u=this.minH,l=this.maxH),s=o>=c,a=c>=this.maxPos-i,s){if(0===u.rzsp)return;n=this.getValue("min",c,!0,!1),r=this.getValue("max",c,!0,!1)}else if(a){if(l.rzsp===this.maxPos)return;r=this.getValue("max",c,!0,!0),n=this.getValue("min",c,!0,!0)}else n=this.getValue("min",c,!1),r=this.getValue("max",c,!1);this.positionTrackingBar(n,r)},positionTrackingBar:function(e,t){null!=this.options.minLimit&&e<this.options.minLimit&&(t=(e=this.options.minLimit)+this.dragging.difference),null!=this.options.maxLimit&&t>this.options.maxLimit&&(e=(t=this.options.maxLimit)-this.dragging.difference),this.lowValue=e,this.highValue=t,this.applyLowValue(),this.range&&this.applyHighValue(),this.applyModel(!0),this.updateHandles("lowValue",this.valueToPosition(e)),this.updateHandles("highValue",this.valueToPosition(t))},positionTrackingHandle:function(e){var t=!1;e=this.applyMinMaxLimit(e),e=this.applyRestrictedRange(e),this.range&&(this.options.pushRange?(e=this.applyPushRange(e),t=!0):(this.options.noSwitching&&("lowValue"===this.tracking&&e>this.highValue?e=this.applyMinMaxRange(this.highValue):"highValue"===this.tracking&&e<this.lowValue&&(e=this.applyMinMaxRange(this.lowValue))),e=this.applyMinMaxRange(e),"lowValue"===this.tracking&&e>this.highValue?(this.lowValue=this.highValue,this.applyLowValue(),this.applyModel(),this.updateHandles(this.tracking,this.maxH.rzsp),this.updateAriaAttributes(),this.tracking="highValue",this.minH.removeClass("rz-active"),this.maxH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.maxH),t=!0):"highValue"===this.tracking&&e<this.lowValue&&(this.highValue=this.lowValue,this.applyHighValue(),this.applyModel(),this.updateHandles(this.tracking,this.minH.rzsp),this.updateAriaAttributes(),this.tracking="lowValue",this.maxH.removeClass("rz-active"),this.minH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.minH),t=!0))),this[this.tracking]!==e&&(this[this.tracking]=e,"lowValue"===this.tracking?this.applyLowValue():this.applyHighValue(),this.applyModel(),this.updateHandles(this.tracking,this.valueToPosition(e)),this.updateAriaAttributes(),t=!0),t&&this.applyModel(!0)},applyMinMaxLimit:function(e){return null!=this.options.minLimit&&e<this.options.minLimit?this.options.minLimit:null!=this.options.maxLimit&&e>this.options.maxLimit?this.options.maxLimit:e},applyMinMaxRange:function(e){var t="lowValue"===this.tracking?this.highValue:this.lowValue,n=Math.abs(e-t);return null!=this.options.minRange&&n<this.options.minRange?"lowValue"===this.tracking?this.highValue-this.options.minRange:this.lowValue+this.options.minRange:null!=this.options.maxRange&&n>this.options.maxRange?"lowValue"===this.tracking?this.highValue-this.options.maxRange:this.lowValue+this.options.maxRange:e},applyRestrictedRange:function(e){for(var t in this.options.restrictedRange)if(null!=this.options.restrictedRange[t]&&e>this.options.restrictedRange[t].from&&e<this.options.restrictedRange[t].to){var n=(this.options.restrictedRange[t].to-this.options.restrictedRange[t].from)/2;if("lowValue"===this.tracking)return e>this.options.restrictedRange[t].from+n?this.options.restrictedRange[t].to:this.options.restrictedRange[t].from;if("highValue"===this.tracking)return e<this.options.restrictedRange[t].to-n?this.options.restrictedRange[t].from:this.options.restrictedRange[t].to}return e},applyPushRange:function(e){var t="lowValue"===this.tracking?this.highValue-e:e-this.lowValue,n=null!==this.options.minRange?this.options.minRange:this.options.step,r=this.options.maxRange;return n>t?("lowValue"===this.tracking?(this.highValue=Math.min(e+n,this.maxValue),e=this.highValue-n,this.applyHighValue(),this.updateHandles("highValue",this.valueToPosition(this.highValue))):(this.lowValue=Math.max(e-n,this.minValue),e=this.lowValue+n,this.applyLowValue(),this.updateHandles("lowValue",this.valueToPosition(this.lowValue))),this.updateAriaAttributes()):null!==r&&t>r&&("lowValue"===this.tracking?(this.highValue=e+r,this.applyHighValue(),this.updateHandles("highValue",this.valueToPosition(this.highValue))):(this.lowValue=e-r,this.applyLowValue(),this.updateHandles("lowValue",this.valueToPosition(this.lowValue))),this.updateAriaAttributes()),e},applyModel:function(e){this.internalChange=!0,this.scope.$apply(),e&&this.callOnChange(),this.internalChange=!1},callOnStart:function(){if(this.options.onStart){var e=this,t="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync((function(){e.options.onStart(e.options.id,e.scope.rzSliderModel,e.scope.rzSliderHigh,t)}))}},callOnChange:function(){if(this.options.onChange){var e=this,t="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync((function(){e.options.onChange(e.options.id,e.scope.rzSliderModel,e.scope.rzSliderHigh,t)}))}},callOnEnd:function(){if(this.options.onEnd){var e=this,t="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync((function(){e.options.onEnd(e.options.id,e.scope.rzSliderModel,e.scope.rzSliderHigh,t)}))}this.scope.$emit("slideEnded")}},a}]).directive("rzslider",["RzSlider",function(e){return{restrict:"AE",replace:!0,scope:{rzSliderModel:"=?",rzSliderHigh:"=?",rzSliderOptions:"&?",rzSliderTplUrl:"@"},templateUrl:function(e,t){return t.rzSliderTplUrl||"rzSliderTpl.html"},link:function(t,n){t.slider=new e(t,n)}}}]);return t.run(["$templateCache",function(e){e.put("rzSliderTpl.html",'<div class=rzslider><span class="rz-bar-wrapper rz-left-out-selection"><span class=rz-bar></span></span> <span class="rz-bar-wrapper rz-right-out-selection"><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class="rz-bar rz-selection" ng-style=barStyle></span></span> <span class=rz-bar-wrapper><span class="rz-bar rz-restricted" ng-style=restrictionStyle></span></span> <span class="rz-pointer rz-pointer-min" ng-style=minPointerStyle></span> <span class="rz-pointer rz-pointer-max" ng-style=maxPointerStyle></span> <span class="rz-bubble rz-limit rz-floor"></span> <span class="rz-bubble rz-limit rz-ceil"></span> <span class="rz-bubble rz-model-value"></span> <span class="rz-bubble rz-model-high"></span> <span class=rz-bubble></span><ul ng-show=showTicks class=rz-ticks><li ng-repeat="t in ticks track by $index" class=rz-tick ng-class="{\'rz-selected\': t.selected}" ng-style=t.style ng-attr-uib-tooltip="{{ t.tooltip }}" ng-attr-tooltip-placement={{t.tooltipPlacement}} ng-attr-tooltip-append-to-body="{{ t.tooltip ? true : undefined}}"><span ng-if="t.value != null" class=rz-tick-value ng-attr-uib-tooltip="{{ t.valueTooltip }}" ng-attr-tooltip-placement={{t.valueTooltipPlacement}}>{{ t.value }}</span> <span ng-if="t.legend != null" class=rz-tick-legend>{{ t.legend }}</span></li></ul></div>')}]),t.name})?r.apply(t,i):r)||(e.exports=o)}()},25:function(e,t,n){"use strict";n.r(t),n.d(t,"SequenceGeneratorUtil",(function(){return r}));class r{static getFibonacciSequenceGenerator(){return r.fibonacciSequenceGenerator()}static fibonacciSequenceGenerator(){let e=0,t=1;return{next:function(){const n=t;return t=e+t,e=n,n},reset:function(){e=0,t=1}}}}},26:function(e,t,n){"use strict";n.r(t),n.d(t,"mapUriAsNtripleAutocompleteResponse",(function(){return r}));const r=e=>e&&e.data&&e.data.suggestions?e.data.suggestions.map(e=>({type:e.type,value:e.value,description:e.description})):[]},27:function(e,t,n){(function(e,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",s="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",l="[object Array]",c="[object Boolean]",h="[object Date]",p="[object Error]",d="[object Function]",f="[object GeneratorFunction]",g="[object Map]",m="[object Number]",v="[object Object]",y="[object RegExp]",b="[object Set]",$="[object String]",w="[object Symbol]",x="[object WeakMap]",S="[object ArrayBuffer]",E="[object DataView]",A="[object Float32Array]",C="[object Float64Array]",F="[object Int8Array]",T="[object Int16Array]",D="[object Int32Array]",R="[object Uint8Array]",k="[object Uint16Array]",I="[object Uint32Array]",P=/\b__p \+= '';/g,O=/\b(__p \+=) '' \+/g,_=/(__e\(.*?\)|\b__t\)) \+\n'';/g,j=/&(?:amp|lt|gt|quot|#39);/g,L=/[&<>"']/g,N=RegExp(j.source),M=RegExp(L.source),B=/<%-([\s\S]+?)%>/g,H=/<%([\s\S]+?)%>/g,U=/<%=([\s\S]+?)%>/g,V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q=/^\w*$/,z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/[\\^$.*+?()[\]{}|]/g,G=RegExp(K.source),W=/^\s+/,Y=/\s/,X=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,J=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,Z=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/[()=,{}\[\]\/\s]/,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,re=/\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,se=/^\[object .+?Constructor\]$/,ae=/^0o[0-7]+$/i,ue=/^(?:0|[1-9]\d*)$/,le=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ce=/($^)/,he=/['\n\r\u2028\u2029\\]/g,pe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",de="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fe="[\\ud800-\\udfff]",ge="["+de+"]",me="["+pe+"]",ve="\\d+",ye="[\\u2700-\\u27bf]",be="[a-z\\xdf-\\xf6\\xf8-\\xff]",$e="[^\\ud800-\\udfff"+de+ve+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",we="\\ud83c[\\udffb-\\udfff]",xe="[^\\ud800-\\udfff]",Se="(?:\\ud83c[\\udde6-\\uddff]){2}",Ee="[\\ud800-\\udbff][\\udc00-\\udfff]",Ae="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ce="(?:"+be+"|"+$e+")",Fe="(?:"+Ae+"|"+$e+")",Te="(?:"+me+"|"+we+")"+"?",De="[\\ufe0e\\ufe0f]?"+Te+("(?:\\u200d(?:"+[xe,Se,Ee].join("|")+")[\\ufe0e\\ufe0f]?"+Te+")*"),Re="(?:"+[ye,Se,Ee].join("|")+")"+De,ke="(?:"+[xe+me+"?",me,Se,Ee,fe].join("|")+")",Ie=RegExp("['â€™]","g"),Pe=RegExp(me,"g"),Oe=RegExp(we+"(?="+we+")|"+ke+De,"g"),_e=RegExp([Ae+"?"+be+"+(?:['â€™](?:d|ll|m|re|s|t|ve))?(?="+[ge,Ae,"$"].join("|")+")",Fe+"+(?:['â€™](?:D|LL|M|RE|S|T|VE))?(?="+[ge,Ae+Ce,"$"].join("|")+")",Ae+"?"+Ce+"+(?:['â€™](?:d|ll|m|re|s|t|ve))?",Ae+"+(?:['â€™](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ve,Re].join("|"),"g"),je=RegExp("[\\u200d\\ud800-\\udfff"+pe+"\\ufe0e\\ufe0f]"),Le=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ne=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Me=-1,Be={};Be[A]=Be[C]=Be[F]=Be[T]=Be[D]=Be[R]=Be["[object Uint8ClampedArray]"]=Be[k]=Be[I]=!0,Be[u]=Be[l]=Be[S]=Be[c]=Be[E]=Be[h]=Be[p]=Be[d]=Be[g]=Be[m]=Be[v]=Be[y]=Be[b]=Be[$]=Be[x]=!1;var He={};He[u]=He[l]=He[S]=He[E]=He[c]=He[h]=He[A]=He[C]=He[F]=He[T]=He[D]=He[g]=He[m]=He[v]=He[y]=He[b]=He[$]=He[w]=He[R]=He["[object Uint8ClampedArray]"]=He[k]=He[I]=!0,He[p]=He[d]=He[x]=!1;var Ue={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ve=parseFloat,qe=parseInt,ze="object"==typeof e&&e&&e.Object===Object&&e,Ke="object"==typeof self&&self&&self.Object===Object&&self,Ge=ze||Ke||Function("return this")(),We=t&&!t.nodeType&&t,Ye=We&&"object"==typeof r&&r&&!r.nodeType&&r,Xe=Ye&&Ye.exports===We,Je=Xe&&ze.process,Qe=function(){try{var e=Ye&&Ye.require&&Ye.require("util").types;return e||Je&&Je.binding&&Je.binding("util")}catch(e){}}(),Ze=Qe&&Qe.isArrayBuffer,et=Qe&&Qe.isDate,tt=Qe&&Qe.isMap,nt=Qe&&Qe.isRegExp,rt=Qe&&Qe.isSet,it=Qe&&Qe.isTypedArray;function ot(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function st(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function at(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function ut(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function ct(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function ht(e,t){return!!(null==e?0:e.length)&&wt(e,t,0)>-1}function pt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function dt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function ft(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function gt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function mt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function vt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var yt=At("length");function bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function $t(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function wt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):$t(e,St,n)}function xt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function St(e){return e!=e}function Et(e,t){var n=null==e?0:e.length;return n?Tt(e,t)/n:NaN}function At(e){return function(t){return null==t?void 0:t[e]}}function Ct(e){return function(t){return null==e?void 0:e[t]}}function Ft(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Tt(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Dt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Rt(e){return e?e.slice(0,Wt(e)+1).replace(W,""):e}function kt(e){return function(t){return e(t)}}function It(e,t){return dt(t,(function(t){return e[t]}))}function Pt(e,t){return e.has(t)}function Ot(e,t){for(var n=-1,r=e.length;++n<r&&wt(t,e[n],0)>-1;);return n}function _t(e,t){for(var n=e.length;n--&&wt(t,e[n],0)>-1;);return n}function jt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Lt=Ct({"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã‡":"C","Ã§":"c","Ã":"D","Ã°":"d","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã‘":"N","Ã±":"n","Ã’":"O","Ã“":"O","Ã”":"O","Ã•":"O","Ã–":"O","Ã˜":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã†":"Ae","Ã¦":"ae","Ãž":"Th","Ã¾":"th","ÃŸ":"ss","Ä€":"A","Ä‚":"A","Ä„":"A","Ä":"a","Äƒ":"a","Ä…":"a","Ä†":"C","Äˆ":"C","ÄŠ":"C","ÄŒ":"C","Ä‡":"c","Ä‰":"c","Ä‹":"c","Ä":"c","ÄŽ":"D","Ä":"D","Ä":"d","Ä‘":"d","Ä’":"E","Ä”":"E","Ä–":"E","Ä˜":"E","Äš":"E","Ä“":"e","Ä•":"e","Ä—":"e","Ä™":"e","Ä›":"e","Äœ":"G","Äž":"G","Ä ":"G","Ä¢":"G","Ä":"g","ÄŸ":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å€":"l","Å‚":"l","Åƒ":"N","Å…":"N","Å‡":"N","ÅŠ":"N","Å„":"n","Å†":"n","Åˆ":"n","Å‹":"n","ÅŒ":"O","ÅŽ":"O","Å":"O","Å":"o","Å":"o","Å‘":"o","Å”":"R","Å–":"R","Å˜":"R","Å•":"r","Å—":"r","Å™":"r","Åš":"S","Åœ":"S","Åž":"S","Å ":"S","Å›":"s","Å":"s","ÅŸ":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å’":"Oe","Å“":"oe","Å‰":"'n","Å¿":"s"}),Nt=Ct({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Mt(e){return"\\"+Ue[e]}function Bt(e){return je.test(e)}function Ht(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Ut(e,t){return function(n){return e(t(n))}}function Vt(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function qt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function zt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Kt(e){return Bt(e)?function(e){var t=Oe.lastIndex=0;for(;Oe.test(e);)++t;return t}(e):yt(e)}function Gt(e){return Bt(e)?function(e){return e.match(Oe)||[]}(e):function(e){return e.split("")}(e)}function Wt(e){for(var t=e.length;t--&&Y.test(e.charAt(t)););return t}var Yt=Ct({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Xt=function e(t){var n,r=(t=null==t?Ge:Xt.defaults(Ge.Object(),t,Xt.pick(Ge,Ne))).Array,i=t.Date,Y=t.Error,pe=t.Function,de=t.Math,fe=t.Object,ge=t.RegExp,me=t.String,ve=t.TypeError,ye=r.prototype,be=pe.prototype,$e=fe.prototype,we=t["__core-js_shared__"],xe=be.toString,Se=$e.hasOwnProperty,Ee=0,Ae=(n=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ce=$e.toString,Fe=xe.call(fe),Te=Ge._,De=ge("^"+xe.call(Se).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Re=Xe?t.Buffer:void 0,ke=t.Symbol,Oe=t.Uint8Array,je=Re?Re.allocUnsafe:void 0,Ue=Ut(fe.getPrototypeOf,fe),ze=fe.create,Ke=$e.propertyIsEnumerable,We=ye.splice,Ye=ke?ke.isConcatSpreadable:void 0,Je=ke?ke.iterator:void 0,Qe=ke?ke.toStringTag:void 0,yt=function(){try{var e=eo(fe,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ct=t.clearTimeout!==Ge.clearTimeout&&t.clearTimeout,Jt=i&&i.now!==Ge.Date.now&&i.now,Qt=t.setTimeout!==Ge.setTimeout&&t.setTimeout,Zt=de.ceil,en=de.floor,tn=fe.getOwnPropertySymbols,nn=Re?Re.isBuffer:void 0,rn=t.isFinite,on=ye.join,sn=Ut(fe.keys,fe),an=de.max,un=de.min,ln=i.now,cn=t.parseInt,hn=de.random,pn=ye.reverse,dn=eo(t,"DataView"),fn=eo(t,"Map"),gn=eo(t,"Promise"),mn=eo(t,"Set"),vn=eo(t,"WeakMap"),yn=eo(fe,"create"),bn=vn&&new vn,$n={},wn=To(dn),xn=To(fn),Sn=To(gn),En=To(mn),An=To(vn),Cn=ke?ke.prototype:void 0,Fn=Cn?Cn.valueOf:void 0,Tn=Cn?Cn.toString:void 0;function Dn(e){if(zs(e)&&!Os(e)&&!(e instanceof Pn)){if(e instanceof In)return e;if(Se.call(e,"__wrapped__"))return Do(e)}return new In(e)}var Rn=function(){function e(){}return function(t){if(!qs(t))return{};if(ze)return ze(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function kn(){}function In(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Pn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function On(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ln(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new jn;++t<n;)this.add(e[t])}function Nn(e){var t=this.__data__=new _n(e);this.size=t.size}function Mn(e,t){var n=Os(e),r=!n&&Ps(e),i=!n&&!r&&Ns(e),o=!n&&!r&&!i&&Zs(e),s=n||r||i||o,a=s?Dt(e.length,me):[],u=a.length;for(var l in e)!t&&!Se.call(e,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ao(l,u))||a.push(l);return a}function Bn(e){var t=e.length;return t?e[Lr(0,t-1)]:void 0}function Hn(e,t){return Ao(yi(e),Xn(t,0,e.length))}function Un(e){return Ao(yi(e))}function Vn(e,t,n){(void 0!==n&&!Rs(e[t],n)||void 0===n&&!(t in e))&&Wn(e,t,n)}function qn(e,t,n){var r=e[t];Se.call(e,t)&&Rs(r,n)&&(void 0!==n||t in e)||Wn(e,t,n)}function zn(e,t){for(var n=e.length;n--;)if(Rs(e[n][0],t))return n;return-1}function Kn(e,t,n,r){return tr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function Gn(e,t){return e&&bi(t,wa(t),e)}function Wn(e,t,n){"__proto__"==t&&yt?yt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Yn(e,t){for(var n=-1,i=t.length,o=r(i),s=null==e;++n<i;)o[n]=s?void 0:ma(e,t[n]);return o}function Xn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Jn(e,t,n,r,i,o){var s,a=1&t,l=2&t,p=4&t;if(n&&(s=i?n(e,r,i,o):n(e)),void 0!==s)return s;if(!qs(e))return e;var x=Os(e);if(x){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Se.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!a)return yi(e,s)}else{var P=ro(e),O=P==d||P==f;if(Ns(e))return pi(e,a);if(P==v||P==u||O&&!i){if(s=l||O?{}:oo(e),!a)return l?function(e,t){return bi(e,no(e),t)}(e,function(e,t){return e&&bi(t,xa(t),e)}(s,e)):function(e,t){return bi(e,to(e),t)}(e,Gn(s,e))}else{if(!He[P])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case S:return di(e);case c:case h:return new r(+e);case E:return function(e,t){var n=t?di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case A:case C:case F:case T:case D:case R:case"[object Uint8ClampedArray]":case k:case I:return fi(e,n);case g:return new r;case m:case $:return new r(e);case y:return function(e){var t=new e.constructor(e.source,re.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new r;case w:return i=e,Fn?fe(Fn.call(i)):{}}var i}(e,P,a)}}o||(o=new Nn);var _=o.get(e);if(_)return _;o.set(e,s),Xs(e)?e.forEach((function(r){s.add(Jn(r,t,n,r,e,o))})):Ks(e)&&e.forEach((function(r,i){s.set(i,Jn(r,t,n,i,e,o))}));var j=x?void 0:(p?l?Gi:Ki:l?xa:wa)(e);return at(j||e,(function(r,i){j&&(r=e[i=r]),qn(s,i,Jn(r,t,n,i,e,o))})),s}function Qn(e,t,n){var r=n.length;if(null==e)return!r;for(e=fe(e);r--;){var i=n[r],o=t[i],s=e[i];if(void 0===s&&!(i in e)||!o(s))return!1}return!0}function Zn(e,t,n){if("function"!=typeof e)throw new ve(o);return wo((function(){e.apply(void 0,n)}),t)}function er(e,t,n,r){var i=-1,o=ht,s=!0,a=e.length,u=[],l=t.length;if(!a)return u;n&&(t=dt(t,kt(n))),r?(o=pt,s=!1):t.length>=200&&(o=Pt,s=!1,t=new Ln(t));e:for(;++i<a;){var c=e[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,s&&h==h){for(var p=l;p--;)if(t[p]===h)continue e;u.push(c)}else o(t,h,r)||u.push(c)}return u}Dn.templateSettings={escape:B,evaluate:H,interpolate:U,variable:"",imports:{_:Dn}},Dn.prototype=kn.prototype,Dn.prototype.constructor=Dn,In.prototype=Rn(kn.prototype),In.prototype.constructor=In,Pn.prototype=Rn(kn.prototype),Pn.prototype.constructor=Pn,On.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},On.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},On.prototype.get=function(e){var t=this.__data__;if(yn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Se.call(t,e)?t[e]:void 0},On.prototype.has=function(e){var t=this.__data__;return yn?void 0!==t[e]:Se.call(t,e)},On.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?"__lodash_hash_undefined__":t,this},_n.prototype.clear=function(){this.__data__=[],this.size=0},_n.prototype.delete=function(e){var t=this.__data__,n=zn(t,e);return!(n<0)&&(n==t.length-1?t.pop():We.call(t,n,1),--this.size,!0)},_n.prototype.get=function(e){var t=this.__data__,n=zn(t,e);return n<0?void 0:t[n][1]},_n.prototype.has=function(e){return zn(this.__data__,e)>-1},_n.prototype.set=function(e,t){var n=this.__data__,r=zn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},jn.prototype.clear=function(){this.size=0,this.__data__={hash:new On,map:new(fn||_n),string:new On}},jn.prototype.delete=function(e){var t=Qi(this,e).delete(e);return this.size-=t?1:0,t},jn.prototype.get=function(e){return Qi(this,e).get(e)},jn.prototype.has=function(e){return Qi(this,e).has(e)},jn.prototype.set=function(e,t){var n=Qi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ln.prototype.add=Ln.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ln.prototype.has=function(e){return this.__data__.has(e)},Nn.prototype.clear=function(){this.__data__=new _n,this.size=0},Nn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Nn.prototype.get=function(e){return this.__data__.get(e)},Nn.prototype.has=function(e){return this.__data__.has(e)},Nn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof _n){var r=n.__data__;if(!fn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new jn(r)}return n.set(e,t),this.size=n.size,this};var tr=xi(lr),nr=xi(cr,!0);function rr(e,t){var n=!0;return tr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function ir(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],s=t(o);if(null!=s&&(void 0===a?s==s&&!Qs(s):n(s,a)))var a=s,u=o}return u}function or(e,t){var n=[];return tr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function sr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=so),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?sr(a,t-1,n,r,i):ft(i,a):r||(i[i.length]=a)}return i}var ar=Si(),ur=Si(!0);function lr(e,t){return e&&ar(e,t,wa)}function cr(e,t){return e&&ur(e,t,wa)}function hr(e,t){return ct(t,(function(t){return Hs(e[t])}))}function pr(e,t){for(var n=0,r=(t=ui(t,e)).length;null!=e&&n<r;)e=e[Fo(t[n++])];return n&&n==r?e:void 0}function dr(e,t,n){var r=t(e);return Os(e)?r:ft(r,n(e))}function fr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Qe&&Qe in fe(e)?function(e){var t=Se.call(e,Qe),n=e[Qe];try{e[Qe]=void 0;var r=!0}catch(e){}var i=Ce.call(e);r&&(t?e[Qe]=n:delete e[Qe]);return i}(e):function(e){return Ce.call(e)}(e)}function gr(e,t){return e>t}function mr(e,t){return null!=e&&Se.call(e,t)}function vr(e,t){return null!=e&&t in fe(e)}function yr(e,t,n){for(var i=n?pt:ht,o=e[0].length,s=e.length,a=s,u=r(s),l=1/0,c=[];a--;){var h=e[a];a&&t&&(h=dt(h,kt(t))),l=un(h.length,l),u[a]=!n&&(t||o>=120&&h.length>=120)?new Ln(a&&h):void 0}h=e[0];var p=-1,d=u[0];e:for(;++p<o&&c.length<l;){var f=h[p],g=t?t(f):f;if(f=n||0!==f?f:0,!(d?Pt(d,g):i(c,g,n))){for(a=s;--a;){var m=u[a];if(!(m?Pt(m,g):i(e[a],g,n)))continue e}d&&d.push(g),c.push(f)}}return c}function br(e,t,n){var r=null==(e=vo(e,t=ui(t,e)))?e:e[Fo(Bo(t))];return null==r?void 0:ot(r,e,n)}function $r(e){return zs(e)&&fr(e)==u}function wr(e,t,n,r,i){return e===t||(null==e||null==t||!zs(e)&&!zs(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var s=Os(e),a=Os(t),d=s?l:ro(e),f=a?l:ro(t),x=(d=d==u?v:d)==v,A=(f=f==u?v:f)==v,C=d==f;if(C&&Ns(e)){if(!Ns(t))return!1;s=!0,x=!1}if(C&&!x)return o||(o=new Nn),s||Zs(e)?qi(e,t,n,r,i,o):function(e,t,n,r,i,o,s){switch(n){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!o(new Oe(e),new Oe(t)));case c:case h:case m:return Rs(+e,+t);case p:return e.name==t.name&&e.message==t.message;case y:case $:return e==t+"";case g:var a=Ht;case b:var u=1&r;if(a||(a=qt),e.size!=t.size&&!u)return!1;var l=s.get(e);if(l)return l==t;r|=2,s.set(e,t);var d=qi(a(e),a(t),r,i,o,s);return s.delete(e),d;case w:if(Fn)return Fn.call(e)==Fn.call(t)}return!1}(e,t,d,n,r,i,o);if(!(1&n)){var F=x&&Se.call(e,"__wrapped__"),T=A&&Se.call(t,"__wrapped__");if(F||T){var D=F?e.value():e,R=T?t.value():t;return o||(o=new Nn),i(D,R,n,r,o)}}if(!C)return!1;return o||(o=new Nn),function(e,t,n,r,i,o){var s=1&n,a=Ki(e),u=a.length,l=Ki(t).length;if(u!=l&&!s)return!1;var c=u;for(;c--;){var h=a[c];if(!(s?h in t:Se.call(t,h)))return!1}var p=o.get(e),d=o.get(t);if(p&&d)return p==t&&d==e;var f=!0;o.set(e,t),o.set(t,e);var g=s;for(;++c<u;){h=a[c];var m=e[h],v=t[h];if(r)var y=s?r(v,m,h,t,e,o):r(m,v,h,e,t,o);if(!(void 0===y?m===v||i(m,v,n,r,o):y)){f=!1;break}g||(g="constructor"==h)}if(f&&!g){var b=e.constructor,$=t.constructor;b==$||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof $&&$ instanceof $||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,r,i,o)}(e,t,n,r,wr,i))}function xr(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=fe(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var u=(a=n[i])[0],l=e[u],c=a[1];if(s&&a[2]){if(void 0===l&&!(u in e))return!1}else{var h=new Nn;if(r)var p=r(l,c,u,e,t,h);if(!(void 0===p?wr(c,l,3,r,h):p))return!1}}return!0}function Sr(e){return!(!qs(e)||(t=e,Ae&&Ae in t))&&(Hs(e)?De:se).test(To(e));var t}function Er(e){return"function"==typeof e?e:null==e?Ga:"object"==typeof e?Os(e)?Rr(e[0],e[1]):Dr(e):nu(e)}function Ar(e){if(!po(e))return sn(e);var t=[];for(var n in fe(e))Se.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Cr(e){if(!qs(e))return function(e){var t=[];if(null!=e)for(var n in fe(e))t.push(n);return t}(e);var t=po(e),n=[];for(var r in e)("constructor"!=r||!t&&Se.call(e,r))&&n.push(r);return n}function Fr(e,t){return e<t}function Tr(e,t){var n=-1,i=js(e)?r(e.length):[];return tr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Dr(e){var t=Zi(e);return 1==t.length&&t[0][2]?go(t[0][0],t[0][1]):function(n){return n===e||xr(n,e,t)}}function Rr(e,t){return lo(e)&&fo(t)?go(Fo(e),t):function(n){var r=ma(n,e);return void 0===r&&r===t?va(n,e):wr(t,r,3)}}function kr(e,t,n,r,i){e!==t&&ar(t,(function(o,s){if(i||(i=new Nn),qs(o))!function(e,t,n,r,i,o,s){var a=bo(e,n),u=bo(t,n),l=s.get(u);if(l)return void Vn(e,n,l);var c=o?o(a,u,n+"",e,t,s):void 0,h=void 0===c;if(h){var p=Os(u),d=!p&&Ns(u),f=!p&&!d&&Zs(u);c=u,p||d||f?Os(a)?c=a:Ls(a)?c=yi(a):d?(h=!1,c=pi(u,!0)):f?(h=!1,c=fi(u,!0)):c=[]:Ws(u)||Ps(u)?(c=a,Ps(a)?c=aa(a):qs(a)&&!Hs(a)||(c=oo(u))):h=!1}h&&(s.set(u,c),i(c,u,r,o,s),s.delete(u));Vn(e,n,c)}(e,t,s,n,kr,r,i);else{var a=r?r(bo(e,s),o,s+"",e,t,i):void 0;void 0===a&&(a=o),Vn(e,s,a)}}),xa)}function Ir(e,t){var n=e.length;if(n)return ao(t+=t<0?n:0,n)?e[t]:void 0}function Pr(e,t,n){t=t.length?dt(t,(function(e){return Os(e)?function(t){return pr(t,1===e.length?e[0]:e)}:e})):[Ga];var r=-1;return t=dt(t,kt(Ji())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Tr(e,(function(e,n,i){return{criteria:dt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){var u=gi(i[r],o[r]);if(u){if(r>=a)return u;var l=n[r];return u*("desc"==l?-1:1)}}return e.index-t.index}(e,t,n)}))}function Or(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=pr(e,s);n(a,s)&&Ur(o,ui(s,e),a)}return o}function _r(e,t,n,r){var i=r?xt:wt,o=-1,s=t.length,a=e;for(e===t&&(t=yi(t)),n&&(a=dt(e,kt(n)));++o<s;)for(var u=0,l=t[o],c=n?n(l):l;(u=i(a,c,u,r))>-1;)a!==e&&We.call(a,u,1),We.call(e,u,1);return e}function jr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;ao(i)?We.call(e,i,1):ei(e,i)}}return e}function Lr(e,t){return e+en(hn()*(t-e+1))}function Nr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=en(t/2))&&(e+=e)}while(t);return n}function Mr(e,t){return xo(mo(e,t,Ga),e+"")}function Br(e){return Bn(Ra(e))}function Hr(e,t){var n=Ra(e);return Ao(n,Xn(t,0,n.length))}function Ur(e,t,n,r){if(!qs(e))return e;for(var i=-1,o=(t=ui(t,e)).length,s=o-1,a=e;null!=a&&++i<o;){var u=Fo(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=s){var c=a[u];void 0===(l=r?r(c,u,a):void 0)&&(l=qs(c)?c:ao(t[i+1])?[]:{})}qn(a,u,l),a=a[u]}return e}var Vr=bn?function(e,t){return bn.set(e,t),e}:Ga,qr=yt?function(e,t){return yt(e,"toString",{configurable:!0,enumerable:!1,value:qa(t),writable:!0})}:Ga;function zr(e){return Ao(Ra(e))}function Kr(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function Gr(e,t){var n;return tr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Wr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!Qs(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return Yr(e,t,Ga,n)}function Yr(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,a=null===t,u=Qs(t),l=void 0===t;i<o;){var c=en((i+o)/2),h=n(e[c]),p=void 0!==h,d=null===h,f=h==h,g=Qs(h);if(s)var m=r||f;else m=l?f&&(r||p):a?f&&p&&(r||!d):u?f&&p&&!d&&(r||!g):!d&&!g&&(r?h<=t:h<t);m?i=c+1:o=c}return un(o,4294967294)}function Xr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Rs(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function Jr(e){return"number"==typeof e?e:Qs(e)?NaN:+e}function Qr(e){if("string"==typeof e)return e;if(Os(e))return dt(e,Qr)+"";if(Qs(e))return Tn?Tn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Zr(e,t,n){var r=-1,i=ht,o=e.length,s=!0,a=[],u=a;if(n)s=!1,i=pt;else if(o>=200){var l=t?null:Ni(e);if(l)return qt(l);s=!1,i=Pt,u=new Ln}else u=t?[]:a;e:for(;++r<o;){var c=e[r],h=t?t(c):c;if(c=n||0!==c?c:0,s&&h==h){for(var p=u.length;p--;)if(u[p]===h)continue e;t&&u.push(h),a.push(c)}else i(u,h,n)||(u!==a&&u.push(h),a.push(c))}return a}function ei(e,t){return null==(e=vo(e,t=ui(t,e)))||delete e[Fo(Bo(t))]}function ti(e,t,n,r){return Ur(e,t,n(pr(e,t)),r)}function ni(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Kr(e,r?0:o,r?o+1:i):Kr(e,r?o+1:0,r?i:o)}function ri(e,t){var n=e;return n instanceof Pn&&(n=n.value()),gt(t,(function(e,t){return t.func.apply(t.thisArg,ft([e],t.args))}),n)}function ii(e,t,n){var i=e.length;if(i<2)return i?Zr(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],u=-1;++u<i;)u!=o&&(s[o]=er(s[o]||a,e[u],t,n));return Zr(sr(s,1),t,n)}function oi(e,t,n){for(var r=-1,i=e.length,o=t.length,s={};++r<i;){var a=r<o?t[r]:void 0;n(s,e[r],a)}return s}function si(e){return Ls(e)?e:[]}function ai(e){return"function"==typeof e?e:Ga}function ui(e,t){return Os(e)?e:lo(e,t)?[e]:Co(ua(e))}var li=Mr;function ci(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Kr(e,t,n)}var hi=Ct||function(e){return Ge.clearTimeout(e)};function pi(e,t){if(t)return e.slice();var n=e.length,r=je?je(n):new e.constructor(n);return e.copy(r),r}function di(e){var t=new e.constructor(e.byteLength);return new Oe(t).set(new Oe(e)),t}function fi(e,t){var n=t?di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function gi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Qs(e),s=void 0!==t,a=null===t,u=t==t,l=Qs(t);if(!a&&!l&&!o&&e>t||o&&s&&u&&!a&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&e<t||l&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!u)return-1}return 0}function mi(e,t,n,i){for(var o=-1,s=e.length,a=n.length,u=-1,l=t.length,c=an(s-a,0),h=r(l+c),p=!i;++u<l;)h[u]=t[u];for(;++o<a;)(p||o<s)&&(h[n[o]]=e[o]);for(;c--;)h[u++]=e[o++];return h}function vi(e,t,n,i){for(var o=-1,s=e.length,a=-1,u=n.length,l=-1,c=t.length,h=an(s-u,0),p=r(h+c),d=!i;++o<h;)p[o]=e[o];for(var f=o;++l<c;)p[f+l]=t[l];for(;++a<u;)(d||o<s)&&(p[f+n[a]]=e[o++]);return p}function yi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function bi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],u=r?r(n[a],e[a],a,n,e):void 0;void 0===u&&(u=e[a]),i?Wn(n,a,u):qn(n,a,u)}return n}function $i(e,t){return function(n,r){var i=Os(n)?st:Kn,o=t?t():{};return i(n,e,Ji(r,2),o)}}function wi(e){return Mr((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&uo(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=fe(t);++r<i;){var a=n[r];a&&e(t,a,r,o)}return t}))}function xi(e,t){return function(n,r){if(null==n)return n;if(!js(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=fe(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Si(e){return function(t,n,r){for(var i=-1,o=fe(t),s=r(t),a=s.length;a--;){var u=s[e?a:++i];if(!1===n(o[u],u,o))break}return t}}function Ei(e){return function(t){var n=Bt(t=ua(t))?Gt(t):void 0,r=n?n[0]:t.charAt(0),i=n?ci(n,1).join(""):t.slice(1);return r[e]()+i}}function Ai(e){return function(t){return gt(Ha(Pa(t).replace(Ie,"")),e,"")}}function Ci(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Rn(e.prototype),r=e.apply(n,t);return qs(r)?r:n}}function Fi(e){return function(t,n,r){var i=fe(t);if(!js(t)){var o=Ji(n,3);t=wa(t),n=function(e){return o(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}}function Ti(e){return zi((function(t){var n=t.length,r=n,i=In.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new ve(o);if(i&&!a&&"wrapper"==Yi(s))var a=new In([],!0)}for(r=a?r:n;++r<n;){var u=Yi(s=t[r]),l="wrapper"==u?Wi(s):void 0;a=l&&co(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?a[Yi(l[0])].apply(a,l[3]):1==s.length&&co(s)?a[u]():a.thru(s)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&Os(r))return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Di(e,t,n,i,o,s,a,u,l,c){var h=128&t,p=1&t,d=2&t,f=24&t,g=512&t,m=d?void 0:Ci(e);return function v(){for(var y=arguments.length,b=r(y),$=y;$--;)b[$]=arguments[$];if(f)var w=Xi(v),x=jt(b,w);if(i&&(b=mi(b,i,o,f)),s&&(b=vi(b,s,a,f)),y-=x,f&&y<c){var S=Vt(b,w);return ji(e,t,Di,v.placeholder,n,b,S,u,l,c-y)}var E=p?n:this,A=d?E[e]:e;return y=b.length,u?b=yo(b,u):g&&y>1&&b.reverse(),h&&l<y&&(b.length=l),this&&this!==Ge&&this instanceof v&&(A=m||Ci(A)),A.apply(E,b)}}function Ri(e,t){return function(n,r){return function(e,t,n,r){return lr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function ki(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Qr(n),r=Qr(r)):(n=Jr(n),r=Jr(r)),i=e(n,r)}return i}}function Ii(e){return zi((function(t){return t=dt(t,kt(Ji())),Mr((function(n){var r=this;return e(t,(function(e){return ot(e,r,n)}))}))}))}function Pi(e,t){var n=(t=void 0===t?" ":Qr(t)).length;if(n<2)return n?Nr(t,e):t;var r=Nr(t,Zt(e/Kt(t)));return Bt(t)?ci(Gt(r),0,e).join(""):r.slice(0,e)}function Oi(e){return function(t,n,i){return i&&"number"!=typeof i&&uo(t,n,i)&&(n=i=void 0),t=ra(t),void 0===n?(n=t,t=0):n=ra(n),function(e,t,n,i){for(var o=-1,s=an(Zt((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,i=void 0===i?t<n?1:-1:ra(i),e)}}function _i(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=sa(t),n=sa(n)),e(t,n)}}function ji(e,t,n,r,i,o,s,a,u,l){var c=8&t;t|=c?32:64,4&(t&=~(c?64:32))||(t&=-4);var h=[e,t,i,c?o:void 0,c?s:void 0,c?void 0:o,c?void 0:s,a,u,l],p=n.apply(void 0,h);return co(e)&&$o(p,h),p.placeholder=r,So(p,e,t)}function Li(e){var t=de[e];return function(e,n){if(e=sa(e),(n=null==n?0:un(ia(n),292))&&rn(e)){var r=(ua(e)+"e").split("e");return+((r=(ua(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ni=mn&&1/qt(new mn([,-0]))[1]==1/0?function(e){return new mn(e)}:Qa;function Mi(e){return function(t){var n=ro(t);return n==g?Ht(t):n==b?zt(t):function(e,t){return dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Bi(e,t,n,i,a,u,l,c){var h=2&t;if(!h&&"function"!=typeof e)throw new ve(o);var p=i?i.length:0;if(p||(t&=-97,i=a=void 0),l=void 0===l?l:an(ia(l),0),c=void 0===c?c:ia(c),p-=a?a.length:0,64&t){var d=i,f=a;i=a=void 0}var g=h?void 0:Wi(e),m=[e,t,n,i,a,d,f,u,l,c];if(g&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?mi(l,u,t[4]):u,e[4]=l?Vt(e[3],s):t[4]}(u=t[5])&&(l=e[5],e[5]=l?vi(l,u,t[6]):u,e[6]=l?Vt(e[5],s):t[6]);(u=t[7])&&(e[7]=u);128&r&&(e[8]=null==e[8]?t[8]:un(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(m,g),e=m[0],t=m[1],n=m[2],i=m[3],a=m[4],!(c=m[9]=void 0===m[9]?h?0:e.length:an(m[9]-p,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?function(e,t,n){var i=Ci(e);return function o(){for(var s=arguments.length,a=r(s),u=s,l=Xi(o);u--;)a[u]=arguments[u];var c=s<3&&a[0]!==l&&a[s-1]!==l?[]:Vt(a,l);if((s-=c.length)<n)return ji(e,t,Di,o.placeholder,void 0,a,c,void 0,void 0,n-s);var h=this&&this!==Ge&&this instanceof o?i:e;return ot(h,this,a)}}(e,t,c):32!=t&&33!=t||a.length?Di.apply(void 0,m):function(e,t,n,i){var o=1&t,s=Ci(e);return function t(){for(var a=-1,u=arguments.length,l=-1,c=i.length,h=r(c+u),p=this&&this!==Ge&&this instanceof t?s:e;++l<c;)h[l]=i[l];for(;u--;)h[l++]=arguments[++a];return ot(p,o?n:this,h)}}(e,t,n,i);else var v=function(e,t,n){var r=1&t,i=Ci(e);return function t(){var o=this&&this!==Ge&&this instanceof t?i:e;return o.apply(r?n:this,arguments)}}(e,t,n);return So((g?Vr:$o)(v,m),e,t)}function Hi(e,t,n,r){return void 0===e||Rs(e,$e[n])&&!Se.call(r,n)?t:e}function Ui(e,t,n,r,i,o){return qs(e)&&qs(t)&&(o.set(t,e),kr(e,t,void 0,Ui,o),o.delete(t)),e}function Vi(e){return Ws(e)?void 0:e}function qi(e,t,n,r,i,o){var s=1&n,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var l=o.get(e),c=o.get(t);if(l&&c)return l==t&&c==e;var h=-1,p=!0,d=2&n?new Ln:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var f=e[h],g=t[h];if(r)var m=s?r(g,f,h,t,e,o):r(f,g,h,e,t,o);if(void 0!==m){if(m)continue;p=!1;break}if(d){if(!vt(t,(function(e,t){if(!Pt(d,t)&&(f===e||i(f,e,n,r,o)))return d.push(t)}))){p=!1;break}}else if(f!==g&&!i(f,g,n,r,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function zi(e){return xo(mo(e,void 0,_o),e+"")}function Ki(e){return dr(e,wa,to)}function Gi(e){return dr(e,xa,no)}var Wi=bn?function(e){return bn.get(e)}:Qa;function Yi(e){for(var t=e.name+"",n=$n[t],r=Se.call($n,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Xi(e){return(Se.call(Dn,"placeholder")?Dn:e).placeholder}function Ji(){var e=Dn.iteratee||Wa;return e=e===Wa?Er:e,arguments.length?e(arguments[0],arguments[1]):e}function Qi(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Zi(e){for(var t=wa(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,fo(i)]}return t}function eo(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Sr(n)?n:void 0}var to=tn?function(e){return null==e?[]:(e=fe(e),ct(tn(e),(function(t){return Ke.call(e,t)})))}:ou,no=tn?function(e){for(var t=[];e;)ft(t,to(e)),e=Ue(e);return t}:ou,ro=fr;function io(e,t,n){for(var r=-1,i=(t=ui(t,e)).length,o=!1;++r<i;){var s=Fo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Vs(i)&&ao(s,i)&&(Os(e)||Ps(e))}function oo(e){return"function"!=typeof e.constructor||po(e)?{}:Rn(Ue(e))}function so(e){return Os(e)||Ps(e)||!!(Ye&&e&&e[Ye])}function ao(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ue.test(e))&&e>-1&&e%1==0&&e<t}function uo(e,t,n){if(!qs(n))return!1;var r=typeof t;return!!("number"==r?js(n)&&ao(t,n.length):"string"==r&&t in n)&&Rs(n[t],e)}function lo(e,t){if(Os(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Qs(e))||(q.test(e)||!V.test(e)||null!=t&&e in fe(t))}function co(e){var t=Yi(e),n=Dn[t];if("function"!=typeof n||!(t in Pn.prototype))return!1;if(e===n)return!0;var r=Wi(n);return!!r&&e===r[0]}(dn&&ro(new dn(new ArrayBuffer(1)))!=E||fn&&ro(new fn)!=g||gn&&"[object Promise]"!=ro(gn.resolve())||mn&&ro(new mn)!=b||vn&&ro(new vn)!=x)&&(ro=function(e){var t=fr(e),n=t==v?e.constructor:void 0,r=n?To(n):"";if(r)switch(r){case wn:return E;case xn:return g;case Sn:return"[object Promise]";case En:return b;case An:return x}return t});var ho=we?Hs:su;function po(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$e)}function fo(e){return e==e&&!qs(e)}function go(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in fe(n)))}}function mo(e,t,n){return t=an(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=an(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var u=r(t+1);++o<t;)u[o]=i[o];return u[t]=n(a),ot(e,this,u)}}function vo(e,t){return t.length<2?e:pr(e,Kr(t,0,-1))}function yo(e,t){for(var n=e.length,r=un(t.length,n),i=yi(e);r--;){var o=t[r];e[r]=ao(o,n)?i[o]:void 0}return e}function bo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var $o=Eo(Vr),wo=Qt||function(e,t){return Ge.setTimeout(e,t)},xo=Eo(qr);function So(e,t,n){var r=t+"";return xo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(X,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return at(a,(function(n){var r="_."+n[0];t&n[1]&&!ht(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(J);return t?t[1].split(Q):[]}(r),n)))}function Eo(e){var t=0,n=0;return function(){var r=ln(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Ao(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=Lr(n,i),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var Co=function(e){var t=Es(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(z,(function(e,n,r,i){t.push(r?i.replace(te,"$1"):n||e)})),t}));function Fo(e){if("string"==typeof e||Qs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function To(e){if(null!=e){try{return xe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Do(e){if(e instanceof Pn)return e.clone();var t=new In(e.__wrapped__,e.__chain__);return t.__actions__=yi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ro=Mr((function(e,t){return Ls(e)?er(e,sr(t,1,Ls,!0)):[]})),ko=Mr((function(e,t){var n=Bo(t);return Ls(n)&&(n=void 0),Ls(e)?er(e,sr(t,1,Ls,!0),Ji(n,2)):[]})),Io=Mr((function(e,t){var n=Bo(t);return Ls(n)&&(n=void 0),Ls(e)?er(e,sr(t,1,Ls,!0),void 0,n):[]}));function Po(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ia(n);return i<0&&(i=an(r+i,0)),$t(e,Ji(t,3),i)}function Oo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ia(n),i=n<0?an(r+i,0):un(i,r-1)),$t(e,Ji(t,3),i,!0)}function _o(e){return(null==e?0:e.length)?sr(e,1):[]}function jo(e){return e&&e.length?e[0]:void 0}var Lo=Mr((function(e){var t=dt(e,si);return t.length&&t[0]===e[0]?yr(t):[]})),No=Mr((function(e){var t=Bo(e),n=dt(e,si);return t===Bo(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?yr(n,Ji(t,2)):[]})),Mo=Mr((function(e){var t=Bo(e),n=dt(e,si);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?yr(n,void 0,t):[]}));function Bo(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Ho=Mr(Uo);function Uo(e,t){return e&&e.length&&t&&t.length?_r(e,t):e}var Vo=zi((function(e,t){var n=null==e?0:e.length,r=Yn(e,t);return jr(e,dt(t,(function(e){return ao(e,n)?+e:e})).sort(gi)),r}));function qo(e){return null==e?e:pn.call(e)}var zo=Mr((function(e){return Zr(sr(e,1,Ls,!0))})),Ko=Mr((function(e){var t=Bo(e);return Ls(t)&&(t=void 0),Zr(sr(e,1,Ls,!0),Ji(t,2))})),Go=Mr((function(e){var t=Bo(e);return t="function"==typeof t?t:void 0,Zr(sr(e,1,Ls,!0),void 0,t)}));function Wo(e){if(!e||!e.length)return[];var t=0;return e=ct(e,(function(e){if(Ls(e))return t=an(e.length,t),!0})),Dt(t,(function(t){return dt(e,At(t))}))}function Yo(e,t){if(!e||!e.length)return[];var n=Wo(e);return null==t?n:dt(n,(function(e){return ot(t,void 0,e)}))}var Xo=Mr((function(e,t){return Ls(e)?er(e,t):[]})),Jo=Mr((function(e){return ii(ct(e,Ls))})),Qo=Mr((function(e){var t=Bo(e);return Ls(t)&&(t=void 0),ii(ct(e,Ls),Ji(t,2))})),Zo=Mr((function(e){var t=Bo(e);return t="function"==typeof t?t:void 0,ii(ct(e,Ls),void 0,t)})),es=Mr(Wo);var ts=Mr((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Yo(e,n)}));function ns(e){var t=Dn(e);return t.__chain__=!0,t}function rs(e,t){return t(e)}var is=zi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Yn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Pn&&ao(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:rs,args:[i],thisArg:void 0}),new In(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var os=$i((function(e,t,n){Se.call(e,n)?++e[n]:Wn(e,n,1)}));var ss=Fi(Po),as=Fi(Oo);function us(e,t){return(Os(e)?at:tr)(e,Ji(t,3))}function ls(e,t){return(Os(e)?ut:nr)(e,Ji(t,3))}var cs=$i((function(e,t,n){Se.call(e,n)?e[n].push(t):Wn(e,n,[t])}));var hs=Mr((function(e,t,n){var i=-1,o="function"==typeof t,s=js(e)?r(e.length):[];return tr(e,(function(e){s[++i]=o?ot(t,e,n):br(e,t,n)})),s})),ps=$i((function(e,t,n){Wn(e,n,t)}));function ds(e,t){return(Os(e)?dt:Tr)(e,Ji(t,3))}var fs=$i((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var gs=Mr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&uo(e,t[0],t[1])?t=[]:n>2&&uo(t[0],t[1],t[2])&&(t=[t[0]]),Pr(e,sr(t,1),[])})),ms=Jt||function(){return Ge.Date.now()};function vs(e,t,n){return t=n?void 0:t,Bi(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function ys(e,t){var n;if("function"!=typeof t)throw new ve(o);return e=ia(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var bs=Mr((function(e,t,n){var r=1;if(n.length){var i=Vt(n,Xi(bs));r|=32}return Bi(e,r,t,n,i)})),$s=Mr((function(e,t,n){var r=3;if(n.length){var i=Vt(n,Xi($s));r|=32}return Bi(t,r,e,n,i)}));function ws(e,t,n){var r,i,s,a,u,l,c=0,h=!1,p=!1,d=!0;if("function"!=typeof e)throw new ve(o);function f(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function g(e){return c=e,u=wo(v,t),h?f(e):a}function m(e){var n=e-l;return void 0===l||n>=t||n<0||p&&e-c>=s}function v(){var e=ms();if(m(e))return y(e);u=wo(v,function(e){var n=t-(e-l);return p?un(n,s-(e-c)):n}(e))}function y(e){return u=void 0,d&&r?f(e):(r=i=void 0,a)}function b(){var e=ms(),n=m(e);if(r=arguments,i=this,l=e,n){if(void 0===u)return g(l);if(p)return hi(u),u=wo(v,t),f(l)}return void 0===u&&(u=wo(v,t)),a}return t=sa(t)||0,qs(n)&&(h=!!n.leading,s=(p="maxWait"in n)?an(sa(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==u&&hi(u),c=0,r=l=i=u=void 0},b.flush=function(){return void 0===u?a:y(ms())},b}var xs=Mr((function(e,t){return Zn(e,1,t)})),Ss=Mr((function(e,t,n){return Zn(e,sa(t)||0,n)}));function Es(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ve(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Es.Cache||jn),n}function As(e){if("function"!=typeof e)throw new ve(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Es.Cache=jn;var Cs=li((function(e,t){var n=(t=1==t.length&&Os(t[0])?dt(t[0],kt(Ji())):dt(sr(t,1),kt(Ji()))).length;return Mr((function(r){for(var i=-1,o=un(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return ot(e,this,r)}))})),Fs=Mr((function(e,t){return Bi(e,32,void 0,t,Vt(t,Xi(Fs)))})),Ts=Mr((function(e,t){return Bi(e,64,void 0,t,Vt(t,Xi(Ts)))})),Ds=zi((function(e,t){return Bi(e,256,void 0,void 0,void 0,t)}));function Rs(e,t){return e===t||e!=e&&t!=t}var ks=_i(gr),Is=_i((function(e,t){return e>=t})),Ps=$r(function(){return arguments}())?$r:function(e){return zs(e)&&Se.call(e,"callee")&&!Ke.call(e,"callee")},Os=r.isArray,_s=Ze?kt(Ze):function(e){return zs(e)&&fr(e)==S};function js(e){return null!=e&&Vs(e.length)&&!Hs(e)}function Ls(e){return zs(e)&&js(e)}var Ns=nn||su,Ms=et?kt(et):function(e){return zs(e)&&fr(e)==h};function Bs(e){if(!zs(e))return!1;var t=fr(e);return t==p||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Ws(e)}function Hs(e){if(!qs(e))return!1;var t=fr(e);return t==d||t==f||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Us(e){return"number"==typeof e&&e==ia(e)}function Vs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function qs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function zs(e){return null!=e&&"object"==typeof e}var Ks=tt?kt(tt):function(e){return zs(e)&&ro(e)==g};function Gs(e){return"number"==typeof e||zs(e)&&fr(e)==m}function Ws(e){if(!zs(e)||fr(e)!=v)return!1;var t=Ue(e);if(null===t)return!0;var n=Se.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&xe.call(n)==Fe}var Ys=nt?kt(nt):function(e){return zs(e)&&fr(e)==y};var Xs=rt?kt(rt):function(e){return zs(e)&&ro(e)==b};function Js(e){return"string"==typeof e||!Os(e)&&zs(e)&&fr(e)==$}function Qs(e){return"symbol"==typeof e||zs(e)&&fr(e)==w}var Zs=it?kt(it):function(e){return zs(e)&&Vs(e.length)&&!!Be[fr(e)]};var ea=_i(Fr),ta=_i((function(e,t){return e<=t}));function na(e){if(!e)return[];if(js(e))return Js(e)?Gt(e):yi(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=ro(e);return(t==g?Ht:t==b?qt:Ra)(e)}function ra(e){return e?(e=sa(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ia(e){var t=ra(e),n=t%1;return t==t?n?t-n:t:0}function oa(e){return e?Xn(ia(e),0,4294967295):0}function sa(e){if("number"==typeof e)return e;if(Qs(e))return NaN;if(qs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=qs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Rt(e);var n=oe.test(e);return n||ae.test(e)?qe(e.slice(2),n?2:8):ie.test(e)?NaN:+e}function aa(e){return bi(e,xa(e))}function ua(e){return null==e?"":Qr(e)}var la=wi((function(e,t){if(po(t)||js(t))bi(t,wa(t),e);else for(var n in t)Se.call(t,n)&&qn(e,n,t[n])})),ca=wi((function(e,t){bi(t,xa(t),e)})),ha=wi((function(e,t,n,r){bi(t,xa(t),e,r)})),pa=wi((function(e,t,n,r){bi(t,wa(t),e,r)})),da=zi(Yn);var fa=Mr((function(e,t){e=fe(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&uo(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],s=xa(o),a=-1,u=s.length;++a<u;){var l=s[a],c=e[l];(void 0===c||Rs(c,$e[l])&&!Se.call(e,l))&&(e[l]=o[l])}return e})),ga=Mr((function(e){return e.push(void 0,Ui),ot(Ea,void 0,e)}));function ma(e,t,n){var r=null==e?void 0:pr(e,t);return void 0===r?n:r}function va(e,t){return null!=e&&io(e,t,vr)}var ya=Ri((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ce.call(t)),e[t]=n}),qa(Ga)),ba=Ri((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ce.call(t)),Se.call(e,t)?e[t].push(n):e[t]=[n]}),Ji),$a=Mr(br);function wa(e){return js(e)?Mn(e):Ar(e)}function xa(e){return js(e)?Mn(e,!0):Cr(e)}var Sa=wi((function(e,t,n){kr(e,t,n)})),Ea=wi((function(e,t,n,r){kr(e,t,n,r)})),Aa=zi((function(e,t){var n={};if(null==e)return n;var r=!1;t=dt(t,(function(t){return t=ui(t,e),r||(r=t.length>1),t})),bi(e,Gi(e),n),r&&(n=Jn(n,7,Vi));for(var i=t.length;i--;)ei(n,t[i]);return n}));var Ca=zi((function(e,t){return null==e?{}:function(e,t){return Or(e,t,(function(t,n){return va(e,n)}))}(e,t)}));function Fa(e,t){if(null==e)return{};var n=dt(Gi(e),(function(e){return[e]}));return t=Ji(t),Or(e,n,(function(e,n){return t(e,n[0])}))}var Ta=Mi(wa),Da=Mi(xa);function Ra(e){return null==e?[]:It(e,wa(e))}var ka=Ai((function(e,t,n){return t=t.toLowerCase(),e+(n?Ia(t):t)}));function Ia(e){return Ba(ua(e).toLowerCase())}function Pa(e){return(e=ua(e))&&e.replace(le,Lt).replace(Pe,"")}var Oa=Ai((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),_a=Ai((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),ja=Ei("toLowerCase");var La=Ai((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Na=Ai((function(e,t,n){return e+(n?" ":"")+Ba(t)}));var Ma=Ai((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ba=Ei("toUpperCase");function Ha(e,t,n){return e=ua(e),void 0===(t=n?void 0:t)?function(e){return Le.test(e)}(e)?function(e){return e.match(_e)||[]}(e):function(e){return e.match(Z)||[]}(e):e.match(t)||[]}var Ua=Mr((function(e,t){try{return ot(e,void 0,t)}catch(e){return Bs(e)?e:new Y(e)}})),Va=zi((function(e,t){return at(t,(function(t){t=Fo(t),Wn(e,t,bs(e[t],e))})),e}));function qa(e){return function(){return e}}var za=Ti(),Ka=Ti(!0);function Ga(e){return e}function Wa(e){return Er("function"==typeof e?e:Jn(e,1))}var Ya=Mr((function(e,t){return function(n){return br(n,e,t)}})),Xa=Mr((function(e,t){return function(n){return br(e,n,t)}}));function Ja(e,t,n){var r=wa(t),i=hr(t,r);null!=n||qs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=hr(t,wa(t)));var o=!(qs(n)&&"chain"in n&&!n.chain),s=Hs(e);return at(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=yi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,ft([this.value()],arguments))})})),e}function Qa(){}var Za=Ii(dt),eu=Ii(lt),tu=Ii(vt);function nu(e){return lo(e)?At(Fo(e)):function(e){return function(t){return pr(t,e)}}(e)}var ru=Oi(),iu=Oi(!0);function ou(){return[]}function su(){return!1}var au=ki((function(e,t){return e+t}),0),uu=Li("ceil"),lu=ki((function(e,t){return e/t}),1),cu=Li("floor");var hu,pu=ki((function(e,t){return e*t}),1),du=Li("round"),fu=ki((function(e,t){return e-t}),0);return Dn.after=function(e,t){if("function"!=typeof t)throw new ve(o);return e=ia(e),function(){if(--e<1)return t.apply(this,arguments)}},Dn.ary=vs,Dn.assign=la,Dn.assignIn=ca,Dn.assignInWith=ha,Dn.assignWith=pa,Dn.at=da,Dn.before=ys,Dn.bind=bs,Dn.bindAll=Va,Dn.bindKey=$s,Dn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Os(e)?e:[e]},Dn.chain=ns,Dn.chunk=function(e,t,n){t=(n?uo(e,t,n):void 0===t)?1:an(ia(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,s=0,a=r(Zt(i/t));o<i;)a[s++]=Kr(e,o,o+=t);return a},Dn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Dn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return ft(Os(n)?yi(n):[n],sr(t,1))},Dn.cond=function(e){var t=null==e?0:e.length,n=Ji();return e=t?dt(e,(function(e){if("function"!=typeof e[1])throw new ve(o);return[n(e[0]),e[1]]})):[],Mr((function(n){for(var r=-1;++r<t;){var i=e[r];if(ot(i[0],this,n))return ot(i[1],this,n)}}))},Dn.conforms=function(e){return function(e){var t=wa(e);return function(n){return Qn(n,e,t)}}(Jn(e,1))},Dn.constant=qa,Dn.countBy=os,Dn.create=function(e,t){var n=Rn(e);return null==t?n:Gn(n,t)},Dn.curry=function e(t,n,r){var i=Bi(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Dn.curryRight=function e(t,n,r){var i=Bi(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Dn.debounce=ws,Dn.defaults=fa,Dn.defaultsDeep=ga,Dn.defer=xs,Dn.delay=Ss,Dn.difference=Ro,Dn.differenceBy=ko,Dn.differenceWith=Io,Dn.drop=function(e,t,n){var r=null==e?0:e.length;return r?Kr(e,(t=n||void 0===t?1:ia(t))<0?0:t,r):[]},Dn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Kr(e,0,(t=r-(t=n||void 0===t?1:ia(t)))<0?0:t):[]},Dn.dropRightWhile=function(e,t){return e&&e.length?ni(e,Ji(t,3),!0,!0):[]},Dn.dropWhile=function(e,t){return e&&e.length?ni(e,Ji(t,3),!0):[]},Dn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&uo(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=ia(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ia(r))<0&&(r+=i),r=n>r?0:oa(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Dn.filter=function(e,t){return(Os(e)?ct:or)(e,Ji(t,3))},Dn.flatMap=function(e,t){return sr(ds(e,t),1)},Dn.flatMapDeep=function(e,t){return sr(ds(e,t),1/0)},Dn.flatMapDepth=function(e,t,n){return n=void 0===n?1:ia(n),sr(ds(e,t),n)},Dn.flatten=_o,Dn.flattenDeep=function(e){return(null==e?0:e.length)?sr(e,1/0):[]},Dn.flattenDepth=function(e,t){return(null==e?0:e.length)?sr(e,t=void 0===t?1:ia(t)):[]},Dn.flip=function(e){return Bi(e,512)},Dn.flow=za,Dn.flowRight=Ka,Dn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Dn.functions=function(e){return null==e?[]:hr(e,wa(e))},Dn.functionsIn=function(e){return null==e?[]:hr(e,xa(e))},Dn.groupBy=cs,Dn.initial=function(e){return(null==e?0:e.length)?Kr(e,0,-1):[]},Dn.intersection=Lo,Dn.intersectionBy=No,Dn.intersectionWith=Mo,Dn.invert=ya,Dn.invertBy=ba,Dn.invokeMap=hs,Dn.iteratee=Wa,Dn.keyBy=ps,Dn.keys=wa,Dn.keysIn=xa,Dn.map=ds,Dn.mapKeys=function(e,t){var n={};return t=Ji(t,3),lr(e,(function(e,r,i){Wn(n,t(e,r,i),e)})),n},Dn.mapValues=function(e,t){var n={};return t=Ji(t,3),lr(e,(function(e,r,i){Wn(n,r,t(e,r,i))})),n},Dn.matches=function(e){return Dr(Jn(e,1))},Dn.matchesProperty=function(e,t){return Rr(e,Jn(t,1))},Dn.memoize=Es,Dn.merge=Sa,Dn.mergeWith=Ea,Dn.method=Ya,Dn.methodOf=Xa,Dn.mixin=Ja,Dn.negate=As,Dn.nthArg=function(e){return e=ia(e),Mr((function(t){return Ir(t,e)}))},Dn.omit=Aa,Dn.omitBy=function(e,t){return Fa(e,As(Ji(t)))},Dn.once=function(e){return ys(2,e)},Dn.orderBy=function(e,t,n,r){return null==e?[]:(Os(t)||(t=null==t?[]:[t]),Os(n=r?void 0:n)||(n=null==n?[]:[n]),Pr(e,t,n))},Dn.over=Za,Dn.overArgs=Cs,Dn.overEvery=eu,Dn.overSome=tu,Dn.partial=Fs,Dn.partialRight=Ts,Dn.partition=fs,Dn.pick=Ca,Dn.pickBy=Fa,Dn.property=nu,Dn.propertyOf=function(e){return function(t){return null==e?void 0:pr(e,t)}},Dn.pull=Ho,Dn.pullAll=Uo,Dn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?_r(e,t,Ji(n,2)):e},Dn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?_r(e,t,void 0,n):e},Dn.pullAt=Vo,Dn.range=ru,Dn.rangeRight=iu,Dn.rearg=Ds,Dn.reject=function(e,t){return(Os(e)?ct:or)(e,As(Ji(t,3)))},Dn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Ji(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return jr(e,i),n},Dn.rest=function(e,t){if("function"!=typeof e)throw new ve(o);return Mr(e,t=void 0===t?t:ia(t))},Dn.reverse=qo,Dn.sampleSize=function(e,t,n){return t=(n?uo(e,t,n):void 0===t)?1:ia(t),(Os(e)?Hn:Hr)(e,t)},Dn.set=function(e,t,n){return null==e?e:Ur(e,t,n)},Dn.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Ur(e,t,n,r)},Dn.shuffle=function(e){return(Os(e)?Un:zr)(e)},Dn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&uo(e,t,n)?(t=0,n=r):(t=null==t?0:ia(t),n=void 0===n?r:ia(n)),Kr(e,t,n)):[]},Dn.sortBy=gs,Dn.sortedUniq=function(e){return e&&e.length?Xr(e):[]},Dn.sortedUniqBy=function(e,t){return e&&e.length?Xr(e,Ji(t,2)):[]},Dn.split=function(e,t,n){return n&&"number"!=typeof n&&uo(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ua(e))&&("string"==typeof t||null!=t&&!Ys(t))&&!(t=Qr(t))&&Bt(e)?ci(Gt(e),0,n):e.split(t,n):[]},Dn.spread=function(e,t){if("function"!=typeof e)throw new ve(o);return t=null==t?0:an(ia(t),0),Mr((function(n){var r=n[t],i=ci(n,0,t);return r&&ft(i,r),ot(e,this,i)}))},Dn.tail=function(e){var t=null==e?0:e.length;return t?Kr(e,1,t):[]},Dn.take=function(e,t,n){return e&&e.length?Kr(e,0,(t=n||void 0===t?1:ia(t))<0?0:t):[]},Dn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Kr(e,(t=r-(t=n||void 0===t?1:ia(t)))<0?0:t,r):[]},Dn.takeRightWhile=function(e,t){return e&&e.length?ni(e,Ji(t,3),!1,!0):[]},Dn.takeWhile=function(e,t){return e&&e.length?ni(e,Ji(t,3)):[]},Dn.tap=function(e,t){return t(e),e},Dn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new ve(o);return qs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ws(e,t,{leading:r,maxWait:t,trailing:i})},Dn.thru=rs,Dn.toArray=na,Dn.toPairs=Ta,Dn.toPairsIn=Da,Dn.toPath=function(e){return Os(e)?dt(e,Fo):Qs(e)?[e]:yi(Co(ua(e)))},Dn.toPlainObject=aa,Dn.transform=function(e,t,n){var r=Os(e),i=r||Ns(e)||Zs(e);if(t=Ji(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:qs(e)&&Hs(o)?Rn(Ue(e)):{}}return(i?at:lr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Dn.unary=function(e){return vs(e,1)},Dn.union=zo,Dn.unionBy=Ko,Dn.unionWith=Go,Dn.uniq=function(e){return e&&e.length?Zr(e):[]},Dn.uniqBy=function(e,t){return e&&e.length?Zr(e,Ji(t,2)):[]},Dn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Zr(e,void 0,t):[]},Dn.unset=function(e,t){return null==e||ei(e,t)},Dn.unzip=Wo,Dn.unzipWith=Yo,Dn.update=function(e,t,n){return null==e?e:ti(e,t,ai(n))},Dn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:ti(e,t,ai(n),r)},Dn.values=Ra,Dn.valuesIn=function(e){return null==e?[]:It(e,xa(e))},Dn.without=Xo,Dn.words=Ha,Dn.wrap=function(e,t){return Fs(ai(t),e)},Dn.xor=Jo,Dn.xorBy=Qo,Dn.xorWith=Zo,Dn.zip=es,Dn.zipObject=function(e,t){return oi(e||[],t||[],qn)},Dn.zipObjectDeep=function(e,t){return oi(e||[],t||[],Ur)},Dn.zipWith=ts,Dn.entries=Ta,Dn.entriesIn=Da,Dn.extend=ca,Dn.extendWith=ha,Ja(Dn,Dn),Dn.add=au,Dn.attempt=Ua,Dn.camelCase=ka,Dn.capitalize=Ia,Dn.ceil=uu,Dn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=sa(n))==n?n:0),void 0!==t&&(t=(t=sa(t))==t?t:0),Xn(sa(e),t,n)},Dn.clone=function(e){return Jn(e,4)},Dn.cloneDeep=function(e){return Jn(e,5)},Dn.cloneDeepWith=function(e,t){return Jn(e,5,t="function"==typeof t?t:void 0)},Dn.cloneWith=function(e,t){return Jn(e,4,t="function"==typeof t?t:void 0)},Dn.conformsTo=function(e,t){return null==t||Qn(e,t,wa(t))},Dn.deburr=Pa,Dn.defaultTo=function(e,t){return null==e||e!=e?t:e},Dn.divide=lu,Dn.endsWith=function(e,t,n){e=ua(e),t=Qr(t);var r=e.length,i=n=void 0===n?r:Xn(ia(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Dn.eq=Rs,Dn.escape=function(e){return(e=ua(e))&&M.test(e)?e.replace(L,Nt):e},Dn.escapeRegExp=function(e){return(e=ua(e))&&G.test(e)?e.replace(K,"\\$&"):e},Dn.every=function(e,t,n){var r=Os(e)?lt:rr;return n&&uo(e,t,n)&&(t=void 0),r(e,Ji(t,3))},Dn.find=ss,Dn.findIndex=Po,Dn.findKey=function(e,t){return bt(e,Ji(t,3),lr)},Dn.findLast=as,Dn.findLastIndex=Oo,Dn.findLastKey=function(e,t){return bt(e,Ji(t,3),cr)},Dn.floor=cu,Dn.forEach=us,Dn.forEachRight=ls,Dn.forIn=function(e,t){return null==e?e:ar(e,Ji(t,3),xa)},Dn.forInRight=function(e,t){return null==e?e:ur(e,Ji(t,3),xa)},Dn.forOwn=function(e,t){return e&&lr(e,Ji(t,3))},Dn.forOwnRight=function(e,t){return e&&cr(e,Ji(t,3))},Dn.get=ma,Dn.gt=ks,Dn.gte=Is,Dn.has=function(e,t){return null!=e&&io(e,t,mr)},Dn.hasIn=va,Dn.head=jo,Dn.identity=Ga,Dn.includes=function(e,t,n,r){e=js(e)?e:Ra(e),n=n&&!r?ia(n):0;var i=e.length;return n<0&&(n=an(i+n,0)),Js(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&wt(e,t,n)>-1},Dn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ia(n);return i<0&&(i=an(r+i,0)),wt(e,t,i)},Dn.inRange=function(e,t,n){return t=ra(t),void 0===n?(n=t,t=0):n=ra(n),function(e,t,n){return e>=un(t,n)&&e<an(t,n)}(e=sa(e),t,n)},Dn.invoke=$a,Dn.isArguments=Ps,Dn.isArray=Os,Dn.isArrayBuffer=_s,Dn.isArrayLike=js,Dn.isArrayLikeObject=Ls,Dn.isBoolean=function(e){return!0===e||!1===e||zs(e)&&fr(e)==c},Dn.isBuffer=Ns,Dn.isDate=Ms,Dn.isElement=function(e){return zs(e)&&1===e.nodeType&&!Ws(e)},Dn.isEmpty=function(e){if(null==e)return!0;if(js(e)&&(Os(e)||"string"==typeof e||"function"==typeof e.splice||Ns(e)||Zs(e)||Ps(e)))return!e.length;var t=ro(e);if(t==g||t==b)return!e.size;if(po(e))return!Ar(e).length;for(var n in e)if(Se.call(e,n))return!1;return!0},Dn.isEqual=function(e,t){return wr(e,t)},Dn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?wr(e,t,void 0,n):!!r},Dn.isError=Bs,Dn.isFinite=function(e){return"number"==typeof e&&rn(e)},Dn.isFunction=Hs,Dn.isInteger=Us,Dn.isLength=Vs,Dn.isMap=Ks,Dn.isMatch=function(e,t){return e===t||xr(e,t,Zi(t))},Dn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,xr(e,t,Zi(t),n)},Dn.isNaN=function(e){return Gs(e)&&e!=+e},Dn.isNative=function(e){if(ho(e))throw new Y("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Sr(e)},Dn.isNil=function(e){return null==e},Dn.isNull=function(e){return null===e},Dn.isNumber=Gs,Dn.isObject=qs,Dn.isObjectLike=zs,Dn.isPlainObject=Ws,Dn.isRegExp=Ys,Dn.isSafeInteger=function(e){return Us(e)&&e>=-9007199254740991&&e<=9007199254740991},Dn.isSet=Xs,Dn.isString=Js,Dn.isSymbol=Qs,Dn.isTypedArray=Zs,Dn.isUndefined=function(e){return void 0===e},Dn.isWeakMap=function(e){return zs(e)&&ro(e)==x},Dn.isWeakSet=function(e){return zs(e)&&"[object WeakSet]"==fr(e)},Dn.join=function(e,t){return null==e?"":on.call(e,t)},Dn.kebabCase=Oa,Dn.last=Bo,Dn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ia(n))<0?an(r+i,0):un(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):$t(e,St,i,!0)},Dn.lowerCase=_a,Dn.lowerFirst=ja,Dn.lt=ea,Dn.lte=ta,Dn.max=function(e){return e&&e.length?ir(e,Ga,gr):void 0},Dn.maxBy=function(e,t){return e&&e.length?ir(e,Ji(t,2),gr):void 0},Dn.mean=function(e){return Et(e,Ga)},Dn.meanBy=function(e,t){return Et(e,Ji(t,2))},Dn.min=function(e){return e&&e.length?ir(e,Ga,Fr):void 0},Dn.minBy=function(e,t){return e&&e.length?ir(e,Ji(t,2),Fr):void 0},Dn.stubArray=ou,Dn.stubFalse=su,Dn.stubObject=function(){return{}},Dn.stubString=function(){return""},Dn.stubTrue=function(){return!0},Dn.multiply=pu,Dn.nth=function(e,t){return e&&e.length?Ir(e,ia(t)):void 0},Dn.noConflict=function(){return Ge._===this&&(Ge._=Te),this},Dn.noop=Qa,Dn.now=ms,Dn.pad=function(e,t,n){e=ua(e);var r=(t=ia(t))?Kt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Pi(en(i),n)+e+Pi(Zt(i),n)},Dn.padEnd=function(e,t,n){e=ua(e);var r=(t=ia(t))?Kt(e):0;return t&&r<t?e+Pi(t-r,n):e},Dn.padStart=function(e,t,n){e=ua(e);var r=(t=ia(t))?Kt(e):0;return t&&r<t?Pi(t-r,n)+e:e},Dn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),cn(ua(e).replace(W,""),t||0)},Dn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&uo(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ra(e),void 0===t?(t=e,e=0):t=ra(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=hn();return un(e+i*(t-e+Ve("1e-"+((i+"").length-1))),t)}return Lr(e,t)},Dn.reduce=function(e,t,n){var r=Os(e)?gt:Ft,i=arguments.length<3;return r(e,Ji(t,4),n,i,tr)},Dn.reduceRight=function(e,t,n){var r=Os(e)?mt:Ft,i=arguments.length<3;return r(e,Ji(t,4),n,i,nr)},Dn.repeat=function(e,t,n){return t=(n?uo(e,t,n):void 0===t)?1:ia(t),Nr(ua(e),t)},Dn.replace=function(){var e=arguments,t=ua(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Dn.result=function(e,t,n){var r=-1,i=(t=ui(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[Fo(t[r])];void 0===o&&(r=i,o=n),e=Hs(o)?o.call(e):o}return e},Dn.round=du,Dn.runInContext=e,Dn.sample=function(e){return(Os(e)?Bn:Br)(e)},Dn.size=function(e){if(null==e)return 0;if(js(e))return Js(e)?Kt(e):e.length;var t=ro(e);return t==g||t==b?e.size:Ar(e).length},Dn.snakeCase=La,Dn.some=function(e,t,n){var r=Os(e)?vt:Gr;return n&&uo(e,t,n)&&(t=void 0),r(e,Ji(t,3))},Dn.sortedIndex=function(e,t){return Wr(e,t)},Dn.sortedIndexBy=function(e,t,n){return Yr(e,t,Ji(n,2))},Dn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Wr(e,t);if(r<n&&Rs(e[r],t))return r}return-1},Dn.sortedLastIndex=function(e,t){return Wr(e,t,!0)},Dn.sortedLastIndexBy=function(e,t,n){return Yr(e,t,Ji(n,2),!0)},Dn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Wr(e,t,!0)-1;if(Rs(e[n],t))return n}return-1},Dn.startCase=Na,Dn.startsWith=function(e,t,n){return e=ua(e),n=null==n?0:Xn(ia(n),0,e.length),t=Qr(t),e.slice(n,n+t.length)==t},Dn.subtract=fu,Dn.sum=function(e){return e&&e.length?Tt(e,Ga):0},Dn.sumBy=function(e,t){return e&&e.length?Tt(e,Ji(t,2)):0},Dn.template=function(e,t,n){var r=Dn.templateSettings;n&&uo(e,t,n)&&(t=void 0),e=ua(e),t=ha({},t,r,Hi);var i,o,s=ha({},t.imports,r.imports,Hi),a=wa(s),u=It(s,a),l=0,c=t.interpolate||ce,h="__p += '",p=ge((t.escape||ce).source+"|"+c.source+"|"+(c===U?ne:ce).source+"|"+(t.evaluate||ce).source+"|$","g"),d="//# sourceURL="+(Se.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Me+"]")+"\n";e.replace(p,(function(t,n,r,s,a,u){return r||(r=s),h+=e.slice(l,u).replace(he,Mt),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(o=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),h+="';\n";var f=Se.call(t,"variable")&&t.variable;if(f){if(ee.test(f))throw new Y("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(P,""):h).replace(O,"$1").replace(_,"$1;"),h="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Ua((function(){return pe(a,d+"return "+h).apply(void 0,u)}));if(g.source=h,Bs(g))throw g;return g},Dn.times=function(e,t){if((e=ia(e))<1||e>9007199254740991)return[];var n=4294967295,r=un(e,4294967295);e-=4294967295;for(var i=Dt(r,t=Ji(t));++n<e;)t(n);return i},Dn.toFinite=ra,Dn.toInteger=ia,Dn.toLength=oa,Dn.toLower=function(e){return ua(e).toLowerCase()},Dn.toNumber=sa,Dn.toSafeInteger=function(e){return e?Xn(ia(e),-9007199254740991,9007199254740991):0===e?e:0},Dn.toString=ua,Dn.toUpper=function(e){return ua(e).toUpperCase()},Dn.trim=function(e,t,n){if((e=ua(e))&&(n||void 0===t))return Rt(e);if(!e||!(t=Qr(t)))return e;var r=Gt(e),i=Gt(t);return ci(r,Ot(r,i),_t(r,i)+1).join("")},Dn.trimEnd=function(e,t,n){if((e=ua(e))&&(n||void 0===t))return e.slice(0,Wt(e)+1);if(!e||!(t=Qr(t)))return e;var r=Gt(e);return ci(r,0,_t(r,Gt(t))+1).join("")},Dn.trimStart=function(e,t,n){if((e=ua(e))&&(n||void 0===t))return e.replace(W,"");if(!e||!(t=Qr(t)))return e;var r=Gt(e);return ci(r,Ot(r,Gt(t))).join("")},Dn.truncate=function(e,t){var n=30,r="...";if(qs(t)){var i="separator"in t?t.separator:i;n="length"in t?ia(t.length):n,r="omission"in t?Qr(t.omission):r}var o=(e=ua(e)).length;if(Bt(e)){var s=Gt(e);o=s.length}if(n>=o)return e;var a=n-Kt(r);if(a<1)return r;var u=s?ci(s,0,a).join(""):e.slice(0,a);if(void 0===i)return u+r;if(s&&(a+=u.length-a),Ys(i)){if(e.slice(a).search(i)){var l,c=u;for(i.global||(i=ge(i.source,ua(re.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var h=l.index;u=u.slice(0,void 0===h?a:h)}}else if(e.indexOf(Qr(i),a)!=a){var p=u.lastIndexOf(i);p>-1&&(u=u.slice(0,p))}return u+r},Dn.unescape=function(e){return(e=ua(e))&&N.test(e)?e.replace(j,Yt):e},Dn.uniqueId=function(e){var t=++Ee;return ua(e)+t},Dn.upperCase=Ma,Dn.upperFirst=Ba,Dn.each=us,Dn.eachRight=ls,Dn.first=jo,Ja(Dn,(hu={},lr(Dn,(function(e,t){Se.call(Dn.prototype,t)||(hu[t]=e)})),hu),{chain:!1}),Dn.VERSION="4.17.21",at(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Dn[e].placeholder=Dn})),at(["drop","take"],(function(e,t){Pn.prototype[e]=function(n){n=void 0===n?1:an(ia(n),0);var r=this.__filtered__&&!t?new Pn(this):this.clone();return r.__filtered__?r.__takeCount__=un(n,r.__takeCount__):r.__views__.push({size:un(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},Pn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),at(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Pn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ji(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),at(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Pn.prototype[e]=function(){return this[n](1).value()[0]}})),at(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Pn.prototype[e]=function(){return this.__filtered__?new Pn(this):this[n](1)}})),Pn.prototype.compact=function(){return this.filter(Ga)},Pn.prototype.find=function(e){return this.filter(e).head()},Pn.prototype.findLast=function(e){return this.reverse().find(e)},Pn.prototype.invokeMap=Mr((function(e,t){return"function"==typeof e?new Pn(this):this.map((function(n){return br(n,e,t)}))})),Pn.prototype.reject=function(e){return this.filter(As(Ji(e)))},Pn.prototype.slice=function(e,t){e=ia(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Pn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=ia(t))<0?n.dropRight(-t):n.take(t-e)),n)},Pn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Pn.prototype.toArray=function(){return this.take(4294967295)},lr(Pn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Dn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(Dn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,a=t instanceof Pn,u=s[0],l=a||Os(t),c=function(e){var t=i.apply(Dn,ft([e],s));return r&&h?t[0]:t};l&&n&&"function"==typeof u&&1!=u.length&&(a=l=!1);var h=this.__chain__,p=!!this.__actions__.length,d=o&&!h,f=a&&!p;if(!o&&l){t=f?t:new Pn(this);var g=e.apply(t,s);return g.__actions__.push({func:rs,args:[c],thisArg:void 0}),new In(g,h)}return d&&f?e.apply(this,s):(g=this.thru(c),d?r?g.value()[0]:g.value():g)})})),at(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Dn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Os(i)?i:[],e)}return this[n]((function(n){return t.apply(Os(n)?n:[],e)}))}})),lr(Pn.prototype,(function(e,t){var n=Dn[t];if(n){var r=n.name+"";Se.call($n,r)||($n[r]=[]),$n[r].push({name:t,func:n})}})),$n[Di(void 0,2).name]=[{name:"wrapper",func:void 0}],Pn.prototype.clone=function(){var e=new Pn(this.__wrapped__);return e.__actions__=yi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yi(this.__views__),e},Pn.prototype.reverse=function(){if(this.__filtered__){var e=new Pn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Pn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Os(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=un(t,e+s);break;case"takeRight":e=an(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,l=r?a:s-1,c=this.__iteratees__,h=c.length,p=0,d=un(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return ri(e,this.__actions__);var f=[];e:for(;u--&&p<d;){for(var g=-1,m=e[l+=t];++g<h;){var v=c[g],y=v.iteratee,b=v.type,$=y(m);if(2==b)m=$;else if(!$){if(1==b)continue e;break e}}f[p++]=m}return f},Dn.prototype.at=is,Dn.prototype.chain=function(){return ns(this)},Dn.prototype.commit=function(){return new In(this.value(),this.__chain__)},Dn.prototype.next=function(){void 0===this.__values__&&(this.__values__=na(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Dn.prototype.plant=function(e){for(var t,n=this;n instanceof kn;){var r=Do(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Dn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Pn){var t=e;return this.__actions__.length&&(t=new Pn(this)),(t=t.reverse()).__actions__.push({func:rs,args:[qo],thisArg:void 0}),new In(t,this.__chain__)}return this.thru(qo)},Dn.prototype.toJSON=Dn.prototype.valueOf=Dn.prototype.value=function(){return ri(this.__wrapped__,this.__actions__)},Dn.prototype.first=Dn.prototype.head,Je&&(Dn.prototype[Je]=function(){return this}),Dn}();Ge._=Xt,void 0===(i=function(){return Xt}.call(t,n,t,r))||(r.exports=i)}).call(this)}).call(this,n(11),n(143)(e))},28:function(e,t,n){"use strict";n.r(t);n(10);var r=n(0);function i(){return{template:function(e,t){return'<object width="'+t.size+'" height="'+t.size+'" data="js/angular/templates/loader/ot-loader.svg?v=2.7.4">{{\'common.loading\' | translate}}</object>'}}}function o(){return{template:function(e,t){return'<object width="'+t.size+'" height="'+t.size+'" data="js/angular/templates/loader/ot-loader.svg?v=2.7.4"></object><div>{{\'common.loading\' | translate}}<div>'}}}function s(e){const t=function(e,n){n.timer=void 0,n.currentMessage=n.getMessage();const r=n.timeout[n.index%n.timeout.length];r&&(n.timer=e((function(){(n.index+1<n.message.length||0===n.message.length)&&(n.index++,t(e,n))}),1e3*r))};return{restrict:"EA",scope:{size:"@",trigger:"@",messageAttr:"=*message",timeoutAttr:"=*timeout",ngShow:"=",ngHide:"="},link:function(n){n.message=n.messageAttr,n.getMessage=function(){return n.message[n.index]},void 0===n.message?n.message=[""]:"function"==typeof n.message?(n.getMessage=n.message,n.message=[]):"object"!=typeof n.message&&(n.message=[n.message]),n.timeout=n.timeoutAttr,void 0===n.timeout?n.timeout=[0]:"object"!=typeof n.timeout&&(n.timeout=[n.timeout]),n.index=0,t(e,n);const r=function(r){n.timer&&e.cancel(n.timer),r&&(n.index=0,t(e,n))};n.$watch("ngShow",(function(e){r(e)})),n.$watch("ngHide",(function(e){r(!e)})),n.$on("$destroy",(function(){n.timer&&e.cancel(n.timer)}))},template:'<div class="ot-loader-new-content"><img width="{{size}}" height="{{size}}" src="js/angular/templates/loader/ot-loader.svg?v=2.7.4"/><div style="font-size: {{size/4}}px">{{currentMessage}}<div></div>'}}function a(e){return{restrict:"EA",transclude:!0,templateUrl:"js/angular/core/templates/core-errors.html",link:function(t,n,r){let i;t.$watch("getActiveRepository()",(function(e){e&&!t.isRestricted?n.hide():n.show()})),t.setAttrs(r),t.setRestricted(),t.showRemoteLocations=!1,t.toggleShowRemoteLocations=()=>{t.showRemoteLocations=!t.showRemoteLocations},t.getAccessibleRepositories=function(){let e=e=>!0;return t.showRemoteLocations||(e=e=>e.local),t.isRestricted?t.getWritableRepositories().filter(e):t.getReadableRepositories().filter(e)},t.showPopoverForRepo=function(n,r){t.hidePopoverForRepo(),t.setPopoverRepo(r),e((function(){const e=$(n.toElement).find(".popover-anchor")[0];i=e,e&&!t.getActiveRepository()&&e.dispatchEvent(new Event("show"))})),n.stopPropagation()},t.hidePopoverForRepo=function(t){if(t){let e=t.relatedTarget;for(;e;){if(0===e.className.indexOf("popover"))return;e=e.parentElement}}i&&e((function(){i&&(i.dispatchEvent(new Event("hide")),i=null)})),t&&t.stopPropagation()}}}}function u(){return function(e,t){$(t).click((function(e){e.preventDefault(),e.stopPropagation()}))}}function l(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){e.multiRequired||(e.multiRequired=[]);const i=n.multiRequireElement,o=function(t){i&&i%1==0&&(e.multiRequired[i-1]=t)},s=function(){let t=!1,n=!1;for(let r=0;r<e.multiRequired.length;r++)e.multiRequired[r]?t=!0:n=!0;r.$setValidity("multiRequire",!(t&&n))};r.$parsers.unshift((function(e){return o(e),s(),e})),r.$formatters.unshift((function(e){return o(e),s(),e})),$("[multi-required]").on("blur keyup change focusout",(function(){s()}))}}}angular.module("graphdb.framework.core.directives",["graphdb.framework.core.services.repositories","graphdb.framework.utils.localstorageadapter"]).directive("ontoLoader",i).directive("ontoLoaderFancy",o).directive("ontoLoaderNew",s).directive("coreErrors",a).directive("eatClick",u).directive("multiRequired",l).directive("searchResourceInput",h).directive("keyboardShortcuts",p).directive("inactivePluginDirective",d).directive("autoGrow",(function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){const i=function(){const e=r.$viewValue;e&&""!==e.trim()?(t[0].style.height="0px",t[0].style.height=t[0].scrollHeight+"px"):t[0].style.height="26px",t[0].style.overflow="hidden"};e.$watch((function(){return r.$viewValue}),(function(){i()})),t.bind("input change",(function(){i()}))}}})).directive("captureHeight",(function(){return{restrict:"A",scope:{rowIndex:"=captureHeight"},link:function(e,t,n){e.$watch((function(){return t[0].offsetHeight}),(function(t){e.$parent.rowHeights[e.rowIndex]=t+"px!important"}))}}})),i.$inject=[],o.$inject=[],s.$inject=["$timeout"],a.$inject=["$timeout"],u.$inject=[],l.$inject=[];const c={table:"table",visual:"visual"};function h(e,t,n,i,o,s,a,u,l,h,p,d){return{restrict:"EA",scope:{namespacespromise:"=",autocompletepromisestatus:"=",textButton:"@",visualButton:"@",textCallback:"&",visualCallback:"&",placeholder:"@",uriValidation:"@",preserveInput:"@",empty:"=",clear:"=?clear",openInNewTab:"@",preserveSearch:"@",radioButtons:"@",clearInputIcon:"@"},templateUrl:"js/angular/core/templates/search-resource-input.html",link:function(f,g,m){g.autoCompleteStatus=void 0,g.autoCompleteWarning=!1,f.empty=!1,f.clear=!1,f.searchDisplayType=c;const v="true"===f.preserveSearch,y=g.find(".view-res-input");let b,w;f.textButtonLabel=f.textButton||"query.editor.table.btn",f.visualButtonLabel=f.visualButton||"query.editor.visual.btn",f.showClearInputIcon=!1,f.searchType=u.get(l.RDF_SEARCH_TYPE)||c.table,f.searchInput="",f.changeSearchType=function(e){f.searchType=e,u.set(l.RDF_SEARCH_TYPE,f.searchType)},f.$on("addStartFixedNodeAutomatically",(function(e,t){f.searchInput||!t.startIRI?f.checkIfValidAndSearchText():f.visualCallback({uri:t.startIRI,label:""})})),f.clearInput=function(){f.searchInput="",f.selectedElementIndex=-1,f.autoCompleteUriResults=[],f.showClearInputIcon=!1,u.remove(l.RDF_SEARCH_INPUT),u.remove(l.RDF_SEARCH_EXPANDED_URI),u.remove(l.RDF_RESOURCE_DESCRIPTION)},f.$watch("namespacespromise",(function(){angular.isDefined(f.namespacespromise)&&f.namespacespromise.success((function(e){g.namespaces=e.results.bindings.map((function(e){return{prefix:e.prefix.value,uri:e.namespace.value}}))})).error((function(e){const n=getError(e);t.error(n,p.instant("error.getting.namespaces.for.repo"))}))})),f.$watch("autocompletepromisestatus",(function(){!h.isActiveRepoFedXType()&&angular.isDefined(f.autocompletepromisestatus)&&f.autocompletepromisestatus.success((function(e){g.autoCompleteStatus=!!e,""!==f.searchInput&&f.onChange()})).error((function(){t.error(p.instant("explore.error.autocomplete"))}))})),f.$watch("empty",(function(){v||(f.searchInput="",f.empty=!1)})),f.$watch("clear",(function(){f.clear&&(f.clearInput(),f.clear=!1)})),o.$on("$translateChangeSuccess",(function(){m.$attr.placeholder?f.placeholder=m.$attr.placeholder:f.placeholder=p.instant("search.resources.msg")+"..."}));const x=function(t){const n=t.type||"uri";"true"===f.openInNewTab?E(!1,t):e.path("resource").search(n,t.uri)},S=function(t){const n=t.type||"uri";"true"===f.openInNewTab?E(!0,t):e.path("graphs-visualizations").search(n,t.uri)},E=function(e,t){const n=e?"graphs-visualizations":"resource";window.open(`${n}?uri=${encodeURIComponent(t.uri)}`)};angular.isUndefined(m.$attr.textCallback)&&(f.textCallback=x),angular.isUndefined(m.$attr.visualCallback)&&(f.visualCallback=S),m.$attr.textButton&&!f.textButton?f.textCallback=f.visualCallback:m.$attr.visualButton&&!f.visualButton&&(f.visualCallback=f.textCallback),m.$attr.placeholder?f.placeholder=m.$attr.placeholder:f.placeholder=p.instant("search.resources.msg")+"...",angular.isDefined(m.$attr.uriValidation)?f.uriValidation=m.$attr.uriValidation:f.uriValidation="true",angular.isDefined(m.$attr.preserveInput)&&(f.preserveInput=m.$attr.preserveInput),f.getResultItemHtml=function(e){return a.trustAsHtml(e.description)},f.searchRdfResource=function(e,t){if("prefix"===e.type)f.searchInput=T(e.value+":"),y.focus(),f.onChange();else{let n;n=angular.isUndefined(e)?f.searchInput:"object"==typeof e?e.value:e;let r="";if(e.description){const t=e.description.indexOf("&lt;"+n+"&gt;");t>0&&(r=e.description.substring(0,t).replace(/<\/?b>/g,""))}t({uri:n,description:e.description,label:r,type:e.type}),v?(f.selectedElementIndex=f.activeSearchElm,u.set(l.RDF_SEARCH_EXPANDED_URI,b),u.set(l.RDF_SEARCH_INPUT,f.searchInput),u.set(l.RDF_RESOURCE_DESCRIPTION,e.description)):"true"===f.preserveInput?(f.searchInput=n,f.autoCompleteUriResults=[]):(f.searchInput="",f.autoCompleteUriResults=[])}},f.searchRdfResourceByEvent=function(e,t){f.searchType===c.visual||t.ctrlKey||t.metaKey?f.searchRdfResource(e,f.visualCallback):f.searchRdfResource(e,f.textCallback)};const A=function(e){const n=f.searchInput;""!==n?"false"!==f.uriValidation?g.autoCompleteStatus&&f.autoCompleteUriResults&&f.autoCompleteUriResults.length>0?"prefix"===f.autoCompleteUriResults[f.activeSearchElm].type?(f.searchInput=T(f.autoCompleteUriResults[f.activeSearchElm].value+":"),f.autoCompleteUriResults=[]):f.searchRdfResource(f.autoCompleteUriResults[f.activeSearchElm],e):F(n)?f.searchRdfResource(n,e):t.error(p.instant("invalid.uri.msg")):f.searchRdfResource(n,e):t.error(p.instant("fill.input.field.msg"))};function C(){let e=-1;const n=u.get(l.RDF_RESOURCE_DESCRIPTION);n&&f.autoCompleteUriResults&&(e=f.autoCompleteUriResults.findIndex(e=>e.description===n),f.selectedElementIndex=e,new Promise(e=>{const t=document.getElementById("auto-complete-results-wrapper").getBoundingClientRect();setTimeout(()=>{e(t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth))})}).then((function(){!function(){const e=$("#auto-complete-results-wrapper"),t=$("#auto_"+f.selectedElementIndex);e.animate({scrollTop:t.offset().top-e.offset().top+e.scrollTop()})}()})).catch((function(e){t.error(getError(e),p.instant("no.prev.search.element"))}))),f.activeSearchElm=-1===e?0:e}function F(e){const t=e.indexOf("<")>=0&&e.indexOf(">")>=0,n=-1===e.indexOf("<")&&-1===e.lastIndexOf(">"),r=/^<?(http|urn).*>?/.test(e)&&(t||n);let i=!1;if(r)if(e.indexOf("http")>=0){const t=e.indexOf("//");i=t>4&&e.substring(t+2).length>0}else e.indexOf("urn")>=0&&(i=e.substring(4).length>0);return r&&i}function T(e){if(!/^<?(http|urn).*>?/.test(e)){const t=e.split(":"),r=t[0],i=t[1];if(!angular.isUndefined(i)){const e=n.getNamespaceUriForPrefix(g.namespaces,r);if(b=e!==b?e:b,b)return y.val(b),b+i}}return e}f.checkIfValidAndSearchText=function(){A(f.textCallback)},f.checkIfValidAndSearchVisual=function(){A(f.visualCallback)},f.checkIfValidAndSearchEvent=function(e){f.searchType===c.visual||e.ctrlKey||e.metaKey?A(f.visualCallback):A(f.textCallback)},f.onChange=function(){return f.showClearInputIcon=f.clearInputIcon,v&&u.set(l.RDF_SEARCH_INPUT,f.searchInput),"false"!==f.uriValidation&&(f.searchInput=T(f.searchInput),g.autoCompleteStatus)?function(e){let t=e.replace(b,b+";");if(g.autoCompleteStatus)return";"===t.charAt(0)&&(t=t.slice(1)),t=function(e){let t=e;if(-1===t.indexOf(";")&&F(t)){t=t.replace(/<|>/g,"");const e=/[^/^#]*$/.exec(t)[0];return t.split(e)[0]+";"+e}return t}(t),w&&w.resolve(),w=s.defer(),i.getAutocompleteSuggestions(t,w.promise).then((function(e){w=null,f.autoCompleteUriResults=e.data.suggestions,f.activeSearchElm=0}));return Promise.resolve()}(f.searchInput):Promise.resolve()},f.onKeyDown=function(e){if(13===e.keyCode){if(e.preventDefault(),d.isActive())return;"false"!==f.uriValidation?g.autoCompleteStatus?f.checkIfValidAndSearchEvent(e):F(e.target.value)?f.searchRdfResourceByEvent(e.target.value,e):t.error(p.instant("invalid.uri.msg")):f.searchRdfResourceByEvent(e.target.value,e)}else if(f.searchInput.length>0&&!g.autoCompleteWarning&&!g.autoCompleteStatus){g.autoCompleteWarning=!0;const e=Object(r.decodeHTML)(p.instant("explore.autocomplete.warning.msg"));t.warning("",`<div class="autocomplete-toast"><a href="autocomplete">${e}</a></div>`,{allowHtml:!0})}if(g.autoCompleteStatus&&!angular.isUndefined(f.autoCompleteUriResults)){if(40===e.keyCode&&f.activeSearchElm<f.autoCompleteUriResults.length-1&&(f.activeSearchElm++,f.searchInput=f.autoCompleteUriResults[f.activeSearchElm].value,function(){const e=$("#auto-complete-results-wrapper"),t=e.children("div"),n=e.children("div.active");void 0!==n[0]&&n[0].offsetTop-t.height()-6-e.scrollTop()>170&&e.scrollTop(n[0].offsetTop-t.height()-6-170)}()),38===e.keyCode&&f.activeSearchElm>0&&(e.preventDefault(),f.activeSearchElm--,f.searchInput=f.autoCompleteUriResults[f.activeSearchElm].value,function(){const e=$("#auto-complete-results-wrapper"),t=e.children("div"),n=e.children("div.active");void 0!==n[0]&&n[0].offsetTop-t.height()-40<=e.scrollTop()&&e.scrollTop(e.scrollTop()-34)}()),27===e.keyCode){if(v)return;f.searchInput="",f.autoCompleteUriResults=[]}f.searchInput||f.clearInput()}},f.$on("rdfResourceSearchExpanded",(function(){(v?(f.preserveInput="true",f.searchInput=u.get(l.RDF_SEARCH_INPUT)||"",b=u.get(l.RDF_SEARCH_EXPANDED_URI),f.onChange()):Promise.resolve()).then((function(){C()}))})),f.setActiveClassOnMouseMove=function(e){g.autoCompleteStatus&&(f.activeSearchElm=e)}}}}function p(e){return{restrict:"AE",link:function(t,n,r){function i(e){27===e.keyCode&&(t.toggleCheatSheet(),t.$apply())}t.getTemplateUrl=function(){return r.templateUrl},t.shortcutsVisible=!1,t.toggleCheatSheet=function(){t.shortcutsVisible=!t.shortcutsVisible,t.shortcutsVisible?e.on("keydown",i):e.off("keydown",i)}},template:'<ng-include src="getTemplateUrl()" />'}}function d(e,t,n,i,o,s){return{restrict:"E",transclude:!0,scope:{loadSaved:"&",setPluginActive:"&",pluginName:"@",humanReadablePluginName:"@"},templateUrl:"js/angular/core/templates/inactive-plugin-warning-page.html",link:function(a){function u(){if(o.isLicenseValid()&&i.getActiveRepository()&&!i.isActiveRepoOntopType()&&!i.isActiveRepoFedXType())return t.checkPluginIsActive(a.pluginName,i.getActiveRepository()).then((function({data:e}){a.pluginIsActive=e.indexOf("true")>0,a.setPluginActive({isPluginActive:a.pluginIsActive})})).catch((function(t){e.error(getError(t),s.instant("check.active.plugin.failure"))}))}a.pluginIsActive=!0,a.activatePlugin=function(){const o=Object(r.decodeHTML)(s.instant("activate.plugin.warning.msg",{humanReadablePluginName:a.humanReadablePluginName}));n.openSimpleModal({title:s.instant("activate.plugin.confirmation"),message:`<p>${o}</p>`,warning:!0}).result.then((function(){t.activatePlugin(a.pluginName,i.getActiveRepository()).then((function(){a.pluginIsActive=!0,a.setPluginActive({isPluginActive:a.pluginIsActive}),a.loadSaved()})).catch((function(t){e.error(getError(t),s.instant("activate.plugin.failure"))}))}))};const l=a.$on("repositoryIsSet",(function(){u()}));window.addEventListener("beforeunload",(function e(){l(),window.removeEventListener("beforeunload",e)})),a.$on("checkIsActive",u),u()}}}h.$inject=["$location","toastr","ClassInstanceDetailsService","AutocompleteRestService","$rootScope","$q","$sce","LocalStorageAdapter","LSKeys","$repositories","$translate","GuidesService"],p.$inject=["$document"],d.$inject=["toastr","RDF4JRepositoriesRestService","ModalService","$repositories","$licenseService","$translate"]},29:function(e,t,n){"use strict";n.r(t);n(7),n(18),n(36),n(16),n(62),n(63),n(15);var r=n(12),i=n(17);angular.module("graphdb.framework.core.services.repositories",["ngCookies","graphdb.framework.rest.repositories.service","graphdb.framework.rest.locations.service","graphdb.framework.rest.license.service","toastr","graphdb.framework.utils.event-emitter-service"]).service("$repositories",["toastr","$rootScope","$timeout","$location","productInfo","$jwtAuth","RepositoriesRestService","LocationsRestService","LicenseRestService","$translate","$q","LocalStorageAdapter","LSKeys","EventEmitterService","RDF4JRepositoriesRestService",function(e,t,n,o,s,a,u,l,c,h,p,d,f,g,m){this.location={uri:"",label:"Local",local:!0,isInCluster:!1},this.locationError="",this.loading=!0,this.locations=[this.location],this.repositories=new Map,this.locationsShouldReload=!0;const v=this,y=function(t,n){v.loading=!1,t&&(v.location={},v.locationError=n,v.repositories=new Map,v.setRepository(""),t.statusText?e.error(t.statusText,h.instant("repositories.service.error.loading.location")):e.error(h.instant("repositories.service.error.loading.location")))};let b;this.resetActiveRepository=function(){const e=this.getActiveRepositoryObjectFromStorage(),n=v.repositories.get(e.location);let r=!1;n&&(r=n.find(t=>t.id===e.id)),r?a.canReadRepo(e)?t.$broadcast("repositoryIsSet",{newRepo:!1}):this.setRepository(""):this.setRepository(this.location.defaultRepository?{id:this.location.defaultRepository,location:this.location.uri}:"")},this.checkLocationsDegraded=function(e){this.locations.forEach(t=>{t.local||(t.errorMsg&&v.repositories.delete(t.uri)&&v.resetActiveRepository(),c.getVersion(t.uri).success((function(e){"object"==typeof e?e.productVersion!==s.productVersion&&(t.degradedReason=h.instant("repositories.service.different.gdb.version",{location:t.name})):t.degradedReason=h.instant("repositories.service.different.gdb.version",{location:t.name})})).error((function(n){t.errorMsg=n,e||(v.locationsShouldReload=!0)})))})},this.getDegradedReason=function(){const e=this.getActiveRepositoryObjectFromStorage(),t=this.locations.find(t=>t.uri===e.location);return t?t.degradedReason:""},this.clearLocationErrorMsg=function(e){const t=this.locations.find(t=>t.uri===e);t&&t.errorMsg&&(t.errorMsg=null)},this.initQuick=function(){this.hasActiveLocation()&&this.init(null,null,!0)},this.assignHashesToRepositories=function(e){return e.map(e=>{const t=Object(i.md5HashGenerator)();return e.hash=t(JSON.stringify(e)),e})},this.init=function(e,n,r){return this.loading=!0,r||(this.locationsShouldReload=!0),l.getActiveLocation().then((function(i){if(i.data){const o=i.data;if(o.active)return u.getRepositories().then((function(n){v.location=o,Object.entries(n.data).forEach(([e,t])=>{const n=v.assignHashesToRepositories(t);v.clearLocationErrorMsg(e),v.repositories.set(e,n)}),v.resetActiveRepository(),y(),v.checkLocationsDegraded(r),t.globalLocation=v.location,t.globalRepositories=v.getRepositories(),e&&e()})).catch((function(e){y(e),n&&n()}))}else y(),r&&(v.locationsShouldReload=!0),v.location="",v.repositories=new Map,v.setRepository("");t.globalLocation=v.location,t.globalRepositories=v.getRepositories()})).catch((function(e){y(e),n&&n()}))},this.getLocations=function(e){if(this.locationsShouldReload||b)return b||(this.locationsShouldReload=!1,this.locations=[this.location],b=l.getLocations(e,!0).then(e=>(v.locations=e.data,this.locations)).catch((function(){n((function(){v.locationsShouldReload=!0}),2e3)})).finally(()=>{b=null})),b;const t=p.defer();return t.resolve(this.locations),t.promise},this.getActiveLocation=function(){return this.location},this.hasActiveLocation=function(){return!_.isEmpty(this.location)},this.getLocationError=function(){return this.locationError?this.locationError:h.instant("repositories.service.no.active.location")},this.isLoadingLocation=function(){return this.loading},this.getRepositories=function(){const e=[];return this.repositories.forEach(t=>e.push.apply(e,t)),e},this.getReadableRepositories=function(){return _.filter(this.getRepositories(),(function(e){return a.canReadRepo(e)}))},this.getWritableRepositories=function(){const e=this;return _.filter(this.getRepositories(),(function(t){return a.canWriteRepo(t)&&!e.isActiveRepoOntopType(t)}))},this.getActiveRepositoryObjectFromStorage=function(){return{id:d.get(f.REPOSITORY_ID)||"",location:d.get(f.REPOSITORY_LOCATION)||""}},this.getActiveRepository=function(){return d.get(f.REPOSITORY_ID)||void 0},this.getActiveRepositoryObject=function(){const e=this.getActiveRepositoryObjectFromStorage(),t=this.repositories.get(e.location);return t?t.find(t=>t.id===e.id):null},this.isSystemRepository=function(){return"SYSTEM"===this.getActiveRepositoryObjectFromStorage().id},this.isActiveRepoOntopType=function(e){const t=this;let n;return e||(e=t.getActiveRepositoryObject()),e&&(n=t.repositories.get(e.location).find(t=>t.id===e.id),n)?"graphdb:OntopRepository"===n.sesameType:void 0===n},this.isActiveRepoFedXType=function(){const e=this,t=e.getActiveRepositoryObject();let n;return t&&(n=e.repositories.get(t.location).find(e=>e.id===t.id),n)?"graphdb:FedXRepository"===n.sesameType:void 0===n},this.getLocationFromUri=function(e){return this.locations.find(t=>t.uri===e)},this.setRepositoryHeaders=function(e){$.ajaxSetup().headers=$.ajaxSetup().headers||{},$.ajaxSetup().headers["X-GraphDB-Repository"]=e?e.id:void 0,$.ajaxSetup().headers["X-GraphDB-Repository-Location"]=e?e.location:void 0},this.setRepository=function(e){const n={oldRepository:this.repository,newRepository:e,cancel:!1};g.emit("repositoryWillChangeEvent",n,n=>{n.cancel||(e?(d.set(f.REPOSITORY_ID,e.id),d.set(f.REPOSITORY_LOCATION,e.location)):(d.remove(f.REPOSITORY_ID),d.remove(f.REPOSITORY_LOCATION)),this.setRepositoryHeaders(e),t.$broadcast("repositoryIsSet",{newRepo:!0}),e&&!a.canReadRepo(e)&&this.setRepository(""),t.deniedPermissions={})})},this.getDefaultRepository=function(){return this.hasActiveLocation()?this.location.defaultRepository:""},this.setDefaultRepository=function(t){if(!this.hasActiveLocation())return void e.error(h.instant("repositories.service.no.active.location"),h.instant("common.error"));const n=this;l.setDefaultRepository(t).success((function(){n.location.defaultRepository=t})).error((function(t){const n=getError(t);e.error(n,h.instant("common.error"))}))},this.deleteLocation=function(t){return l.deleteLocation(encodeURIComponent(t)).success((function(){const e=v.getActiveRepositoryObject();e&&e.location===t&&(v.location="",v.setRepository("")),v.init()})).error((function(t){const n=getError(t);e.error(n,h.instant("common.error"))}))},this.deleteRepository=function(t){return u.deleteRepository(t).success((function(){v.init()})).error((function(t){const n=getError(t);e.error(n,h.instant("common.error"))})).finally(()=>{const e=v.getActiveRepositoryObject();e&&e.id===t.id&&e.location===t.location&&v.setRepository("")})},this.restartRepository=function(t){return u.restartRepository(t).success((function(){e.success(h.instant("repositories.service.restarting.repo",{repositoryId:t.id})),v.initQuick()})).error((function(t){const n=getError(t);e.error(n,h.instant("common.error"))}))},this.getRepositoryTurtleConfig=function(e){return u.getRepositoryTurtleConfig(e)},this.isRepoActive=function(e){const t=this.getActiveRepositoryObjectFromStorage();return!!t.id&&(e.id===t.id&&e.location===t.location)},this.getRepositoriesFromLocation=function(e){return this.repositories.get(e)},this.getPrefixes=e=>m.getRepositoryNamespaces(e).then(e=>{const t={};return e.data.results.bindings.forEach((function(e){t[e.prefix.value]=e.namespace.value})),t}),this.resolveSparqlEndpoint=e=>e===r.QueryMode.UPDATE?`repositories/${this.getActiveRepository()}/statements`:e===r.QueryMode.QUERY?"repositories/"+this.getActiveRepository():void 0,t.$on("securityInit",(function(e,t,r,i){b=null,(!t||r||i)&&n((function(){v.init()}))})),t.$on("reloadLocations",(function(){v.locationsShouldReload=!0,v.getLocations().then(()=>v.initQuick())}))}])},3:function(e,t,n){"use strict";n.r(t),n.d(t,"OPERATION_TYPE",(function(){return r})),n.d(t,"OPERATION_TYPE_SORT_ORDER",(function(){return i}));const r={CLUSTER_STATUS:"clusterHealth",BACKUP_RESTORE:"backupAndRestore",QUERIES:"queries",UPDATES:"updates",IMPORTS:"imports"},i={clusterHealth:0,backupAndRestore:1,queries:3,updates:4,imports:2}},30:function(e,t,n){"use strict";n.r(t);n(7),n(43),n(44);var r=n(6);angular.module("graphdb.framework.core.services.jwtauth",["toastr","graphdb.framework.rest.security.service","graphdb.framework.core.services.openIDService"]).service("$jwtAuth",["$http","toastr","$location","$rootScope","SecurityRestService","$openIDAuth","$translate","$q","AuthTokenService","LSKeys","LocalStorageAdapter",function(e,t,n,i,o,s,a,u,l,c,h){const p=this;i.deniedPermissions={},i.setPermissionDenied=function(e){return!("/login"===e||!p.isAuthenticated())&&(i.deniedPermissions[e]=!0,!0)},i.hasPermission=function(){const e=n.path();return!i.deniedPermissions[e]},this.updateReturnUrl=()=>{0!==n.url().indexOf("/login")&&(i.returnToUrl=n.url())},i.redirectToLogin=function(e,t){return p.authTokenIsType("Bearer")&&(e=!0),p.clearAuthenticationInternal(),p.updateReturnUrl(),n.path("/login"),t?n.search("noaccess"):e&&n.search("expired"),new Promise(e=>{setTimeout(()=>{e(!0)},100)})},i.hasExternalAuthUser=function(){return p.hasExternalAuthUser()},this.securityEnabled=!0,this.freeAccess=!1,this.hasOverrideAuth=!1,this.externalAuthUser=!1,this.securityInitialized=!1;const d=this;this.getAuthenticatedUserFromBackend=function(e,t){o.getAuthenticatedUser().success((function(e,t,n){const r=l.getAuthToken();r&&r.startsWith("GDB")?(d.externalAuthUser=!1,d.principal=e,i.$broadcast("securityInit",d.securityEnabled,!0,d.freeAccess)):d.openIDEnabled&&r&&r.startsWith("Bearer")?d.authenticate(e,r):(d.externalAuthUser=!0,d.authenticate(e,""))})).error((function(){e||!d.freeAccess?i.redirectToLogin(!1,t):(d.securityInitialized=!0,d.hasExplicitAuthentication()||d.clearAuthentication())}))},this.initSecurity=function(){this.securityInitialized=!1,o.getSecurityConfig().then((function(e){if(d.securityEnabled=e.data.enabled,d.externalAuth=e.data.hasExternalAuth,d.authImplementation=e.data.authImplementation,d.openIDEnabled=e.data.openIdEnabled,d.passwordLoginEnabled=e.data.passwordLoginEnabled,d.securityEnabled){const t=e.data.freeAccess;d.freeAccess=t.enabled,d.freeAccess&&(d.freeAccessPrincipal={authorities:t.authorities,appSettings:t.appSettings}),d.openIDEnabled?(d.openIDConfig=e.data.methodSettings.openid,d.gdbUrl=n.absUrl().replace(n.url().substr(1),""),s.initOpenId(d.openIDConfig,d.gdbUrl,(function(e){l.setAuthToken(s.authHeaderGraphDB()),console.log("oidc: set id/access token as GraphDB auth"),d.getAuthenticatedUserFromBackend(!0,e)}),(function(){console.log("oidc: not logged or login error"),d.authTokenIsType("Bearer")?setTimeout(()=>{i.redirectToLogin(!0)},0):d.getAuthenticatedUserFromBackend()}))):d.getAuthenticatedUserFromBackend()}else{l.clearAuthToken();const t=e.data.overrideAuth;if(d.hasOverrideAuth=t.enabled,!d.hasOverrideAuth)return o.getAdminUser().then((function(e){d.principal={username:"admin",appSettings:e.data.appSettings,authorities:e.data.grantedAuthorities},i.$broadcast("securityInit",d.securityEnabled,!0,d.hasOverrideAuth)}));d.principal={username:"overrideauth",authorities:t.authorities,appSettings:t.appSettings},i.$broadcast("securityInit",d.securityEnabled,!0,d.hasOverrideAuth)}}))},this.initSecurity(),this.reinitializeSecurity=function(){this.securityInitialized||this.initSecurity()},this.isSecurityEnabled=function(){return this.securityEnabled},this.hasExternalAuth=function(){return this.externalAuth},this.getAuthImplementation=function(){return this.authImplementation},this.isFreeAccessEnabled=function(){return this.freeAccess},this.isDefaultAuthEnabled=function(){return this.hasOverrideAuth&&this.principal&&"overrideauth"===this.principal.username},this.authTokenIsType=function(e){const t=l.getAuthToken();return t&&t.startsWith(e)},this.loginOpenID=function(){s.login(this.openIDConfig,this.gdbUrl)},this.toggleSecurity=function(e){e!==this.securityEnabled&&o.toggleSecurity(e).then((function(){t.success(a.instant("jwt.auth.security.status",{status:a.instant(e?"enabled.status":"disabled.status")})),l.clearAuthToken(),d.initSecurity(),d.securityEnabled=e}),(function(e){t.error(e.data,a.instant("common.error"))}))},this.toggleFreeAccess=function(e,n,r,s){(e!==this.freeAccess||s)&&(this.freeAccess=e,this.freeAccessPrincipal=e?{authorities:n,appSettings:r}:void 0,o.setFreeAccess({enabled:e?"true":"false",authorities:n,appSettings:r}).then((function(){s?t.success(a.instant("jwt.auth.free.access.updated.msg")):t.success(a.instant("jwt.auth.free.access.status",{status:a.instant(e?"enabled.status":"disabled.status")}))}),(function(e){t.error(e.data.error.message,a.instant("common.error"))})),i.$broadcast("securityInit",this.securityEnabled,this.hasExplicitAuthentication(),this.freeAccess))},this.authenticate=function(e,t){return new Promise(n=>{t?(l.setAuthToken(t),this.externalAuthUser=!1):l.clearAuthToken(),this.principal=e,i.deniedPermissions={},this.securityInitialized=!0;const r={id:h.get(c.REPOSITORY_ID)||"",location:h.get(c.REPOSITORY_LOCATION)||""};p.canReadRepo(r)||(h.remove(c.REPOSITORY_ID),h.remove(c.REPOSITORY_LOCATION),i.deniedPermissions={}),i.$broadcast("securityInit",this.securityEnabled,d.hasExplicitAuthentication(),this.freeAccess),setTimeout(()=>{n(!0)})})},this.authenticateOpenID=function(e){l.clearAuthToken(),e&&(l.setAuthToken(e),this.externalAuthUser=!1)},this.hasExternalAuthUser=function(){return this.externalAuthUser},this.hasExplicitAuthentication=function(){return null!=l.getAuthToken()||this.externalAuthUser},this.getPrincipal=function(){if(this.principal)return Promise.resolve(this.principal);const e=u.defer();return i.$on("securityInit",()=>{e.resolve(this.principal)}),e.promise},this.clearAuthenticationInternal=function(){s.softLogout(),this.principal=this.freeAccessPrincipal,l.clearAuthToken()},this.clearAuthentication=function(){this.clearAuthenticationInternal(),i.$broadcast("securityInit",this.securityEnabled,!1,this.freeAccess)},this.isAuthenticated=function(){return!this.securityEnabled||this.hasExplicitAuthentication()},this.hasPermission=function(){},this.hasRole=function(e){if(void 0!==e&&(this.securityEnabled||this.hasOverrideAuth)){"string"==typeof e&&(e=[e]);const t=!_.isEmpty(this.principal);return!!t&&("IS_AUTHENTICATED_FULLY"===e[0]?t:_.intersection(e,this.principal.authorities).length>0)}return!0},this.isAdmin=function(){return this.hasRole(r.UserRole.ROLE_ADMIN)},this.isRepoManager=function(){return this.hasRole(r.UserRole.ROLE_REPO_MANAGER)},this.hasRoleMonitor=function(){return this.hasRole(r.UserRole.ROLE_MONITORING)},this.checkForWrite=function(e,t){return"WRITE_REPO"===e?this.canWriteRepo(t):this.hasRole(e)},this.hasAdminRole=function(){return this.isAdmin()||this.isRepoManager()},this.canWriteRepo=function(e){return!!e&&(!this.securityEnabled&&!this.hasOverrideAuth||!_.isEmpty(this.principal)&&(!!this.hasAdminRole()||this.checkRights(e,"WRITE")))},this.canReadRepo=function(e){return!!e&&(!this.securityEnabled||!_.isEmpty(this.principal)&&(!!this.hasAdminRole()||this.checkRights(e,"READ")))},this.checkRights=function(e,t){if(e)for(let n=0;n<this.principal.authorities.length;n++){const r=this.principal.authorities[n],i=r.split("_",2),o=r.slice(i[0].length+i[1].length+2),s=e.location?`${e.id}@${e.location}`:e.id;if(i[0]===t&&(s===o||"SYSTEM"!==e.id&&"*"===o))return!0}return!1}}])},31:function(e,t,n){"use strict";n.r(t);var r=n(20),i=n(23);angular.module("graphdb.framework.rest.monitoring.service",[]).factory("MonitoringRestService",o),o.$inject=["$http"];function o(e){return{monitorResources:function(){return e.get("rest/monitor/infrastructure")},monitorStructures:function(){return e.get("rest/monitor/structures")},monitorCluster:function(){return e.get("rest/monitor/cluster")},monitorGC:function(){return e.post("rest/monitor/infrastructure/gc")},monitorQuery:function(t){return e.get(`rest/monitor/repository/${t}/query/active`)},monitorBackup:function(){return e.get("rest/monitor/backup").then(e=>Object(r.mapBackupAndRestoreResponseToModel)(e.data))},monitorActiveOperations:function(t){return e.get(`rest/monitor/${t}/operations`).then(e=>Object(i.mapActiveOperationResponseToModel)(e.data))},deleteQuery:function(t,n){return e.delete(`rest/monitor/repository/${n}/query?query=${encodeURIComponent(t)}`)},getQueryCount:function(t){return e({url:`rest/monitor/repository/${t}/query/count`,method:"GET",timeout:1e4})},checkAutocompleteStatus:function(){return e.get("rest/autocomplete/enabled")},monitorQueryTransactionStatistics:function(t){return e.get("rest/monitor/repository/"+t)}}}},32:function(e,t){let n;angular.module("graphdb.framework.utils.uriutils",[]).factory("UriUtils",r);try{n=new RegExp("^<?[a-z](?:[-a-z0-9\\+\\.])*:(?:\\/\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\u{A0}-\\u{D7FF}\\u{F900}-\\u{FDCF}\\u{FDF0}-\\u{FFEF}\\u{10000}-\\u{1FFFD}\\u{20000}-\\u{2FFFD}\\u{30000}-\\u{3FFFD}\\u{40000}-\\u{4FFFD}\\u{50000}-\\u{5FFFD}\\u{60000}-\\u{6FFFD}\\u{70000}-\\u{7FFFD}\\u{80000}-\\u{8FFFD}\\u{90000}-\\u{9FFFD}\\u{A0000}-\\u{AFFFD}\\u{B0000}-\\u{BFFFD}\\u{C0000}-\\u{CFFFD}\\u{D0000}-\\u{DFFFD}\\u{E1000}-\\u{EFFFD}!\\$&'\\(\\)\\*\\+,;=:])*@)?(?:\\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:[0-9a-f]{1,4}:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|v[0-9a-f]+[-a-z0-9\\._~!\\$&'\\(\\)\\*\\+,;=:]+)\\]|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3}|(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\u{A0}-\\u{D7FF}\\u{F900}-\\u{FDCF}\\u{FDF0}-\\u{FFEF}\\u{10000}-\\u{1FFFD}\\u{20000}-\\u{2FFFD}\\u{30000}-\\u{3FFFD}\\u{40000}-\\u{4FFFD}\\u{50000}-\\u{5FFFD}\\u{60000}-\\u{6FFFD}\\u{70000}-\\u{7FFFD}\\u{80000}-\\u{8FFFD}\\u{90000}-\\u{9FFFD}\\u{A0000}-\\u{AFFFD}\\u{B0000}-\\u{BFFFD}\\u{C0000}-\\u{CFFFD}\\u{D0000}-\\u{DFFFD}\\u{E1000}-\\u{EFFFD}!\\$&'\\(\\)\\*\\+,;=@])*)(?::[0-9]*)?(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\u{A0}-\\u{D7FF}\\u{F900}-\\u{FDCF}\\u{FDF0}-\\u{FFEF}\\u{10000}-\\u{1FFFD}\\u{20000}-\\u{2FFFD}\\u{30000}-\\u{3FFFD}\\u{40000}-\\u{4FFFD}\\u{50000}-\\u{5FFFD}\\u{60000}-\\u{6FFFD}\\u{70000}-\\u{7FFFD}\\u{80000}-\\u{8FFFD}\\u{90000}-\\u{9FFFD}\\u{A0000}-\\u{AFFFD}\\u{B0000}-\\u{BFFFD}\\u{C0000}-\\u{CFFFD}\\u{D0000}-\\u{DFFFD}\\u{E1000}-\\u{EFFFD}!\\$&'\\(\\)\\*\\+,;=:@]))*)*|\\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\u{A0}-\\u{D7FF}\\u{F900}-\\u{FDCF}\\u{FDF0}-\\u{FFEF}\\u{10000}-\\u{1FFFD}\\u{20000}-\\u{2FFFD}\\u{30000}-\\u{3FFFD}\\u{40000}-\\u{4FFFD}\\u{50000}-\\u{5FFFD}\\u{60000}-\\u{6FFFD}\\u{70000}-\\u{7FFFD}\\u{80000}-\\u{8FFFD}\\u{90000}-\\u{9FFFD}\\u{A0000}-\\u{AFFFD}\\u{B0000}-\\u{BFFFD}\\u{C0000}-\\u{CFFFD}\\u{D0000}-\\u{DFFFD}\\u{E1000}-\\u{EFFFD}!\\$&'\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\u{A0}-\\u{D7FF}\\u{F900}-\\u{FDCF}\\u{FDF0}-\\u{FFEF}\\u{10000}-\\u{1FFFD}\\u{20000}-\\u{2FFFD}\\u{30000}-\\u{3FFFD}\\u{40000}-\\u{4FFFD}\\u{50000}-\\u{5FFFD}\\u{60000}-\\u{6FFFD}\\u{70000}-\\u{7FFFD}\\u{80000}-\\u{8FFFD}\\u{90000}-\\u{9FFFD}\\u{A0000}-\\u{AFFFD}\\u{B0000}-\\u{BFFFD}\\u{C0000}-\\u{CFFFD}\\u{D0000}-\\u{DFFFD}\\u{E1000}-\\u{EFFFD}!\\$&'\\(\\)\\*\\+,;=:@]))*)*)?|(?:(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\u{A0}-\\u{D7FF}\\u{F900}-\\u{FDCF}\\u{FDF0}-\\u{FFEF}\\u{10000}-\\u{1FFFD}\\u{20000}-\\u{2FFFD}\\u{30000}-\\u{3FFFD}\\u{40000}-\\u{4FFFD}\\u{50000}-\\u{5FFFD}\\u{60000}-\\u{6FFFD}\\u{70000}-\\u{7FFFD}\\u{80000}-\\u{8FFFD}\\u{90000}-\\u{9FFFD}\\u{A0000}-\\u{AFFFD}\\u{B0000}-\\u{BFFFD}\\u{C0000}-\\u{CFFFD}\\u{D0000}-\\u{DFFFD}\\u{E1000}-\\u{EFFFD}!\\$&'\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\u{A0}-\\u{D7FF}\\u{F900}-\\u{FDCF}\\u{FDF0}-\\u{FFEF}\\u{10000}-\\u{1FFFD}\\u{20000}-\\u{2FFFD}\\u{30000}-\\u{3FFFD}\\u{40000}-\\u{4FFFD}\\u{50000}-\\u{5FFFD}\\u{60000}-\\u{6FFFD}\\u{70000}-\\u{7FFFD}\\u{80000}-\\u{8FFFD}\\u{90000}-\\u{9FFFD}\\u{A0000}-\\u{AFFFD}\\u{B0000}-\\u{BFFFD}\\u{C0000}-\\u{CFFFD}\\u{D0000}-\\u{DFFFD}\\u{E1000}-\\u{EFFFD}!\\$&'\\(\\)\\*\\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\u{A0}-\\u{D7FF}\\u{F900}-\\u{FDCF}\\u{FDF0}-\\u{FFEF}\\u{10000}-\\u{1FFFD}\\u{20000}-\\u{2FFFD}\\u{30000}-\\u{3FFFD}\\u{40000}-\\u{4FFFD}\\u{50000}-\\u{5FFFD}\\u{60000}-\\u{6FFFD}\\u{70000}-\\u{7FFFD}\\u{80000}-\\u{8FFFD}\\u{90000}-\\u{9FFFD}\\u{A0000}-\\u{AFFFD}\\u{B0000}-\\u{BFFFD}\\u{C0000}-\\u{CFFFD}\\u{D0000}-\\u{DFFFD}\\u{E1000}-\\u{EFFFD}!\\$&'\\(\\)\\*\\+,;=:@])))(?:\\?(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\u{A0}-\\u{D7FF}\\u{F900}-\\u{FDCF}\\u{FDF0}-\\u{FFEF}\\u{10000}-\\u{1FFFD}\\u{20000}-\\u{2FFFD}\\u{30000}-\\u{3FFFD}\\u{40000}-\\u{4FFFD}\\u{50000}-\\u{5FFFD}\\u{60000}-\\u{6FFFD}\\u{70000}-\\u{7FFFD}\\u{80000}-\\u{8FFFD}\\u{90000}-\\u{9FFFD}\\u{A0000}-\\u{AFFFD}\\u{B0000}-\\u{BFFFD}\\u{C0000}-\\u{CFFFD}\\u{D0000}-\\u{DFFFD}\\u{E1000}-\\u{EFFFD}!\\$&'\\(\\)\\*\\+,;=:@])|[\\u{E000}-\\u{F8FF}\\u{F0000}-\\u{FFFFD}\\u{100000}-\\u{10FFFD}\\/\\?])*)?(?:#(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\u{A0}-\\u{D7FF}\\u{F900}-\\u{FDCF}\\u{FDF0}-\\u{FFEF}\\u{10000}-\\u{1FFFD}\\u{20000}-\\u{2FFFD}\\u{30000}-\\u{3FFFD}\\u{40000}-\\u{4FFFD}\\u{50000}-\\u{5FFFD}\\u{60000}-\\u{6FFFD}\\u{70000}-\\u{7FFFD}\\u{80000}-\\u{8FFFD}\\u{90000}-\\u{9FFFD}\\u{A0000}-\\u{AFFFD}\\u{B0000}-\\u{BFFFD}\\u{C0000}-\\u{CFFFD}\\u{D0000}-\\u{DFFFD}\\u{E1000}-\\u{EFFFD}!\\$&'\\(\\)\\*\\+,;=:@])|[\\/\\?])*)?>?$","ui")}catch(e){n=new RegExp("^<?[a-z](?:[-a-z0-9\\+\\.])*:>?","i")}function r(e){function t(e){const t=e.indexOf("<")>=0&&e.indexOf(">")>=0,n=-1===e.indexOf("<")&&-1===e.lastIndexOf(">"),r=/^<?(http|urn).*>?/.test(e)&&(t||n);let i=!1;if(r)if(e.indexOf("http")>=0){const t=e.indexOf("//");i=t>4&&e.substring(t+2).length>0}else e.indexOf("urn")>=0&&(i=e.substring(4).length>0);return r&&i}return{isValidIri:function(e,r){return!(void 0===e||void 0===r||!t(r)&&!r.match(n))},validateRdfUri:t,shortenIri:function(e){const t=document.createElement("a");t.href=e;let n=t.hostname;return function(e){const t=e.split(".");for(let e=0,n=0;e<t.length;e++)if(parseInt(t[e],10)>=0&&parseInt(t[e],10)<=255?n++:n=0,4===n)return!0;return!1}(t.hostname)||(n=t.hostname.split(".")[0]),n+":"+t.port},expandPrefix:function(t,n){const r=/^<.*>$/.test(t);if(t=function(e,t){if(t.test(e))return e.substring(1,e.length-1);return e}(t,/^<.*>$/),!/^<?(http|urn).*>?/.test(t)){const i=t.split(":"),o=i[0],s=i[1];if(!angular.isUndefined(s)){const t=e.getNamespaceUriForPrefix(n,o);if(t)return t+s;if(!r)return""}}return t}}}r.$inject=["ClassInstanceDetailsService"]},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return ne})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return be})),n.d(t,"g",(function(){return le}));let r,i,o,s=!1,a=!1,u=!1,l=!1;const c={},h=e=>"object"===(e=typeof e)||"function"===e,p=(e,t,...n)=>{let r=null,i=null,o=!1,s=!1;const a=[],u=t=>{for(let n=0;n<t.length;n++)r=t[n],Array.isArray(r)?u(r):null!=r&&"boolean"!=typeof r&&((o="function"!=typeof e&&!h(r))&&(r=String(r)),o&&s?a[a.length-1].$text$+=r:a.push(o?d(null,r):r),s=o)};if(u(n),t){t.name&&(i=t.name);{const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter(t=>e[t]).join(" "))}}if("function"==typeof e)return e(null===t?{}:t,a,g);const l=d(e,null);return l.$attrs$=t,a.length>0&&(l.$children$=a),l.$name$=i,l},d=(e,t)=>{const n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$name$:null};return n},f={},g={forEach:(e,t)=>e.map(m).forEach(t),map:(e,t)=>e.map(m).map(t).map(v)},m=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),v=e=>{if("function"==typeof e.vtag){const t=Object.assign({},e.vattrs);return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),p(e.vtag,t,...e.vchildren||[])}const t=d(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},y=e=>ue(e).$hostElement$,b=(e,t,n)=>{const r=y(e);return{emit:e=>$(r,t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e})}},$=(e,t,n)=>{const r=ye.ce(t,n);return e.dispatchEvent(r),r},w=new WeakMap,x=e=>{const t=e.$cmpMeta$,n=e.$hostElement$,r=t.$flags$,i=(t.$tagName$,()=>{}),o=((e,t,n,r)=>{let i=S(t);const o=ge.get(i);if(e=11===e.nodeType?e:ve,o)if("string"==typeof o){e=e.head||e;let t,n=w.get(e);n||w.set(e,n=new Set),n.has(i)||(t=ve.createElement("style"),t.innerHTML=o,e.insertBefore(t,e.querySelector("link")),n&&n.add(i))}else e.adoptedStyleSheets.includes(o)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,o]);return i})(n.shadowRoot?n.shadowRoot:n.getRootNode(),t);10&r&&(n["s-sc"]=o,n.classList.add(o+"-h")),i()},S=(e,t)=>"sc-"+e.$tagName$,E=(e,t,n,r,i,o)=>{if(n!==r){let s=he(e,t),a=t.toLowerCase();if("class"===t){const t=e.classList,i=C(n),o=C(r);t.remove(...i.filter(e=>e&&!o.includes(e))),t.add(...o.filter(e=>e&&!i.includes(e)))}else if("ref"===t)r&&r(e);else if(s||"o"!==t[0]||"n"!==t[1]){const a=h(r);if((s||a&&null!==r)&&!i)try{if(e.tagName.includes("-"))e[t]=r;else{const i=null==r?"":r;"list"===t?s=!1:null!=n&&e[t]==i||(e[t]=i)}}catch(e){}null==r||!1===r?!1===r&&""!==e.getAttribute(t)||e.removeAttribute(t):(!s||4&o||i)&&!a&&(r=!0===r?"":r,e.setAttribute(t,r))}else t="-"===t[2]?t.slice(3):he(me,a)?a.slice(2):a[2]+t.slice(3),n&&ye.rel(e,t,n,!1),r&&ye.ael(e,t,r,!1)}},A=/\s/,C=e=>e?e.split(A):[],F=(e,t,n,r)=>{const i=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,o=e&&e.$attrs$||c,s=t.$attrs$||c;for(r in o)r in s||E(i,r,o[r],void 0,n,t.$flags$);for(r in s)E(i,r,o[r],s[r],n,t.$flags$)},T=(e,t,n,a)=>{const l=t.$children$[n];let c,h,p,d=0;if(s||(u=!0,"slot"===l.$tag$&&(r&&a.classList.add(r+"-s"),l.$flags$|=l.$children$?2:1)),null!==l.$text$)c=l.$elm$=ve.createTextNode(l.$text$);else if(1&l.$flags$)c=l.$elm$=ve.createTextNode("");else if(c=l.$elm$=ve.createElement(2&l.$flags$?"slot-fb":l.$tag$),F(null,l,!1),null!=r&&c["s-si"]!==r&&c.classList.add(c["s-si"]=r),l.$children$)for(d=0;d<l.$children$.length;++d)h=T(e,l,d,c),h&&c.appendChild(h);return c["s-hn"]=o,3&l.$flags$&&(c["s-sr"]=!0,c["s-cr"]=i,c["s-sn"]=l.$name$||"",p=e&&e.$children$&&e.$children$[n],p&&p.$tag$===l.$tag$&&e.$elm$&&D(e.$elm$,!1)),c},D=(e,t)=>{ye.$flags$|=1;const n=e.childNodes;for(let e=n.length-1;e>=0;e--){const r=n[e];r["s-hn"]!==o&&r["s-ol"]&&(O(r).insertBefore(r,P(r)),r["s-ol"].remove(),r["s-ol"]=void 0,u=!0),t&&D(r,t)}ye.$flags$&=-2},R=(e,t,n,r,i,s)=>{let a,u=e["s-cr"]&&e["s-cr"].parentNode||e;for(u.shadowRoot&&u.tagName===o&&(u=u.shadowRoot);i<=s;++i)r[i]&&(a=T(null,n,i,e),a&&(r[i].$elm$=a,u.insertBefore(a,P(t))))},k=(e,t,n,r,i)=>{for(;t<=n;++t)(r=e[t])&&(i=r.$elm$,B(r),a=!0,i["s-ol"]?i["s-ol"].remove():D(i,!0),i.remove())},I=(e,t)=>e.$tag$===t.$tag$&&("slot"!==e.$tag$||e.$name$===t.$name$),P=e=>e&&e["s-ol"]||e,O=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,_=(e,t)=>{const n=t.$elm$=e.$elm$,r=e.$children$,i=t.$children$,o=t.$tag$,s=t.$text$;let a;null===s?("slot"===o||F(e,t,!1),null!==r&&null!==i?((e,t,n,r)=>{let i,o=0,s=0,a=t.length-1,u=t[0],l=t[a],c=r.length-1,h=r[0],p=r[c];for(;o<=a&&s<=c;)null==u?u=t[++o]:null==l?l=t[--a]:null==h?h=r[++s]:null==p?p=r[--c]:I(u,h)?(_(u,h),u=t[++o],h=r[++s]):I(l,p)?(_(l,p),l=t[--a],p=r[--c]):I(u,p)?("slot"!==u.$tag$&&"slot"!==p.$tag$||D(u.$elm$.parentNode,!1),_(u,p),e.insertBefore(u.$elm$,l.$elm$.nextSibling),u=t[++o],p=r[--c]):I(l,h)?("slot"!==u.$tag$&&"slot"!==p.$tag$||D(l.$elm$.parentNode,!1),_(l,h),e.insertBefore(l.$elm$,u.$elm$),l=t[--a],h=r[++s]):(i=T(t&&t[s],n,s,e),h=r[++s],i&&O(u.$elm$).insertBefore(i,P(u.$elm$)));o>a?R(e,null==r[c+1]?null:r[c+1].$elm$,n,r,s,c):s>c&&k(t,o,a)})(n,r,t,i):null!==i?(null!==e.$text$&&(n.textContent=""),R(n,null,t,i,0,i.length-1)):null!==r&&k(r,0,r.length-1)):(a=n["s-cr"])?a.parentNode.textContent=s:e.$text$!==s&&(n.data=s)},j=e=>{const t=e.childNodes;let n,r,i,o,s,a;for(r=0,i=t.length;r<i;r++)if(n=t[r],1===n.nodeType){if(n["s-sr"])for(s=n["s-sn"],n.hidden=!1,o=0;o<i;o++)if(a=t[o].nodeType,t[o]["s-hn"]!==n["s-hn"]||""!==s){if(1===a&&s===t[o].getAttribute("slot")){n.hidden=!0;break}}else if(1===a||3===a&&""!==t[o].textContent.trim()){n.hidden=!0;break}j(n)}},L=[],N=e=>{let t,n,r,i,o,s,u=0;const l=e.childNodes,c=l.length;for(;u<c;u++){if(t=l[u],t["s-sr"]&&(n=t["s-cr"])&&n.parentNode)for(r=n.parentNode.childNodes,i=t["s-sn"],s=r.length-1;s>=0;s--)n=r[s],n["s-cn"]||n["s-nr"]||n["s-hn"]===t["s-hn"]||(M(n,i)?(o=L.find(e=>e.$nodeToRelocate$===n),a=!0,n["s-sn"]=n["s-sn"]||i,o?o.$slotRefNode$=t:L.push({$slotRefNode$:t,$nodeToRelocate$:n}),n["s-sr"]&&L.map(e=>{M(e.$nodeToRelocate$,n["s-sn"])&&(o=L.find(e=>e.$nodeToRelocate$===n),o&&!e.$slotRefNode$&&(e.$slotRefNode$=o.$slotRefNode$))})):L.some(e=>e.$nodeToRelocate$===n)||L.push({$nodeToRelocate$:n}));1===t.nodeType&&N(t)}},M=(e,t)=>1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t,B=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(B)},H=(e,t)=>{const n=e.$hostElement$,l=e.$cmpMeta$,c=e.$vnode$||d(null,null),h=(g=t)&&g.$tag$===f?t:p(null,null,t);var g;if(o=n.tagName,h.$tag$=null,h.$flags$|=4,e.$vnode$=h,h.$elm$=c.$elm$=n.shadowRoot||n,r=n["s-sc"],i=n["s-cr"],s=0!=(1&l.$flags$),a=!1,_(c,h),ye.$flags$|=1,u){let e,t,n,r,i,o;N(h.$elm$);let s=0;for(;s<L.length;s++)e=L[s],t=e.$nodeToRelocate$,t["s-ol"]||(n=ve.createTextNode(""),n["s-nr"]=t,t.parentNode.insertBefore(t["s-ol"]=n,t));for(s=0;s<L.length;s++)if(e=L[s],t=e.$nodeToRelocate$,e.$slotRefNode$){for(r=e.$slotRefNode$.parentNode,i=e.$slotRefNode$.nextSibling,n=t["s-ol"];n=n.previousSibling;)if(o=n["s-nr"],o&&o["s-sn"]===t["s-sn"]&&r===o.parentNode&&(o=o.nextSibling,!o||!o["s-nr"])){i=o;break}(!i&&r!==t.parentNode||t.nextSibling!==i)&&t!==i&&(!t["s-hn"]&&t["s-ol"]&&(t["s-hn"]=t["s-ol"].parentNode.nodeName),r.insertBefore(t,i))}else 1===t.nodeType&&(t.hidden=!0)}a&&j(h.$elm$),ye.$flags$&=-2,L.length=0},U=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(t=>e.$onRenderResolve$=t))},V=(e,t)=>{if(e.$flags$|=16,4&e.$flags$)return void(e.$flags$|=512);U(e,e.$ancestorComponent$);return Fe(()=>q(e,t))},q=(e,t)=>{const n=(e.$cmpMeta$.$tagName$,()=>{}),r=e.$lazyInstance$;let i;return t&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map(([e,t])=>Y(r,e,t)),e.$queuedListeners$=null),i=Y(r,"componentWillLoad")),n(),X(i,()=>z(e,r,t))},z=async(e,t,n)=>{const r=e.$hostElement$,i=(e.$cmpMeta$.$tagName$,()=>{}),o=r["s-rc"];n&&x(e);const s=(e.$cmpMeta$.$tagName$,()=>{});K(e,t),o&&(o.map(e=>e()),r["s-rc"]=void 0),s(),i();{const t=r["s-p"],n=()=>G(e);0===t.length?n():(Promise.all(t).then(n),e.$flags$|=4,t.length=0)}},K=(e,t,n)=>{try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,H(e,t)}catch(t){pe(t,e.$hostElement$)}return null},G=e=>{e.$cmpMeta$.$tagName$;const t=e.$hostElement$,n=()=>{},r=e.$lazyInstance$,i=e.$ancestorComponent$;Y(r,"componentDidRender"),64&e.$flags$?(Y(r,"componentDidUpdate"),n()):(e.$flags$|=64,J(t),Y(r,"componentDidLoad"),n(),e.$onReadyResolve$(t),i||W()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&Ce(()=>V(e,!1)),e.$flags$&=-517},W=e=>{J(ve.documentElement),Ce(()=>$(me,"appload",{detail:{namespace:"ontotext-yasgui-web-component"}}))},Y=(e,t,n)=>{if(e&&e[t])try{return e[t](n)}catch(e){pe(e)}},X=(e,t)=>e&&e.then?e.then(t):t(),J=e=>e.classList.add("hydrated"),Q=(e,t,n,r)=>{const i=ue(e),o=i.$hostElement$,s=i.$instanceValues$.get(t),a=i.$flags$,u=i.$lazyInstance$;var l,c;l=n,c=r.$members$[t][0],n=null==l||h(l)?l:4&c?"false"!==l&&(""===l||!!l):2&c?parseFloat(l):1&c?String(l):l;const p=Number.isNaN(s)&&Number.isNaN(n);if((!(8&a)||void 0===s)&&(n!==s&&!p)&&(i.$instanceValues$.set(t,n),u)){if(r.$watchers$&&128&a){const e=r.$watchers$[t];e&&e.map(e=>{try{u[e](n,s,t)}catch(e){pe(e,o)}})}2==(18&a)&&V(i,!1)}},Z=(e,t,n)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const r=Object.entries(t.$members$),i=e.prototype;if(r.map(([e,[r]])=>{31&r||2&n&&32&r?Object.defineProperty(i,e,{get(){return t=e,ue(this).$instanceValues$.get(t);var t},set(n){Q(this,e,n,t)},configurable:!0,enumerable:!0}):1&n&&64&r&&Object.defineProperty(i,e,{value(...t){const n=ue(this);return n.$onInstancePromise$.then(()=>n.$lazyInstance$[e](...t))}})}),1&n){const t=new Map;i.attributeChangedCallback=function(e,n,r){ye.jmp(()=>{const n=t.get(e);if(this.hasOwnProperty(n))r=this[n],delete this[n];else if(i.hasOwnProperty(n)&&"number"==typeof this[n]&&this[n]==r)return;this[n]=(null!==r||"boolean"!=typeof this[n])&&r})},e.observedAttributes=r.filter(([e,t])=>15&t[0]).map(([e,n])=>{const r=n[1]||e;return t.set(r,e),r})}}return e},ee=async(e,t,n,r,i)=>{if(0==(32&t.$flags$)){{if(t.$flags$|=32,(i=fe(n)).then){const e=()=>{};i=await i,e()}i.isProxied||(n.$watchers$=i.watchers,Z(i,n,2),i.isProxied=!0);const e=(n.$tagName$,()=>{});t.$flags$|=8;try{new i(t)}catch(e){pe(e)}t.$flags$&=-9,t.$flags$|=128,e()}if(i.style){let e=i.style;const t=S(n);if(!ge.has(t)){const r=(n.$tagName$,()=>{});((e,t,n)=>{let r=ge.get(e);$e&&n?(r=r||new CSSStyleSheet,"string"==typeof r?r=t:r.replaceSync(t)):r=t,ge.set(e,r)})(t,e,!!(1&n.$flags$)),r()}}}const o=t.$ancestorComponent$,s=()=>V(t,!0);o&&o["s-rc"]?o["s-rc"].push(s):s()},te=e=>{const t=e["s-cr"]=ve.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},ne=(e,t={})=>{const n=()=>{},r=[],i=t.exclude||[],o=me.customElements,s=ve.head,a=s.querySelector("meta[charset]"),u=ve.createElement("style"),l=[];let c,h=!0;Object.assign(ye,t),ye.$resourcesUrl$=new URL(t.resourcesUrl||"./",ve.baseURI).href,e.map(e=>{e[1].map(t=>{const n={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3]};n.$members$=t[2],n.$listeners$=t[3],n.$watchers$={};const s=n.$tagName$,a=class extends HTMLElement{constructor(e){super(e),ce(e=this,n),1&n.$flags$&&e.attachShadow({mode:"open"})}connectedCallback(){c&&(clearTimeout(c),c=null),h?l.push(this):ye.jmp(()=>(e=>{if(0==(1&ye.$flags$)){const t=ue(e),n=t.$cmpMeta$,r=(n.$tagName$,()=>{});if(1&t.$flags$)re(e,t,n.$listeners$);else{t.$flags$|=1,12&n.$flags$&&te(e);{let n=e;for(;n=n.parentNode||n.host;)if(n["s-p"]){U(t,t.$ancestorComponent$=n);break}}n.$members$&&Object.entries(n.$members$).map(([t,[n]])=>{if(31&n&&e.hasOwnProperty(t)){const n=e[t];delete e[t],e[t]=n}}),ee(0,t,n)}r()}})(this))}disconnectedCallback(){ye.jmp(()=>(e=>{if(0==(1&ye.$flags$)){const t=ue(e),n=t.$lazyInstance$;t.$rmListeners$&&(t.$rmListeners$.map(e=>e()),t.$rmListeners$=void 0),Y(n,"disconnectedCallback")}})(this))}componentOnReady(){return ue(this).$onReadyPromise$}};n.$lazyBundleId$=e[0],i.includes(s)||o.get(s)||(r.push(s),o.define(s,Z(a,n,1)))})}),u.innerHTML=r+"{visibility:hidden}.hydrated{visibility:inherit}",u.setAttribute("data-styles",""),s.insertBefore(u,a?a.nextSibling:s.firstChild),h=!1,l.length?l.map(e=>e.connectedCallback()):ye.jmp(()=>c=setTimeout(W,30)),n()},re=(e,t,n,r)=>{n&&n.map(([n,r,i])=>{const o=oe(e,n),s=ie(t,i),a=se(n);ye.ael(o,r,s,a),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>ye.rel(o,r,s,a))})},ie=(e,t)=>n=>{try{256&e.$flags$?e.$lazyInstance$[t](n):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,n])}catch(e){pe(e)}},oe=(e,t)=>4&t?ve:8&t?me:e,se=e=>0!=(2&e),ae=new WeakMap,ue=e=>ae.get(e),le=(e,t)=>ae.set(t.$lazyInstance$=e,t),ce=(e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return n.$onInstancePromise$=new Promise(e=>n.$onInstanceResolve$=e),n.$onReadyPromise$=new Promise(e=>n.$onReadyResolve$=e),e["s-p"]=[],e["s-rc"]=[],re(e,n,t.$listeners$),ae.set(e,n)},he=(e,t)=>t in e,pe=(e,t)=>(0,console.error)(e,t),de=new Map,fe=(e,t,r)=>{const i=e.$tagName$.replace(/-/g,"_"),o=e.$lazyBundleId$,s=de.get(o);return s?s[i]:n(372)(`./${o}.entry.js`).then(e=>(de.set(o,e),e[i]),pe)
/*!__STENCIL_STATIC_IMPORT_SWITCH__*/},ge=new Map,me="undefined"!=typeof window?window:{},ve=me.document||{head:{}},ye={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,r)=>e.addEventListener(t,n,r),rel:(e,t,n,r)=>e.removeEventListener(t,n,r),ce:(e,t)=>new CustomEvent(e,t)},be=e=>Promise.resolve(e),$e=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(e){}return!1})(),we=[],xe=[],Se=(e,t)=>n=>{e.push(n),l||(l=!0,t&&4&ye.$flags$?Ce(Ae):ye.raf(Ae))},Ee=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(e){pe(e)}e.length=0},Ae=()=>{Ee(we),Ee(xe),(l=we.length>0)&&ye.raf(Ae)},Ce=e=>be().then(e),Fe=Se(xe,!0)},34:function(e,t){function n(e,t,n,r){e.title=n,e.message=r,e.ok=function(){t.close()},e.cancel=function(){t.dismiss("cancel")}}function r(e,t,n,r,i,o){t.opened.then((function(){o(()=>{$("#clipboardURI")[0].select()},0)})),e.clipboardURI=n,e.ok=function(){try{document.getElementById("clipboardURI").select(),document.execCommand("copy"),r.success(i.instant("modal.ctr.copy.url.success"))}catch(e){r.error(i.instant("modal.ctr.copy.not.supported.warning"))}t.close()},e.cancel=function(){t.dismiss("cancel")}}function i(e,t,n,r,i){e.query=n,e.cancel=function(){t.dismiss("cancel")},e.selectQuery=function(){e.selectElement($("#create-query"))},e.copyQueryToClipboard=function(){try{e.selectQuery(),document.execCommand("copy"),t.close(),r.success(i.instant("modal.ctr.copy.query.success"))}catch(e){r.error(i.instant("modal.ctr.copy.not.supported.warning"))}},e.selectElement=function(e){if(e.length>0)if(window.getSelection){const t=window.getSelection();t.removeAllRanges();const n=document.createRange();n.selectNodeContents(e[0].firstChild),t.addRange(n)}else if(document.selection){const t=document.body.createTextRange();t.moveToElementText(e[0]),t.select()}}}angular.module("graphdb.framework.core.controllers",[]).controller("CopyToClipboardModalCtrl",r).controller("SimpleModalCtrl",n).controller("ViewQueryCtrl",i),n.$inject=["$scope","$uibModalInstance","title","message"],r.$inject=["$scope","$uibModalInstance","uri","toastr","$translate","$timeout"],i.$inject=["$scope","$uibModalInstance","query","toastr","$translate"]},35:function(e,t){angular.module("graphdb.framework.rest.rdf4j.repositories.service",[]).factory("RDF4JRepositoriesRestService",r),r.$inject=["$http","$translate"];const n="select ?o where {\n?s <http://www.ontotext.com/owlim/system#listplugins> ?o .\nfilter(str(?s) = '{{pluginName}}')\n} ";function r(e,t){return{getNamespaces:function(t){return e.get(`repositories/${t}/namespaces`)},getRepositoryNamespaces:function(t){return e.get(`repositories/${t}/namespaces`)},updateNamespacePrefix:function(t,n,r){return e({url:`repositories/${t}/namespaces/${r}`,method:"PUT",data:n})},deleteNamespacePrefix:function(t,n){return e({url:`repositories/${t}/namespaces/${n}`,method:"DELETE"})},addStatements:function(t,n){return e({url:`repositories/${t}/statements`,method:"POST",data:n,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},activatePlugin:function(t,n){return e({method:"POST",url:`repositories/${n}/statements`,params:{update:"INSERT DATA { <u:a> <http://www.ontotext.com/owlim/system#startplugin> '{{pluginName}}' .}".replace("{{pluginName}}",t)}})},checkPluginIsActive:function(t,r){return e({method:"GET",url:"repositories/"+r,params:{query:n.replace("{{pluginName}}",t)},headers:{Accept:"*/*"}})},getRepositorySize:function(t){return e.get(`repositories/${t}/size`)},getGraphs:r,resolveGraphs:function(e){let t=[];if(e)return r(e).success((function(e){e.results.bindings.unshift({contextID:{type:"default",value:"import.default.graph"}}),Object.keys(e.results.bindings).forEach((function(t){const n=e.results.bindings[t];"bnode"===n.contextID.type?n.contextID.value="_:"+n.contextID.value:"default"===n.contextID.type?n.contextID.uri="http://www.openrdf.org/schema/sesame#nil":n.contextID.uri=n.contextID.value})),e.results.bindings.unshift(allGraphs),t=e.results.bindings}));return t},downloadResultsAsFile:function(t,n,r,i){const o=Object.entries(n).filter(([e,t])=>void 0!==t).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join("&");return e({method:"POST",url:"repositories/"+t,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8",Accept:r,Link:i},data:o,responseType:"blob"}).then((function(e){const t=e.data;let n=e.headers()["content-disposition"].split("filename=")[1];return n=n.substring(0,n.length),{data:t,filename:n}}))}};function r(t){return e.get(`repositories/${t}/contexts`)}}},356:function(e,t){!function(e,t,n){"use strict";t.module("ngAnimate",["ng"]).directive("ngAnimateChildren",(function(){return function(e,n,r){r=r.ngAnimateChildren,t.isString(r)&&0===r.length?n.data("$$ngAnimateChildren",!0):e.$watch(r,(function(e){n.data("$$ngAnimateChildren",!!e)}))}})).factory("$$animateReflow",["$$rAF","$document",function(e,t){return function(t){return e((function(){t()}))}}]).config(["$provide","$animateProvider",function(r,i){function o(e){for(var t=0;t<e.length;t++){var n=e[t];if(1==n.nodeType)return n}}function s(e,t){return o(e)==o(t)}var a,u=t.noop,l=t.forEach,c=i.$$selectors,h=t.isArray,p=t.isString,d=t.isObject,f={running:!0};r.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(e,n,r,g,m,v,y,b,$,w){function x(e,t){var n=e.data("$$ngAnimateState")||{};return t&&(n.running=!0,n.structural=!0,e.data("$$ngAnimateState",n)),n.disabled||n.running&&n.structural}function S(e){var t,r=n.defer();return r.promise.$$cancelFn=function(){t&&t()},y.$$postDigest((function(){t=e((function(){r.resolve()}))})),r.promise}function E(e){if(d(e))return e.tempClasses&&p(e.tempClasses)&&(e.tempClasses=e.tempClasses.split(/\s+/)),e}function A(e,n,i,o){function s(e,t){var n=e[t],r=e["before"+t.charAt(0).toUpperCase()+t.substr(1)];if(n||r)return"leave"==t&&(r=n,n=null),E.push({event:t,fn:n}),w.push({event:t,fn:r}),!0}function a(t,n,r){var s=[];l(t,(function(e){e.fn&&s.push(e)}));var a=0;l(s,(function(t,l){var c=function(){e:{if(n){if((n[l]||u)(),++a<s.length)break e;n=null}r()}};switch(t.event){case"setClass":n.push(t.fn(e,d,f,c,o));break;case"animate":n.push(t.fn(e,i,o.from,o.to,c));break;case"addClass":n.push(t.fn(e,d||i,c,o));break;case"removeClass":n.push(t.fn(e,f||i,c,o));break;default:n.push(t.fn(e,c,o))}})),n&&0===n.length&&r()}var p=e[0];if(p){var d,f;o&&(o.to=o.to||{},o.from=o.from||{}),h(i)&&(d=i[0],f=i[1],d?f?i=d+" "+f:(i=d,n="addClass"):(i=f,n="removeClass"));var m="setClass"==n,v=m||"addClass"==n||"removeClass"==n||"animate"==n,y=e.attr("class")+" "+i;if(I(y)){var b=u,$=[],w=[],x=u,S=[],E=[];y=(" "+y).replace(/\s+/g,".");return l(function(e){if(e){var t=[],n={};e=e.substr(1).split("."),(g.transitions||g.animations)&&t.push(r.get(c[""]));for(var i=0;i<e.length;i++){var o=e[i],s=c[o];s&&!n[o]&&(t.push(r.get(s)),n[o]=!0)}return t}}(y),(function(e){!s(e,n)&&m&&(s(e,"addClass"),s(e,"removeClass"))})),{node:p,event:n,className:i,isClassBased:v,isSetClassOperation:m,applyStyles:function(){o&&e.css(t.extend(o.from||{},o.to||{}))},before:function(e){b=e,a(w,$,(function(){b=u,e()}))},after:function(e){x=e,a(E,S,(function(){x=u,e()}))},cancel:function(){$&&(l($,(function(e){(e||u)(!0)})),b(!0)),S&&(l(S,(function(e){(e||u)(!0)})),x(!0))}}}}}function C(e,n,r,i,o,c,h,p){function d(t){var i="$animate:"+t;x&&x[i]&&0<x[i].length&&v((function(){r.triggerHandler(i,{event:e,className:n})}))}function g(){d("before")}function y(){d("after")}function b(){b.hasBeenRun||(b.hasBeenRun=!0,c())}function $(){if(!$.hasBeenRun){w&&w.applyStyles(),$.hasBeenRun=!0,h&&h.tempClasses&&l(h.tempClasses,(function(e){a.removeClass(r,e)}));var e=r.data("$$ngAnimateState");e&&(w&&w.isClassBased?T(r,n):(v((function(){var e=r.data("$$ngAnimateState")||{};D==e.index&&T(r,n)})),r.data("$$ngAnimateState",e))),d("close"),p()}}var w=A(r,e,n,h);if(!w)return b(),g(),y(),$(),u;e=w.event,n=w.className;var x=(x=t.element._data(w.node))&&x.events;if(i||(i=o?o.parent():r.parent()),function(e,n){if(f.disabled)return!0;if(s(e,m))return f.running;var r,i,o;do{if(0===n.length)break;var a=s(n,m),u=a?f:n.data("$$ngAnimateState")||{};if(u.disabled)return!0;a&&(o=!0),!1!==r&&(a=n.data("$$ngAnimateChildren"),t.isDefined(a)&&(r=a)),i=i||u.running||u.last&&!u.last.isClassBased}while(n=n.parent());return!o||!r&&i}(r,i))return b(),g(),y(),$(),u;var S=(i=r.data("$$ngAnimateState")||{}).active||{},E=i.totalActive||0,C=i.last;if(o=!1,0<E){if(E=[],w.isClassBased)"setClass"==C.event?(E.push(C),T(r,n)):S[n]&&((F=S[n]).event==e?o=!0:(E.push(F),T(r,n)));else if("leave"==e&&S["ng-leave"])o=!0;else{for(var F in S)E.push(S[F]);i={},T(r,!0)}0<E.length&&l(E,(function(e){e.cancel()}))}if(!w.isClassBased||w.isSetClassOperation||"animate"==e||o||(o="addClass"==e==r.hasClass(n)),o)return b(),g(),y(),d("close"),p(),u;S=i.active||{},E=i.totalActive||0,"leave"==e&&r.one("$destroy",(function(e){var n=(e=t.element(this)).data("$$ngAnimateState");n&&(n=n.active["ng-leave"])&&(n.cancel(),T(e,"ng-leave"))})),a.addClass(r,"ng-animate"),h&&h.tempClasses&&l(h.tempClasses,(function(e){a.addClass(r,e)}));var D=R++;return E++,S[n]=w,r.data("$$ngAnimateState",{last:w,active:S,index:D,totalActive:E}),g(),w.before((function(t){var i=r.data("$$ngAnimateState");t=t||!i||!i.active[n]||w.isClassBased&&i.active[n].event!=e,b(),!0===t?$():(y(),w.after($))})),w.cancel}function F(e){(e=o(e))&&(e=t.isFunction(e.getElementsByClassName)?e.getElementsByClassName("ng-animate"):e.querySelectorAll(".ng-animate"),l(e,(function(e){(e=(e=t.element(e)).data("$$ngAnimateState"))&&e.active&&l(e.active,(function(e){e.cancel()}))})))}function T(e,t){if(s(e,m))f.disabled||(f.running=!1,f.structural=!1);else if(t){var n=e.data("$$ngAnimateState")||{},r=!0===t;!r&&n.active&&n.active[t]&&(n.totalActive--,delete n.active[t]),!r&&n.totalActive||(a.removeClass(e,"ng-animate"),e.removeData("$$ngAnimateState"))}}a=w,m.data("$$ngAnimateState",f);var D=y.$watch((function(){return $.totalPendingRequests}),(function(e,t){0===e&&(D(),y.$$postDigest((function(){y.$$postDigest((function(){f.running=!1}))})))})),R=0,k=i.classNameFilter(),I=k?function(e){return k.test(e)}:function(){return!0};return{animate:function(e,n,r,i,s){return i=i||"ng-inline-animate",(s=E(s)||{}).from=r?n:null,s.to=r||n,S((function(n){return C("animate",i,t.element(o(e)),null,null,u,s,n)}))},enter:function(n,r,i,s){return s=E(s),n=t.element(n),r=r&&t.element(r),i=i&&t.element(i),x(n,!0),e.enter(n,r,i),S((function(e){return C("enter","ng-enter",t.element(o(n)),r,i,u,s,e)}))},leave:function(n,r){return r=E(r),F(n=t.element(n)),x(n,!0),S((function(i){return C("leave","ng-leave",t.element(o(n)),null,null,(function(){e.leave(n)}),r,i)}))},move:function(n,r,i,s){return s=E(s),n=t.element(n),r=r&&t.element(r),i=i&&t.element(i),F(n),x(n,!0),e.move(n,r,i),S((function(e){return C("move","ng-move",t.element(o(n)),r,i,u,s,e)}))},addClass:function(e,t,n){return this.setClass(e,t,[],n)},removeClass:function(e,t,n){return this.setClass(e,[],t,n)},setClass:function(n,r,i,s){if(s=E(s),n=t.element(n),x(n=t.element(o(n))))return e.$$setClassImmediately(n,r,i,s);var a,u=n.data("$$animateClasses"),c=!!u;return u||(u={classes:{}}),a=u.classes,r=h(r)?r:r.split(" "),l(r,(function(e){e&&e.length&&(a[e]=!0)})),i=h(i)?i:i.split(" "),l(i,(function(e){e&&e.length&&(a[e]=!1)})),c?(s&&u.options&&(u.options=t.extend(u.options||{},s)),u.promise):(n.data("$$animateClasses",u={classes:a,options:s}),u.promise=S((function(t){var r=n.parent(),i=o(n);if((s=i.parentNode)&&!s.$$NG_REMOVED&&!i.$$NG_REMOVED){i=n.data("$$animateClasses"),n.removeData("$$animateClasses");var s=n.data("$$ngAnimateState")||{},a=function(e,t,n){var r={};l(n=n||{},(function(e,t){l(t.split(" "),(function(t){r[t]=e}))}));var i=Object.create(null);l((e.attr("class")||"").split(/\s+/),(function(e){i[e]=!0}));var o=[],s=[];return l(t&&t.classes||[],(function(e,t){var n=i[t],a=r[t]||{};!1===e?(n||"addClass"==a.event)&&s.push(t):!0===e&&(n&&"removeClass"!=a.event||o.push(t))})),0<o.length+s.length&&[o.join(" "),s.join(" ")]}(n,i,s.active);return a?C("setClass",a,n,r,null,(function(){a[0]&&e.$$addClassImmediately(n,a[0]),a[1]&&e.$$removeClassImmediately(n,a[1])}),i.options,t):t()}t()})))},cancel:function(e){e.$$cancelFn()},enabled:function(e,t){switch(arguments.length){case 2:if(e)T(t);else{var n=t.data("$$ngAnimateState")||{};n.disabled=!0,t.data("$$ngAnimateState",n)}break;case 1:f.disabled=!e;break;default:e=!f.disabled}return!!e}}}]),i.register("",["$window","$sniffer","$timeout","$$animateReflow",function(r,i,s,c){function d(){R||(R=c((function(){P=[],R=null,k={}})))}function f(e,t){R&&R(),P.push(t),R=c((function(){l(P,(function(e){e()})),P=[],R=null,k={}}))}function g(e,n){var r=o(e);e=t.element(r),j.push(e),(r=Date.now()+n)<=_||(s.cancel(O),_=r,O=s((function(){!function(e){l(e,(function(e){(e=e.data("$$ngAnimateCSS3Data"))&&l(e.closeAnimationFns,(function(e){e()}))}))}(j),j=[]}),n,!1))}function m(e,t){var n=t?k[t]:null;if(!n){var i=0,o=0,s=0,a=0;l(e,(function(e){if(1==e.nodeType){e=r.getComputedStyle(e)||{},i=Math.max(v(e[A+"Duration"]),i),o=Math.max(v(e[A+"Delay"]),o),a=Math.max(v(e[F+"Delay"]),a);var t=v(e[F+"Duration"]);0<t&&(t*=parseInt(e[F+"IterationCount"],10)||1),s=Math.max(t,s)}})),n={total:0,transitionDelay:o,transitionDuration:i,animationDelay:a,animationDuration:s},t&&(k[t]=n)}return n}function v(e){var t=0;return e=p(e)?e.split(/\s*,\s*/):[],l(e,(function(e){t=Math.max(parseFloat(e)||0,t)})),t}function y(e,t,n,r){var i;e=0<=["ng-enter","ng-leave","ng-move"].indexOf(n),(u=(s=t.parent()).data("$$ngAnimateKey"))||(s.data("$$ngAnimateKey",++I),u=I),i=u+"-"+o(t).getAttribute("class");var s,u,l={};0<(u=k[s=i+" "+n]?++k[s].total:0)&&((i=!k[l=i+" "+(c=n+"-stagger")])&&a.addClass(t,c),l=m(t,l),i&&a.removeClass(t,c));a.addClass(t,n);var c=t.data("$$ngAnimateCSS3Data")||{},h=m(t,s);return i=h.transitionDuration,h=h.animationDuration,e&&0===i&&0===h?(a.removeClass(t,n),!1):(n=r||e&&0<i,e=0<h&&0<l.animationDelay&&0===l.animationDuration,t.data("$$ngAnimateCSS3Data",{stagger:l,cacheKey:s,running:c.running||0,itemIndex:u,blockTransition:n,closeAnimationFns:c.closeAnimationFns||[]}),s=o(t),n&&(b(s,!0),r&&t.css(r)),e&&(s.style[F+"PlayState"]="paused"),!0)}function b(e,t){e.style[A+"Property"]=t?"none":""}function $(e,t,n,r){if(y(e,t,n,r))return function(e){e&&S(t,n)}}function w(e,t,n,r,i){if(t.data("$$ngAnimateCSS3Data"))return function(e,t,n,r,i){function u(){t.off(I,c),a.removeClass(t,p),a.removeClass(t,d),R&&s.cancel(R),S(t,n);var e,r=o(t);for(e in f)r.style.removeProperty(f[e])}function c(e){e.stopPropagation();var t=e.originalEvent||e;e=t.$manualTimeStamp||t.timeStamp||Date.now(),t=parseFloat(t.elapsedTime.toFixed(3)),Math.max(e-k,0)>=A&&t>=E&&r()}var h=o(t);if(e=t.data("$$ngAnimateCSS3Data"),-1!=h.getAttribute("class").indexOf(n)&&e){var p="",d="";l(n.split(" "),(function(e,t){var n=(0<t?" ":"")+e;p+=n+"-active",d+=n+"-pending"}));var f=[],v=e.itemIndex,y=e.stagger,$=0;if(0<v){$=0,0<y.transitionDelay&&0===y.transitionDuration&&($=y.transitionDelay*v);var w=0;0<y.animationDelay&&0===y.animationDuration&&(w=y.animationDelay*v,f.push(D+"animation-play-state")),$=Math.round(100*Math.max($,w))/100}$||(a.addClass(t,p),e.blockTransition&&b(h,!1));var x=m(t,e.cacheKey+" "+p),E=Math.max(x.transitionDuration,x.animationDuration);if(0!==E){!$&&i&&(x.transitionDuration||(t.css("transition",x.animationDuration+"s linear all"),f.push("transition")),t.css(i));var A=1e3*(v=Math.max(x.transitionDelay,x.animationDelay));0<f.length&&(";"!==(y=h.getAttribute("style")||"").charAt(y.length-1)&&(y+=";"),h.setAttribute("style",y+" "));var R,k=Date.now(),I=T+" "+C;v=1e3*($+1.5*(v+E));return 0<$&&(a.addClass(t,d),R=s((function(){R=null,0<x.transitionDuration&&b(h,!1),0<x.animationDuration&&(h.style[F+"PlayState"]=""),a.addClass(t,p),a.removeClass(t,d),i&&(0===x.transitionDuration&&t.css("transition",x.animationDuration+"s linear all"),t.css(i),f.push("transition"))}),1e3*$,!1)),t.on(I,c),e.closeAnimationFns.push((function(){u(),r()})),e.running++,g(t,v),u}a.removeClass(t,p),S(t,n),r()}else r()}(e,t,n,r,i);S(t,n),r()}function x(e,t,n,r,i){var o=$(e,t,n,i.from);if(o){var s=o;return f(0,(function(){s=w(e,t,n,r,i.to)})),function(e){(s||u)(e)}}d(),r()}function S(e,t){a.removeClass(e,t);var n=e.data("$$ngAnimateCSS3Data");n&&(n.running&&n.running--,n.running&&0!==n.running||e.removeData("$$ngAnimateCSS3Data"))}function E(e,t){var n="";return e=h(e)?e:e.split(/\s+/),l(e,(function(e,r){e&&0<e.length&&(n+=(0<r?" ":"")+e+t)})),n}var A,C,F,T,D="";e.ontransitionend===n&&e.onwebkittransitionend!==n?(D="-webkit-",A="WebkitTransition",C="webkitTransitionEnd transitionend"):(A="transition",C="transitionend"),e.onanimationend===n&&e.onwebkitanimationend!==n?(D="-webkit-",F="WebkitAnimation",T="webkitAnimationEnd animationend"):(F="animation",T="animationend");var R,k={},I=0,P=[],O=null,_=0,j=[];return{animate:function(e,t,n,r,i,o){return(o=o||{}).from=n,o.to=r,x("animate",e,t,i,o)},enter:function(e,t,n){return x("enter",e,"ng-enter",t,n=n||{})},leave:function(e,t,n){return x("leave",e,"ng-leave",t,n=n||{})},move:function(e,t,n){return x("move",e,"ng-move",t,n=n||{})},beforeSetClass:function(e,t,n,r,i){if(i=i||{},i=$("setClass",e,t=E(n,"-remove")+" "+E(t,"-add"),i.from))return f(0,r),i;d(),r()},beforeAddClass:function(e,t,n,r){if(r=r||{},t=$("addClass",e,E(t,"-add"),r.from))return f(0,n),t;d(),n()},beforeRemoveClass:function(e,t,n,r){if(r=r||{},t=$("removeClass",e,E(t,"-remove"),r.from))return f(0,n),t;d(),n()},setClass:function(e,t,n,r,i){return i=i||{},w("setClass",e,(n=E(n,"-remove"))+" "+(t=E(t,"-add")),r,i.to)},addClass:function(e,t,n,r){return r=r||{},w("addClass",e,E(t,"-add"),n,r.to)},removeClass:function(e,t,n,r){return r=r||{},w("removeClass",e,E(t,"-remove"),n,r.to)}}}])}])}(window,window.angular)},357:function(e,t){!function(e,t,n){"use strict";t.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,n){var r,i={},o={},s=!1,a=t.copy,u=t.isUndefined;return n.addPollFn((function(){var t=n.cookies();r!=t&&(r=t,a(t,o),a(t,i),s&&e.$apply())}))(),s=!0,e.$watch((function(){var e,r,s;for(e in o)u(i[e])&&n.cookies(e,void 0);for(e in i)r=i[e],t.isString(r)||(r=""+r,i[e]=r),r!==o[e]&&(n.cookies(e,r),s=!0);if(s)for(e in r=n.cookies(),i)i[e]!==r[e]&&(u(r[e])?delete i[e]:i[e]=r[e])})),i}]).factory("$cookieStore",["$cookies",function(e){return{get:function(n){return(n=e[n])?t.fromJson(n):n},put:function(n,r){e[n]=t.toJson(r)},remove:function(t){delete e[t]}}}])}(window,window.angular)},358:function(e,t){!function(e,t,n){"use strict";function r(e,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,o,s,a,u){function l(){d&&(r.cancel(d),d=null),h&&(h.$destroy(),h=null),p&&((d=r.leave(p)).then((function(){d=null})),p=null)}function c(){var s=e.current&&e.current.locals;if(t.isDefined(s&&s.$template)){s=i.$new();var a=e.current;p=u(s,(function(e){r.enter(e,null,p||o).then((function(){!t.isDefined(f)||f&&!i.$eval(f)||n()})),l()})),(h=a.scope=s).$emit("$viewContentLoaded"),h.$eval(g)}else l()}var h,p,d,f=s.autoscroll,g=s.onload||"";i.$on("$routeChangeSuccess",c),c()}}}function i(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,i){var o=n.current,s=o.locals;i.html(s.$template);var a=e(i.contents());o.controller&&(s.$scope=r,s=t(o.controller,s),o.controllerAs&&(r[o.controllerAs]=s),i.data("$ngControllerController",s),i.children().data("$ngControllerController",s)),a(r)}}}e=t.module("ngRoute",["ng"]).provider("$route",(function(){function e(e,n){return t.extend(Object.create(e),n)}function n(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},i=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,(function(e,t,n,r){return e="?"===r?r:null,r="*"===r?r:null,i.push({name:n,optional:!!e}),t=t||"",(e?"":t)+"(?:"+(e?t:"")+(r?"(.+?)":"([^/]+)")+(e||"")+")"+(e||"")})).replace(/([\/$\*])/g,"\\$1"),r.regexp=new RegExp("^"+e+"$",n?"i":""),r}var r={};this.when=function(e,i){var o=t.copy(i);if(t.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),t.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),r[e]=t.extend(o,e&&n(e,o)),e){var s="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";r[s]=t.extend({redirectTo:e},n(s,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,i,s,a,u,l,c){function h(o){var s=v.current;(g=(f=function(){var n,o;return t.forEach(r,(function(r,s){var a;if(a=!o){var u=i.path();a=r.keys;var l={};if(r.regexp)if(u=r.regexp.exec(u)){for(var c=1,h=u.length;c<h;++c){var p=a[c-1],d=u[c];p&&d&&(l[p.name]=d)}a=l}else a=null;else a=null;a=n=a}a&&((o=e(r,{params:t.extend({},i.search(),n),pathParams:n})).$$route=r)})),o||r.null&&e(r.null,{params:{},pathParams:{}})}())&&s&&f.$$route===s.$$route&&t.equals(f.pathParams,s.pathParams)&&!f.reloadOnSearch&&!m)||!s&&!f||n.$broadcast("$routeChangeStart",f,s).defaultPrevented&&o&&o.preventDefault()}function p(){var e=v.current,r=f;g?(e.params=r.params,t.copy(e.params,s),n.$broadcast("$routeUpdate",e)):(r||e)&&(m=!1,(v.current=r)&&r.redirectTo&&(t.isString(r.redirectTo)?i.path(d(r.redirectTo,r.params)).search(r.params).replace():i.url(r.redirectTo(r.pathParams,i.path(),i.search())).replace()),a.when(r).then((function(){if(r){var e,n,i=t.extend({},r.resolve);return t.forEach(i,(function(e,n){i[n]=t.isString(e)?u.get(e):u.invoke(e,null,null,n)})),t.isDefined(e=r.template)?t.isFunction(e)&&(e=e(r.params)):t.isDefined(n=r.templateUrl)&&(t.isFunction(n)&&(n=n(r.params)),n=c.getTrustedResourceUrl(n),t.isDefined(n)&&(r.loadedTemplateUrl=n,e=l(n))),t.isDefined(e)&&(i.$template=e),a.all(i)}})).then((function(i){r==v.current&&(r&&(r.locals=i,t.copy(r.params,s)),n.$broadcast("$routeChangeSuccess",r,e))}),(function(t){r==v.current&&n.$broadcast("$routeChangeError",r,e,t)})))}function d(e,n){var r=[];return t.forEach((e||"").split(":"),(function(e,t){if(0===t)r.push(e);else{var i=e.match(/(\w+)(?:[?*])?(.*)/),o=i[1];r.push(n[o]),r.push(i[2]||""),delete n[o]}})),r.join("")}var f,g,m=!1,v={routes:r,reload:function(){m=!0,n.$evalAsync((function(){h(),p()}))},updateParams:function(e){if(!this.current||!this.current.$$route)throw o("norout");var n={},r=this;t.forEach(Object.keys(e),(function(t){r.current.pathParams[t]||(n[t]=e[t])})),e=t.extend({},this.current.params,e),i.path(d(this.current.$$route.originalPath,e)),i.search(t.extend({},i.search(),n))}};return n.$on("$locationChangeStart",h),n.$on("$locationChangeSuccess",p),v}]}));var o=t.$$minErr("ngRoute");e.provider("$routeParams",(function(){this.$get=function(){return{}}})),e.directive("ngView",r),e.directive("ngView",i),r.$inject=["$route","$anchorScroll","$animate"],i.$inject=["$compile","$controller","$route"]}(window,window.angular)},359:function(e,t){
/**
 * An Angular module that gives you access to the browsers local storage
 * @version v0.1.5 - 2014-11-04
 * @link https://github.com/grevory/angular-local-storage
 * @author grevory <greg@gregpike.ca>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(e,t){"use strict";var n=t.isDefined,r=t.isUndefined,i=t.isNumber,o=t.isObject,s=t.isArray,a=t.extend,u=t.toJson,l=t.fromJson;t.module("LocalStorageModule",[]).provider("localStorageService",(function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(e){return this.prefix=e,this},this.setStorageType=function(e){return this.storageType=e,this},this.setStorageCookie=function(e,t){return this.cookie={expiry:e,path:t},this},this.setStorageCookieDomain=function(e){return this.cookie.domain=e,this},this.setNotify=function(e,t){return this.notify={setItem:e,removeItem:t},this},this.$get=["$rootScope","$window","$document","$parse",function(e,t,c,h){var p,d=this,f=d.prefix,g=d.cookie,m=d.notify,v=d.storageType;c?c[0]&&(c=c[0]):c=document,"."!==f.substr(-1)&&(f=f?f+".":"");var y=function(e){return f+e},b=function(){try{var n=v in t&&null!==t[v],r=y("__"+Math.round(1e7*Math.random()));return n&&((p=t[v]).setItem(r,""),p.removeItem(r)),n}catch(t){return v="cookie",e.$broadcast("LocalStorageModule.notification.error",t.message),!1}}(),$=function(t,n){if(r(n)?n=null:(o(n)||s(n)||i(+n||n))&&(n=u(n)),!b||"cookie"===d.storageType)return b||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),m.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:t,newvalue:n,storageType:"cookie"}),E(t,n);try{(o(n)||s(n))&&(n=u(n)),p&&p.setItem(y(t),n),m.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:t,newvalue:n,storageType:d.storageType})}catch(r){return e.$broadcast("LocalStorageModule.notification.error",r.message),E(t,n)}return!0},w=function(t){if(!b||"cookie"===d.storageType)return b||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),A(t);var n=p?p.getItem(y(t)):null;return n&&"null"!==n?"{"===n.charAt(0)||"["===n.charAt(0)||function(e){return/^-?\d+\.?\d*$/.test(e.replace(/["']/g,""))}(n)?l(n):n:null},x=function(t){if(!b||"cookie"===d.storageType)return b||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),m.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:t,storageType:"cookie"}),C(t);try{p.removeItem(y(t)),m.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:t,storageType:d.storageType})}catch(n){return e.$broadcast("LocalStorageModule.notification.error",n.message),C(t)}return!0},S=function(){try{return t.navigator.cookieEnabled||"cookie"in c&&(c.cookie.length>0||(c.cookie="test").indexOf.call(c.cookie,"test")>-1)}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),!1}}(),E=function(t,n){if(r(n))return!1;if((s(n)||o(n))&&(n=u(n)),!S)return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var i="",a=new Date,l="";if(null===n?(a.setTime(a.getTime()+-864e5),i="; expires="+a.toGMTString(),n=""):0!==g.expiry&&(a.setTime(a.getTime()+24*g.expiry*60*60*1e3),i="; expires="+a.toGMTString()),t){var h="; path="+g.path;g.domain&&(l="; domain="+g.domain),c.cookie=y(t)+"="+encodeURIComponent(n)+i+h+l}}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),!1}return!0},A=function(t){if(!S)return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var n=c.cookie&&c.cookie.split(";")||[],r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(y(t)+"=")){var o=decodeURIComponent(i.substring(f.length+t.length+1,i.length));try{var s=JSON.parse(o);return l(s)}catch(e){return o}}}return null},C=function(e){E(e,null)},F=function(){for(var e=null,t=f.length,n=c.cookie.split(";"),r=0;r<n.length;r++){for(e=n[r];" "===e.charAt(0);)e=e.substring(1,e.length);var i=e.substring(t,e.indexOf("="));C(i)}};return{isSupported:b,getStorageType:function(){return v},set:$,add:$,get:w,keys:function(){if(!b)return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var t=f.length,n=[];for(var r in p)if(r.substr(0,t)===f)try{n.push(r.substr(t))}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.Description),[]}return n},remove:x,clearAll:function(t){t=t||"";var n=f.slice(0,-1),r=new RegExp(n+"."+t);if(!b||"cookie"===d.storageType)return b||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),F();var i=f.length;for(var o in p)if(r.test(o))try{x(o.substr(i))}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),F()}return!0},bind:function(e,t,r,i){var s=w(i=i||t);return null===s&&n(r)?s=r:o(s)&&o(r)&&(s=a(r,s)),h(t).assign(e,s),e.$watch(t,(function(e){$(i,e)}),o(e[t]))},deriveKey:y,length:function(){for(var e=0,n=t[v],r=0;r<n.length;r++)0===n.key(r).indexOf(f)&&e++;return e},cookie:{isSupported:S,set:E,add:E,get:A,remove:C,clearAll:F}}}]}))}(window,window.angular)},36:function(e,t){angular.module("graphdb.framework.rest.locations.service",[]).factory("LocationsRestService",n),n.$inject=["$http"];function n(e){return{getLocations:function(t,n){return e.get("rest/locations",{params:{filterClusterLocations:n}},{timeout:t?t.promise:null})},addLocation:function(t){return e.post("rest/locations",t)},editLocation:function(t){return e.put("rest/locations",t)},deleteLocation:function(t){return e.delete("rest/locations?uri="+t)},getActiveLocation:function(){return e({method:"GET",url:"rest/locations/active",noCancelOnRouteChange:!0})},setDefaultRepository:function(t){return e({url:"rest/locations/active/default-repository",method:"POST",data:{defaultRepository:t}})},getLocationRpcAddress:function(t){return e.get("rest/info/rpc-address",{params:{location:t}})}}}},360:function(e,t){!function(e,t,n){"use strict";function r(e){var t,n={};for(e=e.split(","),t=0;t<e.length;t++)n[e[t]]=!0;return n}function i(e){if(!e)return"";var t=F.exec(e);e=t[1];var n=t[3];return(t=t[2])&&(C.innerHTML=t.replace(/</g,"&lt;"),t="textContent"in C?C.textContent:C.innerText),e+t+n}function o(e){return e.replace(/&/g,"&amp;").replace(m,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+((e=e.charCodeAt(1))-56320)+65536)+";"})).replace(v,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function s(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,s,a){e=t.lowercase(e),!r&&x[e]&&(r=e),r||!0!==S[e]||(i("<"),i(e),t.forEach(s,(function(r,s){var a=t.lowercase(s),u="img"===e&&"src"===a||"background"===a;!0!==A[a]||!0===E[a]&&!n(r,u)||(i(" "),i(s),i('="'),i(o(r)),i('"'))})),i(a?"/>":">"))},end:function(e){e=t.lowercase(e),r||!0!==S[e]||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(o(e))}}}var a=t.$$minErr("$sanitize"),u=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,l=/^<\/\s*([\w:-]+)[^>]*>/,c=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,h=/^</,p=/^<\//,d=/\x3c!--(.*?)--\x3e/g,f=/<!DOCTYPE([^>]*?)>/i,g=/<!\[CDATA\[(.*?)]]\x3e/g,m=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v=/([^\#-~| |!])/g,y=r("area,br,col,hr,img,wbr");e=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),n=r("rp,rt");var b=t.extend({},n,e),$=t.extend({},e,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),w=t.extend({},n,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));e=r("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use");var x=r("script,style"),S=t.extend({},y,$,w,b,e),E=r("background,cite,href,longdesc,src,usemap,xlink:href");e=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),n=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan");var A=t.extend({},E,n,e),C=document.createElement("pre"),F=/^(\s*)([\s\S]*?)(\s*)$/;t.module("ngSanitize",[]).provider("$sanitize",(function(){this.$get=["$$sanitizeUri",function(e){return function(n){var r=[];return function(e,n){function r(e,r,s,a){if(r=t.lowercase(r),$[r])for(;S.last()&&w[S.last()];)o("",S.last());b[r]&&S.last()==r&&o("",r),(a=y[r]||!!a)||S.push(r);var u={};s.replace(c,(function(e,t,n,r,o){u[t]=i(n||r||o||"")})),n.start&&n.start(r,u,a)}function o(e,r){var i,o=0;if(r=t.lowercase(r))for(o=S.length-1;0<=o&&S[o]!=r;o--);if(0<=o){for(i=S.length-1;i>=o;i--)n.end&&n.end(S[i]);S.length=o}}"string"!=typeof e&&(e=null==e?"":""+e);var s,m,v,S=[],E=e;for(S.last=function(){return S[S.length-1]};e;){if(v="",m=!0,S.last()&&x[S.last()]?(e=e.replace(new RegExp("(.*)<\\s*\\/\\s*"+S.last()+"[^>]*>","i"),(function(e,t){return t=t.replace(d,"$1").replace(g,"$1"),n.chars&&n.chars(i(t)),""})),o(0,S.last())):(0===e.indexOf("\x3c!--")?0<=(s=e.indexOf("--",4))&&e.lastIndexOf("--\x3e",s)===s&&(n.comment&&n.comment(e.substring(4,s)),e=e.substring(s+3),m=!1):f.test(e)?(s=e.match(f))&&(e=e.replace(s[0],""),m=!1):p.test(e)?(s=e.match(l))&&(e=e.substring(s[0].length),s[0].replace(l,o),m=!1):h.test(e)&&((s=e.match(u))?(s[4]&&(e=e.substring(s[0].length),s[0].replace(u,r)),m=!1):(v+="<",e=e.substring(1))),m&&(v+=0>(s=e.indexOf("<"))?e:e.substring(0,s),e=0>s?"":e.substring(s),n.chars&&n.chars(i(v)))),e==E)throw a("badparse",e);E=e}o()}(n,s(r,(function(t,n){return!/^unsafe/.test(e(t,n))}))),r.join("")}}]})),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/,r=/^mailto:/;return function(i,o){function a(e){e&&d.push(function(e){var n=[];return s(n,t.noop).chars(e),n.join("")}(e))}function u(e,n){d.push("<a "),t.isDefined(o)&&d.push('target="',o,'" '),d.push('href="',e.replace(/"/g,"&quot;"),'">'),a(n),d.push("</a>")}if(!i)return i;for(var l,c,h,p=i,d=[];l=p.match(n);)c=l[0],l[2]||l[4]||(c=(l[3]?"http://":"mailto:")+c),h=l.index,a(p.substr(0,h)),u(c,l[0].replace(r,"")),p=p.substring(h+l[0].length);return a(p),e(d.join(""))}}])}(window,window.angular)},361:function(e,t,n){n(362),e.exports="toastr"},362:function(e,t){!function(){"use strict";function e(e,t,n,r,i,o,s){var a,u=0,l=[],c="",h={},p=s.defer();return{active:function(){return l.length},clear:function(e){if(1===arguments.length&&!e)return;if(e)d(e.toastId);else for(var t=0;t<l.length;t++)d(l[t].toastId)},error:function(e,t,n){return f(g().iconClasses.error,e,t,n)},info:function(e,t,n){return f(g().iconClasses.info,e,t,n)},remove:d,success:function(e,t,n){return f(g().iconClasses.success,e,t,n)},warning:function(e,t,n){return f(g().iconClasses.warning,e,t,n)},refreshTimer:function(e,t){e&&e.isOpened&&l.indexOf(e)>=0&&e.scope.refreshTimer(t)}};function d(t,n){var r=function(e){for(var t=0;t<l.length;t++)if(l[t].toastId===e)return l[t]}(t);r&&!r.deleting&&(r.deleting=!0,r.isOpened=!1,e.leave(r.el).then((function(){r.scope.options.onHidden&&r.scope.options.onHidden(!!n,r),r.scope.$destroy();var e=l.indexOf(r);delete h[r.scope.message],l.splice(e,1);var t=o.maxOpened;t&&l.length>=t&&l[t-1].open.resolve(),l.length||(a.remove(),a=null,p=s.defer())})))}function f(n,o,f,m){return angular.isObject(f)&&(m=f,f=null),function(n){var o=g();if(function(){var e=o.preventDuplicates&&n.message===c,t=o.preventOpenDuplicates&&h[n.message];if(e||t)return!0;return c=n.message,h[n.message]=!0,!1}())return;var f=function(){var e={toastId:u++,isOpened:!1,scope:r.$new(),open:s.defer()};e.iconClass=n.iconClass,n.optionsOverride&&(angular.extend(o,function(e){for(var t=["containerId","iconClasses","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","templates"],n=0,r=t.length;n<r;n++)delete e[t[n]];return e}(n.optionsOverride)),e.iconClass=n.optionsOverride.iconClass||e.iconClass);return function(e,t,n){n.allowHtml?(e.scope.allowHtml=!0,e.scope.title=i.trustAsHtml(t.title),e.scope.message=i.trustAsHtml(t.message)):(e.scope.title=t.title,e.scope.message=t.message);e.scope.toastType=e.iconClass,e.scope.toastId=e.toastId,e.scope.extraData=n.extraData,e.scope.options={extendedTimeOut:n.extendedTimeOut,messageClass:n.messageClass,onHidden:n.onHidden,onShown:r("onShown"),onTap:r("onTap"),progressBar:n.progressBar,tapToDismiss:n.tapToDismiss,timeOut:n.timeOut,titleClass:n.titleClass,toastClass:n.toastClass},n.closeButton&&(e.scope.options.closeHtml=n.closeHtml);function r(t){if(n[t])return function(){n[t](e)}}}(e,n,o),e.el=function(e){var n=angular.element("<div toast></div>");return t.get("$compile")(n)(e)}(e.scope),e}();if(l.push(f),function(){return o.autoDismiss&&o.maxOpened&&l.length>o.maxOpened}())for(var m=l.slice(0,l.length-o.maxOpened),v=0,y=m.length;v<y;v++)d(m[v].toastId);(o.maxOpened&&l.length<=o.maxOpened||!o.maxOpened)&&f.open.resolve();return f.open.promise.then((function(){(function(t){if(a)return p.promise;(a=angular.element("<div></div>")).attr("id",t.containerId),a.addClass(t.positionClass),a.css({"pointer-events":"auto"});var n=angular.element(document.querySelector(t.target));if(!n||!n.length)throw"Target for toasts doesn't exist";return e.enter(a,n).then((function(){p.resolve()})),p.promise})(o).then((function(){if(f.isOpened=!0,o.newestOnTop)e.enter(f.el,a).then((function(){f.scope.init()}));else{var t=a[0].lastChild?angular.element(a[0].lastChild):null;e.enter(f.el,a,t).then((function(){f.scope.init()}))}}))})),f}({iconClass:n,message:o,optionsOverride:m,title:f})}function g(){return angular.extend({},o)}}angular.module("toastr",[]).factory("toastr",e),e.$inject=["$animate","$injector","$document","$rootScope","$sce","toastrConfig","$q"]}(),function(){"use strict";angular.module("toastr").constant("toastrConfig",{allowHtml:!1,autoDismiss:!1,closeButton:!1,closeHtml:"<button>&times;</button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},maxOpened:0,messageClass:"toast-message",newestOnTop:!0,onHidden:null,onShown:null,onTap:null,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,progressBar:!1,tapToDismiss:!0,target:"body",templates:{toast:"directives/toast/toast.html",progressbar:"directives/progressbar/progressbar.html"},timeOut:5e3,titleClass:"toast-title",toastClass:"toast"})}(),function(){"use strict";function e(e){return{require:"^toast",templateUrl:function(){return e.templates.progressbar},link:function(e,t,n,r){var i,o,s;function a(){var e=(s-(new Date).getTime())/o*100;t.css("width",e+"%")}r.progressBar=e,e.start=function(e){i&&clearInterval(i),o=parseFloat(e),s=(new Date).getTime()+o,i=setInterval(a,10)},e.stop=function(){i&&clearInterval(i)},e.$on("$destroy",(function(){clearInterval(i)}))}}}angular.module("toastr").directive("progressBar",e),e.$inject=["toastrConfig"]}(),function(){"use strict";angular.module("toastr").controller("ToastController",(function(){this.progressBar=null,this.startProgressBar=function(e){this.progressBar&&this.progressBar.start(e)},this.stopProgressBar=function(){this.progressBar&&this.progressBar.stop()}}))}(),function(){"use strict";function e(e,t,n,r){return{templateUrl:function(){return n.templates.toast},controller:"ToastController",link:function(n,i,o,s){var a;if(n.toastClass=n.options.toastClass,n.titleClass=n.options.titleClass,n.messageClass=n.options.messageClass,n.progressBar=n.options.progressBar,function(){return n.options.closeHtml}()){var u=angular.element(n.options.closeHtml),l=e.get("$compile");u.addClass("toast-close-button"),u.attr("ng-click","close(true, $event)"),l(u)(n),i.children().prepend(u)}function c(e){return s.startProgressBar(e),t((function(){s.stopProgressBar(),r.remove(n.toastId)}),e,1)}n.init=function(){n.options.timeOut&&(a=c(n.options.timeOut)),n.options.onShown&&n.options.onShown()},i.on("mouseenter",(function(){n.progressBar=!1,s.stopProgressBar(),a&&t.cancel(a)})),n.tapToast=function(){angular.isFunction(n.options.onTap)&&n.options.onTap(),n.options.tapToDismiss&&n.close(!0)},n.close=function(e,t){t&&angular.isFunction(t.stopPropagation)&&t.stopPropagation(),r.remove(n.toastId,e)},n.refreshTimer=function(e){a&&(t.cancel(a),a=c(e||n.options.timeOut))},i.on("mouseleave",(function(){0===n.options.timeOut&&0===n.options.extendedTimeOut||(n.$apply((function(){n.progressBar=n.options.progressBar})),a=c(n.options.extendedTimeOut))}))}}}angular.module("toastr").directive("toast",e),e.$inject=["$injector","$interval","toastrConfig","toastr"]}(),angular.module("toastr").run(["$templateCache",function(e){e.put("directives/progressbar/progressbar.html",'<div class="toast-progress"></div>\n'),e.put("directives/toast/toast.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}" aria-label="{{title}}">{{title}}</div>\n    <div ng-switch-default class="{{messageClass}}" aria-label="{{message}}">{{message}}</div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title"></div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message"></div>\n  </div>\n  <progress-bar ng-if="progressBar"></progress-bar>\n</div>\n')}])},363:function(e,t){angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$injector",function(e,t){var n=t.has("$animateCss")?t.get("$animateCss"):null;return{link:function(t,r,i){function o(){r.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),n?n(r,{addClass:"in",easing:"ease",to:{height:r[0].scrollHeight+"px"}}).start().finally(s):e.addClass(r,"in",{to:{height:r[0].scrollHeight+"px"}}).then(s)}function s(){r.removeClass("collapsing").addClass("collapse").css({height:"auto"})}function a(){return r.hasClass("collapse")||r.hasClass("in")?(r.css({height:r[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void(n?n(r,{removeClass:"in",to:{height:"0"}}).start().finally(u):e.removeClass(r,"in",{to:{height:"0"}}).then(u))):u()}function u(){r.css({height:"0"}),r.removeClass("collapsing").addClass("collapse")}t.$watch(i.uibCollapse,(function(e){e?a():o()}))}}}]),angular.module("ui.bootstrap.collapse").value("$collapseSuppressWarning",!1).directive("collapse",["$animate","$injector","$log","$collapseSuppressWarning",function(e,t,n,r){var i=t.has("$animateCss")?t.get("$animateCss"):null;return{link:function(t,o,s){function a(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),i?i(o,{easing:"ease",to:{height:o[0].scrollHeight+"px"}}).start().done(u):e.animate(o,{},{height:o[0].scrollHeight+"px"}).then(u)}function u(){o.removeClass("collapsing").addClass("collapse in").css({height:"auto"})}function l(){return o.hasClass("collapse")||o.hasClass("in")?(o.css({height:o[0].scrollHeight+"px"}).removeClass("collapse in").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void(i?i(o,{to:{height:"0"}}).start().done(c):e.animate(o,{},{height:"0"}).then(c))):c()}function c(){o.css({height:"0"}),o.removeClass("collapsing").addClass("collapse")}r||n.warn("collapse is now deprecated. Use uib-collapse instead."),t.$watch(s.collapse,(function(e){e?l():a()}))}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){(angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers)&&angular.forEach(this.groups,(function(e){e!==r&&(e.isOpen=!1)}))},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",(function(n){t.removeGroup(e)}))},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",(function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"}}})).directive("uibAccordionGroup",(function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,r){r.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass,e.$watch("isOpen",(function(n){t.toggleClass(e.openClass,!!n),n&&r.closeOthers(e)})),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)}}}})).directive("uibAccordionHeading",(function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,r,i){r.setHeading(i(e,angular.noop))}}})).directive("uibAccordionTransclude",(function(){return{require:["?^uibAccordionGroup","?^accordionGroup"],link:function(e,t,n,r){r=r[0]?r[0]:r[1],e.$watch((function(){return r[n.uibAccordionTransclude]}),(function(e){e&&(t.find("span").html(""),t.find("span").append(e))}))}}})),angular.module("ui.bootstrap.accordion").value("$accordionSuppressWarning",!1).controller("AccordionController",["$scope","$attrs","$controller","$log","$accordionSuppressWarning",function(e,t,n,r,i){i||r.warn("AccordionController is now deprecated. Use UibAccordionController instead."),angular.extend(this,n("UibAccordionController",{$scope:e,$attrs:t}))}]).directive("accordion",["$log","$accordionSuppressWarning",function(e,t){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"},link:function(){t||e.warn("accordion is now deprecated. Use uib-accordion instead.")}}}]).directive("accordionGroup",["$log","$accordionSuppressWarning",function(e,t){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(n,r,i,o){t||e.warn("accordion-group is now deprecated. Use uib-accordion-group instead."),o.addGroup(n),n.openClass=i.openClass||"panel-open",n.panelClass=i.panelClass,n.$watch("isOpen",(function(e){r.toggleClass(n.openClass,!!e),e&&o.closeOthers(n)})),n.toggleOpen=function(e){n.isDisabled||e&&32!==e.which||(n.isOpen=!n.isOpen)}}}}]).directive("accordionHeading",["$log","$accordionSuppressWarning",function(e,t){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(n,r,i,o,s){t||e.warn("accordion-heading is now deprecated. Use uib-accordion-heading instead."),o.setHeading(s(n,angular.noop))}}}]).directive("accordionTransclude",["$log","$accordionSuppressWarning",function(e,t){return{require:"^accordionGroup",link:function(n,r,i,o){t||e.warn("accordion-transclude is now deprecated. Use uib-accordion-transclude instead."),n.$watch((function(){return o[i.accordionTransclude]}),(function(e){e&&(r.find("span").html(""),r.find("span").append(e))}))}}}]),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(e,t,n,r){e.closeable=!!t.close;var i=angular.isDefined(t.dismissOnTimeout)?n(t.dismissOnTimeout)(e.$parent):null;i&&r((function(){e.close()}),parseInt(i,10))}]).directive("uibAlert",(function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}})),angular.module("ui.bootstrap.alert").value("$alertSuppressWarning",!1).controller("AlertController",["$scope","$attrs","$controller","$log","$alertSuppressWarning",function(e,t,n,r,i){i||r.warn("AlertController is now deprecated. Use UibAlertController instead."),angular.extend(this,n("UibAlertController",{$scope:e,$attrs:t}))}]).directive("alert",["$log","$alertSuppressWarning",function(e,t){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"},link:function(){t||e.warn("alert is now deprecated. Use uib-alert instead.")}}}]),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",(function(){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(e,t,n,r){var i=r[0],o=r[1];t.find("input").css({display:"none"}),o.$render=function(){t.toggleClass(i.activeClass,angular.equals(o.$modelValue,e.$eval(n.uibBtnRadio)))},t.on(i.toggleEvent,(function(){if(!n.disabled){var r=t.hasClass(i.activeClass);(!r||angular.isDefined(n.uncheckable))&&e.$apply((function(){o.$setViewValue(r?null:e.$eval(n.uibBtnRadio)),o.$render()}))}}))}}})).directive("uibBtnCheckbox",(function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,r){function i(){return o(n.btnCheckboxTrue,!0)}function o(t,n){return angular.isDefined(t)?e.$eval(t):n}var s=r[0],a=r[1];t.find("input").css({display:"none"}),a.$render=function(){t.toggleClass(s.activeClass,angular.equals(a.$modelValue,i()))},t.on(s.toggleEvent,(function(){n.disabled||e.$apply((function(){a.$setViewValue(t.hasClass(s.activeClass)?o(n.btnCheckboxFalse,!1):i()),a.$render()}))}))}}})),angular.module("ui.bootstrap.buttons").value("$buttonsSuppressWarning",!1).controller("ButtonsController",["$controller","$log","$buttonsSuppressWarning",function(e,t,n){n||t.warn("ButtonsController is now deprecated. Use UibButtonsController instead."),angular.extend(this,e("UibButtonsController"))}]).directive("btnRadio",["$log","$buttonsSuppressWarning",function(e,t){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(n,r,i,o){t||e.warn("btn-radio is now deprecated. Use uib-btn-radio instead.");var s=o[0],a=o[1];r.find("input").css({display:"none"}),a.$render=function(){r.toggleClass(s.activeClass,angular.equals(a.$modelValue,n.$eval(i.btnRadio)))},r.bind(s.toggleEvent,(function(){if(!i.disabled){var e=r.hasClass(s.activeClass);(!e||angular.isDefined(i.uncheckable))&&n.$apply((function(){a.$setViewValue(e?null:n.$eval(i.btnRadio)),a.$render()}))}}))}}}]).directive("btnCheckbox",["$document","$log","$buttonsSuppressWarning",function(e,t,n){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(r,i,o,s){function a(){return l(o.btnCheckboxTrue,!0)}function u(){return l(o.btnCheckboxFalse,!1)}function l(e,t){var n=r.$eval(e);return angular.isDefined(n)?n:t}n||t.warn("btn-checkbox is now deprecated. Use uib-btn-checkbox instead.");var c=s[0],h=s[1];i.find("input").css({display:"none"}),h.$render=function(){i.toggleClass(c.activeClass,angular.equals(h.$modelValue,a()))},i.bind(c.toggleEvent,(function(){o.disabled||r.$apply((function(){h.$setViewValue(i.hasClass(c.activeClass)?u():a()),h.$render()}))})),i.on("keypress",(function(t){o.disabled||32!==t.which||e[0].activeElement!==i[0]||r.$apply((function(){h.$setViewValue(i.hasClass(c.activeClass)?u():a()),h.$render()}))}))}}}]),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$animate",function(e,t,n,r){function i(t,n,i){m||(angular.extend(t,{direction:i,active:!0}),angular.extend(h.currentSlide||{},{direction:i,active:!1}),r.enabled()&&!e.noTransition&&!e.$currentTransition&&t.$element&&h.slides.length>1&&(t.$element.data(f,t.direction),h.currentSlide&&h.currentSlide.$element&&h.currentSlide.$element.data(f,t.direction),e.$currentTransition=!0,d?r.on("addClass",t.$element,(function(t,n){"close"===n&&(e.$currentTransition=null,r.off("addClass",t))})):t.$element.one("$animate:close",(function(){e.$currentTransition=null}))),h.currentSlide=t,g=n,s())}function o(e){if(angular.isUndefined(p[e].index))return p[e];var t;for(p.length,t=0;t<p.length;++t)if(p[t].index==e)return p[t]}function s(){a();var t=+e.interval;!isNaN(t)&&t>0&&(l=n(u,t))}function a(){l&&(n.cancel(l),l=null)}function u(){var t=+e.interval;c&&!isNaN(t)&&t>0&&p.length?e.next():e.pause()}var l,c,h=this,p=h.slides=e.slides=[],d=angular.version.minor>=4,f="uib-slideDirection",g=-1;h.currentSlide=null;var m=!1;h.select=e.select=function(t,n){var r=e.indexOfSlide(t);void 0===n&&(n=r>h.getCurrentIndex()?"next":"prev"),t&&t!==h.currentSlide&&!e.$currentTransition&&i(t,r,n)},e.$on("$destroy",(function(){m=!0})),h.getCurrentIndex=function(){return h.currentSlide&&angular.isDefined(h.currentSlide.index)?+h.currentSlide.index:g},e.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:p.indexOf(e)},e.next=function(){var t=(h.getCurrentIndex()+1)%p.length;return 0===t&&e.noWrap()?void e.pause():h.select(o(t),"next")},e.prev=function(){var t=h.getCurrentIndex()-1<0?p.length-1:h.getCurrentIndex()-1;return e.noWrap()&&t===p.length-1?void e.pause():h.select(o(t),"prev")},e.isActive=function(e){return h.currentSlide===e},e.$watch("interval",s),e.$watchCollection("slides",(function(t){t.length||(e.$currentTransition=null)})),e.$on("$destroy",a),e.play=function(){c||(c=!0,s())},e.pause=function(){e.noPause||(c=!1,a())},h.addSlide=function(t,n){t.$element=n,p.push(t),1===p.length||t.active?(h.select(p[p.length-1]),1===p.length&&e.play()):t.active=!1},h.removeSlide=function(e){angular.isDefined(e.index)&&p.sort((function(e,t){return+e.index>+t.index}));var t=p.indexOf(e);p.splice(t,1),p.length>0&&e.active?t>=p.length?h.select(p[t-1]):h.select(p[t]):g>t&&g--,0===p.length&&(h.currentSlide=null)},e.$watch("noTransition",(function(e){t.data("uib-noTransition",e)}))}]).directive("uibCarousel",[function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("uibSlide",(function(){return{require:"^uibCarousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(e,t,n,r){r.addSlide(e,t),e.$on("$destroy",(function(){r.removeSlide(e)})),e.$watch("active",(function(t){t&&r.select(e)}))}}})).animation(".item",["$injector","$animate",function(e,t){function n(e,t,n){e.removeClass(t),n&&n()}var r="uib-noTransition",i="uib-slideDirection",o=null;return e.has("$animateCss")&&(o=e.get("$animateCss")),{beforeAddClass:function(e,s,a){if("active"==s&&e.parent()&&e.parent().parent()&&!e.parent().parent().data(r)){var u=!1,l=e.data(i),c="next"==l?"left":"right",h=n.bind(this,e,c+" "+l,a);return e.addClass(l),o?o(e,{addClass:c}).start().done(h):t.addClass(e,c).then((function(){u||h(),a()})),function(){u=!0}}a()},beforeRemoveClass:function(e,s,a){if("active"===s&&e.parent()&&e.parent().parent()&&!e.parent().parent().data(r)){var u=!1,l="next"==e.data(i)?"left":"right",c=n.bind(this,e,l,a);return o?o(e,{addClass:l}).start().done(c):t.addClass(e,l).then((function(){u||c(),a()})),function(){u=!0}}a()}}}]),angular.module("ui.bootstrap.carousel").value("$carouselSuppressWarning",!1).controller("CarouselController",["$scope","$element","$controller","$log","$carouselSuppressWarning",function(e,t,n,r,i){i||r.warn("CarouselController is now deprecated. Use UibCarouselController instead."),angular.extend(this,n("UibCarouselController",{$scope:e,$element:t}))}]).directive("carousel",["$log","$carouselSuppressWarning",function(e,t){return{transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"},link:function(){t||e.warn("carousel is now deprecated. Use uib-carousel instead.")}}}]).directive("slide",["$log","$carouselSuppressWarning",function(e,t){return{require:"^carousel",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(n,r,i,o){t||e.warn("slide is now deprecated. Use uib-slide instead."),o.addSlide(n,r),n.$on("$destroy",(function(){o.removeSlide(n)})),n.$watch("active",(function(e){e&&o.select(n)}))}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","orderByFilter",function(e,t,n){function r(e){var t=[],r=e.split("");return angular.forEach(o,(function(n,i){var o=e.indexOf(i);if(o>-1){e=e.split(""),r[o]="("+n.regex+")",e[o]="$";for(var s=o+1,a=o+i.length;a>s;s++)r[s]="",e[s]="$";e=e.join(""),t.push({index:o,apply:n.apply})}})),{regex:new RegExp("^"+r.join("")+"$"),map:n(t,"index")}}var i,o,s=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){i=t.id,this.parsers={},o={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},hh:{regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},h:{regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},a:{regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}}}},this.init(),this.parse=function(n,o,a){if(!angular.isString(n)||!o)return n;o=(o=t.DATETIME_FORMATS[o]||o).replace(s,"\\$&"),t.id!==i&&this.init(),this.parsers[o]||(this.parsers[o]=r(o));var u=this.parsers[o],l=u.regex,c=u.map,h=n.match(l);if(h&&h.length){var p,d;angular.isDate(a)&&!isNaN(a.getTime())?p={year:a.getFullYear(),month:a.getMonth(),date:a.getDate(),hours:a.getHours(),minutes:a.getMinutes(),seconds:a.getSeconds(),milliseconds:a.getMilliseconds()}:(a&&e.warn("dateparser:","baseDate is not a valid date"),p={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var f=1,g=h.length;g>f;f++){var m=c[f-1];m.apply&&m.apply.call(p,h[f])}return function(e,t,n){return!(1>n)&&(1===t&&n>28?29===n&&(e%4==0&&e%100!=0||e%400==0):3!==t&&5!==t&&8!==t&&10!==t||31>n)}(p.year,p.month,p.date)&&(angular.isDate(a)&&!isNaN(a.getTime())?(d=new Date(a)).setFullYear(p.year,p.month,p.date,p.hours,p.minutes,p.seconds,p.milliseconds||0):d=new Date(p.year,p.month,p.date,p.hours,p.minutes,p.seconds,p.milliseconds||0)),d}}}]),angular.module("ui.bootstrap.dateparser").value("$dateParserSuppressWarning",!1).service("dateParser",["$log","$dateParserSuppressWarning","uibDateParser",function(e,t,n){t||e.warn("dateParser is now deprecated. Use uibDateParser instead."),angular.extend(this,n)}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){function n(e){return"static"===(function(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}(e,"position")||"static")}var r=function(t){for(var r=e[0],i=t.offsetParent||r;i&&i!==r&&n(i);)i=i.offsetParent;return i||r};return{position:function(t){var n=this.offset(t),i={top:0,left:0},o=r(t[0]);o!=e[0]&&((i=this.offset(angular.element(o))).top+=o.clientTop-o.scrollTop,i.left+=o.clientLeft-o.scrollLeft);var s=t[0].getBoundingClientRect();return{width:s.width||t.prop("offsetWidth"),height:s.height||t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,r){var i,o,s,a,u=n.split("-"),l=u[0],c=u[1]||"center";i=r?this.offset(e):this.position(e),o=t.prop("offsetWidth"),s=t.prop("offsetHeight");var h={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},p={center:function(){return i.top+i.height/2-s/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(l){case"right":a={top:p[c](),left:h[l]()};break;case"left":a={top:p[c](),left:i.left-o};break;case"bottom":a={top:p[l](),left:h[c]()};break;default:a={top:i.top-s,left:h[c]()}}return a}}}]),angular.module("ui.bootstrap.position").value("$positionSuppressWarning",!1).service("$position",["$log","$positionSuppressWarning","$uibPosition",function(e,t,n){t||e.warn("$position is now deprecated. Use $uibPosition instead."),angular.extend(this,n)}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("uibDatepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError",function(e,t,n,r,i,o,s,a){var u=this,l={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],(function(n,i){u[n]=angular.isDefined(t[n])?6>i?r(t[n])(e.$parent):e.$parent.$eval(t[n]):s[n]})),angular.forEach(["minDate","maxDate"],(function(r){t[r]?e.$parent.$watch(n(t[r]),(function(e){u[r]=e?new Date(e):null,u.refreshView()})):u[r]=s[r]?new Date(s[r]):null})),angular.forEach(["minMode","maxMode"],(function(r){t[r]?e.$parent.$watch(n(t[r]),(function(n){u[r]=angular.isDefined(n)?n:t[r],e[r]=u[r],("minMode"==r&&u.modes.indexOf(e.datepickerMode)<u.modes.indexOf(u[r])||"maxMode"==r&&u.modes.indexOf(e.datepickerMode)>u.modes.indexOf(u[r]))&&(e.datepickerMode=u[r])})):(u[r]=s[r]||null,e[r]=u[r])})),e.datepickerMode=e.datepickerMode||s.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,(function(e){e&&(l.$isEmpty(l.$modelValue)||l.$invalid)&&(u.activeDate=e,u.refreshView())}))):this.activeDate=new Date,e.isActive=function(t){return 0===u.compare(t.date,u.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(e){(l=e).$render=function(){u.render()}},this.render=function(){if(l.$viewValue){var e=new Date(l.$viewValue);!isNaN(e)?this.activeDate=e:a||i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=l.$viewValue?new Date(l.$viewValue):null;l.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=l.$viewValue?new Date(l.$viewValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===u.minMode){var n=l.$viewValue?new Date(l.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),l.$setViewValue(n),l.$render()}else u.activeDate=t,e.datepickerMode=u.modes[u.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=u.activeDate.getFullYear()+e*(u.step.years||0),n=u.activeDate.getMonth()+e*(u.step.months||0);u.activeDate.setFullYear(t,n,1),u.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===u.maxMode&&1===t||e.datepickerMode===u.minMode&&-1===t||(e.datepickerMode=u.modes[u.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};e.$on("uib:datepicker.focus",(function(){u.element[0].focus()})),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),u.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(u.isDisabled(u.activeDate))return;e.select(u.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(u.handleKeyDown(n,t),u.refreshView()):e.toggleMode("up"===n?1:-1)}}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function r(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?o[t]:29}function i(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var o=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,r=new Array(t),i=new Date(e),o=0;t>o;)n=new Date(i),r[o++]=n,i.setDate(i.getDate()+1);return r},this._refreshView=function(){var t=this.activeDate.getFullYear(),r=this.activeDate.getMonth(),o=new Date(this.activeDate);o.setFullYear(t,r,1);var s=this.startingDay-o.getDay(),a=s>0?7-s:-s,u=new Date(o);a>0&&u.setDate(1-a);for(var l=this.getDates(u,42),c=0;42>c;c++)l[c]=angular.extend(this.createDateObject(l[c],this.formatDay),{secondary:l[c].getMonth()!==r,uid:e.uniqueId+"-"+c});e.labels=new Array(7);for(var h=0;7>h;h++)e.labels[h]={abbr:n(l[h].date,this.formatDayHeader),full:n(l[h].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(l,7),e.showWeeks){e.weekNumbers=[];for(var p=(11-this.startingDay)%7,d=e.rows.length,f=0;d>f;f++)e.weekNumbers.push(i(e.rows[f][p].date))}},this.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(i,1),n=Math.min(r(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=r(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,r=new Array(12),i=this.activeDate.getFullYear(),o=0;12>o;o++)(t=new Date(this.activeDate)).setFullYear(i,o,1),r[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(r,3)},this.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var r=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(r)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){function r(e){return parseInt((e-1)/i,10)*i+1}var i;this.element=t,this.yearpickerInit=function(){i=this.yearRange,this.step={years:i}},this._refreshView=function(){for(var t,n=new Array(i),o=0,s=r(this.activeDate.getFullYear());i>o;o++)(t=new Date(this.activeDate)).setFullYear(s+o,0,1),n[o]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+o});e.title=[n[0].label,n[i-1].label].join(" - "),e.rows=this.split(n,5)},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=5:"right"===e?n+=1:"down"===e?n+=5:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*this.step.years:"home"===e?n=r(this.activeDate.getFullYear()):"end"===e&&(n=r(this.activeDate.getFullYear())+i-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",(function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}})).directive("uibDaypicker",(function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/day.html"},require:["^?uibDatepicker","uibDaypicker","^?datepicker"],controller:"UibDaypickerController",link:function(e,t,n,r){var i=r[0]||r[2];r[1].init(i)}}})).directive("uibMonthpicker",(function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/month.html"},require:["^?uibDatepicker","uibMonthpicker","^?datepicker"],controller:"UibMonthpickerController",link:function(e,t,n,r){var i=r[0]||r[2];r[1].init(i)}}})).directive("uibYearpicker",(function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/year.html"},require:["^?uibDatepicker","uibYearpicker","^?datepicker"],controller:"UibYearpickerController",link:function(e,t,n,r){var i=r[0]||r[2];angular.extend(i,r[1]),i.yearpickerInit(),i.refreshView()}}})).constant("uibDatepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$parse","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout",function(e,t,n,r,i,o,s,a,u,l,c,h){function p(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))}function d(t){if(angular.isNumber(t)&&(t=new Date(t)),!t)return null;if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var n=l.parse(t,v,e.date);return isNaN(n)?void 0:n}}function f(e,t){var r=e||t;if(!n.ngRequired&&!r)return!0;if(angular.isNumber(r)&&(r=new Date(r)),r){if(angular.isDate(r)&&!isNaN(r))return!0;if(angular.isString(r)){var i=l.parse(r,v);return!isNaN(i)}return!1}return!0}function g(n){var r=C[0],i=t[0].contains(n.target),o=void 0!==r.contains&&r.contains(n.target);!e.isOpen||i||o||e.$apply((function(){e.isOpen=!1}))}function m(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply((function(){e.isOpen=!1})),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply((function(){e.isOpen=!0})))}var v,y,b,$,w,x,S,E,A,C,F={},T=!1;e.watchData={},this.init=function(a){if(A=a,y=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):c.closeOnDateSelection,b=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):c.appendToBody,$=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):c.onOpenFocus,w=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:c.datepickerPopupTemplateUrl,x=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:c.datepickerTemplateUrl,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):c.showButtonBar,c.html5Types[n.type]?(v=c.html5Types[n.type],T=!0):(v=n.datepickerPopup||n.uibDatepickerPopup||c.datepickerPopup,n.$observe("uibDatepickerPopup",(function(e,t){var n=e||c.datepickerPopup;if(n!==v&&(v=n,A.$modelValue=null,!v))throw new Error("uibDatepickerPopup must have a date format specified.")}))),!v)throw new Error("uibDatepickerPopup must have a date format specified.");if(T&&n.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");if((S=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>")).attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":w}),(E=angular.element(S.children()[0])).attr("template-url",x),T&&"month"===n.type&&(E.attr("datepicker-mode",'"month"'),E.attr("min-mode","month")),n.datepickerOptions){var h=e.$parent.$eval(n.datepickerOptions);h&&h.initDate&&(e.initDate=h.initDate,E.attr("init-date","initDate"),delete h.initDate),angular.forEach(h,(function(e,t){E.attr(p(t),e)}))}angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],(function(t){if(n[t]){var r=i(n[t]);if(e.$parent.$watch(r,(function(n){e.watchData[t]=n,("minDate"===t||"maxDate"===t)&&(F[t]=new Date(n))})),E.attr(p(t),"watchData."+t),"datepickerMode"===t){var o=r.assign;e.$watch("watchData."+t,(function(t,n){angular.isFunction(o)&&t!==n&&o(e.$parent,t)}))}}})),n.dateDisabled&&E.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),n.showWeeks&&E.attr("show-weeks",n.showWeeks),n.customClass&&E.attr("custom-class","customClass({ date: date, mode: mode })"),T?A.$formatters.push((function(t){return e.date=t,t})):(A.$$parserName="date",A.$validators.date=f,A.$parsers.unshift(d),A.$formatters.push((function(t){return e.date=t,A.$isEmpty(t)?t:u(t,v)}))),A.$viewChangeListeners.push((function(){e.date=l.parse(A.$viewValue,v,e.date)})),t.bind("keydown",m),C=r(S)(e),S.remove(),b?o.find("body").append(C):t.after(C),e.$on("$destroy",(function(){!0===e.isOpen&&(s.$$phase||e.$apply((function(){e.isOpen=!1}))),C.remove(),t.unbind("keydown",m),o.unbind("click",g)}))},e.getText=function(t){return e[t+"Text"]||c[t+"Text"]},e.isDisabled=function(t){return"today"===t&&(t=new Date),e.watchData.minDate&&e.compare(t,F.minDate)<0||e.watchData.maxDate&&e.compare(t,F.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){angular.isDefined(n)&&(e.date=n);var r=e.date?u(e.date,v):null;t.val(r),A.$setViewValue(r),y&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(e.isOpen=!1,t[0].focus())},e.select=function(t){if("today"===t){var n=new Date;angular.isDate(e.date)?(t=new Date(e.date)).setFullYear(n.getFullYear(),n.getMonth(),n.getDate()):t=new Date(n.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(){e.isOpen=!1,t[0].focus()},e.$watch("isOpen",(function(n){n?(e.position=b?a.offset(t):a.position(t),e.position.top=e.position.top+t.prop("offsetHeight"),h((function(){$&&e.$broadcast("uib:datepicker.focus"),o.bind("click",g)}),0,!1)):o.unbind("click",g)}))}]).directive("uibDatepickerPopup",(function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(e,t,n,r){var i=r[0];r[1].init(i)}}})).directive("uibDatepickerPopupWrap",(function(){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}})),angular.module("ui.bootstrap.datepicker").value("$datepickerSuppressWarning",!1).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError","$datepickerSuppressWarning",function(e,t,n,r,i,o,s,a,u){u||i.warn("DatepickerController is now deprecated. Use UibDatepickerController instead.");var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],(function(n,i){l[n]=angular.isDefined(t[n])?6>i?r(t[n])(e.$parent):e.$parent.$eval(t[n]):s[n]})),angular.forEach(["minDate","maxDate"],(function(r){t[r]?e.$parent.$watch(n(t[r]),(function(e){l[r]=e?new Date(e):null,l.refreshView()})):l[r]=s[r]?new Date(s[r]):null})),angular.forEach(["minMode","maxMode"],(function(r){t[r]?e.$parent.$watch(n(t[r]),(function(n){l[r]=angular.isDefined(n)?n:t[r],e[r]=l[r],("minMode"==r&&l.modes.indexOf(e.datepickerMode)<l.modes.indexOf(l[r])||"maxMode"==r&&l.modes.indexOf(e.datepickerMode)>l.modes.indexOf(l[r]))&&(e.datepickerMode=l[r])})):(l[r]=s[r]||null,e[r]=l[r])})),e.datepickerMode=e.datepickerMode||s.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,(function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(l.activeDate=e,l.refreshView())}))):this.activeDate=new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(e){(c=e).$render=function(){l.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue);!isNaN(e)?this.activeDate=e:a||i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},e.select=function(t){if(e.datepickerMode===l.minMode){var n=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&-1===t||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};e.$on("uib:datepicker.focus",(function(){l.element[0].focus()})),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),l.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,t),l.refreshView()):e.toggleMode("up"===n?1:-1)}}]).directive("datepicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(n,r,i,o){t||e.warn("datepicker is now deprecated. Use uib-datepicker instead.");var s=o[0],a=o[1];s.init(a)}}}]).directive("daypicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/day.html",require:["^datepicker","daypicker"],controller:"UibDaypickerController",link:function(n,r,i,o){t||e.warn("daypicker is now deprecated. Use uib-daypicker instead.");var s=o[0];o[1].init(s)}}}]).directive("monthpicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/month.html",require:["^datepicker","monthpicker"],controller:"UibMonthpickerController",link:function(n,r,i,o){t||e.warn("monthpicker is now deprecated. Use uib-monthpicker instead.");var s=o[0];o[1].init(s)}}}]).directive("yearpicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/year.html",require:["^datepicker","yearpicker"],controller:"UibYearpickerController",link:function(n,r,i,o){t||e.warn("yearpicker is now deprecated. Use uib-yearpicker instead.");var s=o[0];angular.extend(s,o[1]),s.yearpickerInit(),s.refreshView()}}}]).directive("datepickerPopup",["$log","$datepickerSuppressWarning",function(e,t){return{require:["ngModel","datepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(n,r,i,o){t||e.warn("datepicker-popup is now deprecated. Use uib-datepicker-popup instead.");var s=o[0];o[1].init(s)}}}]).directive("datepickerPopupWrap",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"},link:function(){t||e.warn("datepicker-popup-wrap is now deprecated. Use uib-datepicker-popup-wrap instead.")}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.bind("click",r),e.bind("keydown",i)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",r),e.unbind("keydown",i))};var r=function(e){if(n&&(!e||"disabled"!==n.getAutoClose())){var r=n.getToggleElement();if(!(e&&r&&r[0].contains(e.target))){var i=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},i=function(e){27===e.which?(n.focusToggleElement(),r()):n.isKeynavEnabled()&&/(38|40)/.test(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,r,i,o,s,a,u,l,c){var h,p,d=this,f=e.$new(),g=i.openClass,m=angular.noop,v=n.onToggle?r(n.onToggle):angular.noop,y=!1,b=!1;t.addClass("dropdown"),this.init=function(){n.isOpen&&(p=r(n.isOpen),m=p.assign,e.$watch(p,(function(e){f.isOpen=!!e}))),y=angular.isDefined(n.dropdownAppendToBody),b=angular.isDefined(n.uibKeyboardNav),y&&d.dropdownMenu&&(u.find("body").append(d.dropdownMenu),t.on("$destroy",(function(){d.dropdownMenu.remove()})))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return d.toggleElement},f.getAutoClose=function(){return n.autoClose||"always"},f.getElement=function(){return t},f.isKeynavEnabled=function(){return b},f.focusDropdownEntry=function(e){var n=d.dropdownMenu?angular.element(d.dropdownMenu).find("a"):angular.element(t).find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(d.selectedOption)?d.selectedOption=d.selectedOption===n.length-1?d.selectedOption:d.selectedOption+1:d.selectedOption=0;break;case 38:angular.isNumber(d.selectedOption)?d.selectedOption=0===d.selectedOption?0:d.selectedOption-1:d.selectedOption=n.length-1}n[d.selectedOption].focus()},f.getDropdownElement=function(){return d.dropdownMenu},f.focusToggleElement=function(){d.toggleElement&&d.toggleElement[0].focus()},f.$watch("isOpen",(function(n,r){if(y&&d.dropdownMenu){var i=a.positionElements(t,d.dropdownMenu,"bottom-left",!0),u={top:i.top+"px",display:n?"block":"none"};d.dropdownMenu.hasClass("dropdown-menu-right")?(u.left="auto",u.right=window.innerWidth-(i.left+t.prop("offsetWidth"))+"px"):(u.left=i.left+"px",u.right="auto"),d.dropdownMenu.css(u)}if(s[n?"addClass":"removeClass"](t,g).then((function(){angular.isDefined(n)&&n!==r&&v(e,{open:!!n})})),n)d.dropdownMenuTemplateUrl&&c(d.dropdownMenuTemplateUrl).then((function(e){h=f.$new(),l(e.trim())(h,(function(e){var t=e;d.dropdownMenu.replaceWith(t),d.dropdownMenu=t}))})),f.focusToggleElement(),o.open(f);else{if(d.dropdownMenuTemplateUrl){h&&h.$destroy();var p=angular.element('<ul class="dropdown-menu"></ul>');d.dropdownMenu.replaceWith(p),d.dropdownMenu=p}o.close(f),d.selectedOption=null}angular.isFunction(m)&&m(e,n)})),e.$on("$locationChangeSuccess",(function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)}));var $=e.$on("$destroy",(function(){f.$destroy()}));f.$on("$destroy",$)}]).directive("uibDropdown",(function(){return{controller:"UibDropdownController",link:function(e,t,n,r){r.init()}}})).directive("uibDropdownMenu",(function(){return{restrict:"AC",require:"?^uibDropdown",link:function(e,t,n,r){if(r&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var i=n.templateUrl;i&&(r.dropdownMenuTemplateUrl=i),r.dropdownMenu||(r.dropdownMenu=t)}}}})).directive("uibKeyboardNav",(function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,r){t.bind("keydown",(function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=r.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(r.selectedOption)?r.selectedOption=r.selectedOption===t.length-1?r.selectedOption:r.selectedOption+1:r.selectedOption=0;break;case 38:angular.isNumber(r.selectedOption)?r.selectedOption=0===r.selectedOption?0:r.selectedOption-1:r.selectedOption=t.length-1}t[r.selectedOption].focus()}}))}}})).directive("uibDropdownToggle",(function(){return{require:"?^uibDropdown",link:function(e,t,n,r){if(r){t.addClass("dropdown-toggle"),r.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply((function(){r.toggle()}))};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,(function(e){t.attr("aria-expanded",!!e)})),e.$on("$destroy",(function(){t.unbind("click",i)}))}}}})),angular.module("ui.bootstrap.dropdown").value("$dropdownSuppressWarning",!1).service("dropdownService",["$log","$dropdownSuppressWarning","uibDropdownService",function(e,t,n){t||e.warn("dropdownService is now deprecated. Use uibDropdownService instead."),angular.extend(this,n)}]).controller("DropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest","$log","$dropdownSuppressWarning",function(e,t,n,r,i,o,s,a,u,l,c,h,p){p||h.warn("DropdownController is now deprecated. Use UibDropdownController instead.");var d,f,g=this,m=e.$new(),v=i.openClass,y=angular.noop,b=n.onToggle?r(n.onToggle):angular.noop,$=!1,w=!1;t.addClass("dropdown"),this.init=function(){n.isOpen&&(f=r(n.isOpen),y=f.assign,e.$watch(f,(function(e){m.isOpen=!!e}))),$=angular.isDefined(n.dropdownAppendToBody),w=angular.isDefined(n.uibKeyboardNav),$&&g.dropdownMenu&&(u.find("body").append(g.dropdownMenu),t.on("$destroy",(function(){g.dropdownMenu.remove()})))},this.toggle=function(e){return m.isOpen=arguments.length?!!e:!m.isOpen},this.isOpen=function(){return m.isOpen},m.getToggleElement=function(){return g.toggleElement},m.getAutoClose=function(){return n.autoClose||"always"},m.getElement=function(){return t},m.isKeynavEnabled=function(){return w},m.focusDropdownEntry=function(e){var n=g.dropdownMenu?angular.element(g.dropdownMenu).find("a"):angular.element(t).find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(g.selectedOption)?g.selectedOption=g.selectedOption===n.length-1?g.selectedOption:g.selectedOption+1:g.selectedOption=0;break;case 38:angular.isNumber(g.selectedOption)?g.selectedOption=0===g.selectedOption?0:g.selectedOption-1:g.selectedOption=n.length-1}n[g.selectedOption].focus()},m.getDropdownElement=function(){return g.dropdownMenu},m.focusToggleElement=function(){g.toggleElement&&g.toggleElement[0].focus()},m.$watch("isOpen",(function(n,r){if($&&g.dropdownMenu){var i=a.positionElements(t,g.dropdownMenu,"bottom-left",!0),u={top:i.top+"px",display:n?"block":"none"};g.dropdownMenu.hasClass("dropdown-menu-right")?(u.left="auto",u.right=window.innerWidth-(i.left+t.prop("offsetWidth"))+"px"):(u.left=i.left+"px",u.right="auto"),g.dropdownMenu.css(u)}if(s[n?"addClass":"removeClass"](t,v).then((function(){angular.isDefined(n)&&n!==r&&b(e,{open:!!n})})),n)g.dropdownMenuTemplateUrl&&c(g.dropdownMenuTemplateUrl).then((function(e){d=m.$new(),l(e.trim())(d,(function(e){var t=e;g.dropdownMenu.replaceWith(t),g.dropdownMenu=t}))})),m.focusToggleElement(),o.open(m);else{if(g.dropdownMenuTemplateUrl){d&&d.$destroy();var h=angular.element('<ul class="dropdown-menu"></ul>');g.dropdownMenu.replaceWith(h),g.dropdownMenu=h}o.close(m),g.selectedOption=null}angular.isFunction(y)&&y(e,n)})),e.$on("$locationChangeSuccess",(function(){"disabled"!==m.getAutoClose()&&(m.isOpen=!1)}));var x=e.$on("$destroy",(function(){m.$destroy()}));m.$on("$destroy",x)}]).directive("dropdown",["$log","$dropdownSuppressWarning",function(e,t){return{controller:"DropdownController",link:function(n,r,i,o){t||e.warn("dropdown is now deprecated. Use uib-dropdown instead."),o.init()}}}]).directive("dropdownMenu",["$log","$dropdownSuppressWarning",function(e,t){return{restrict:"AC",require:"?^dropdown",link:function(n,r,i,o){if(o&&!angular.isDefined(i.dropdownNested)){t||e.warn("dropdown-menu is now deprecated. Use uib-dropdown-menu instead."),r.addClass("dropdown-menu");var s=i.templateUrl;s&&(o.dropdownMenuTemplateUrl=s),o.dropdownMenu||(o.dropdownMenu=r)}}}}]).directive("keyboardNav",["$log","$dropdownSuppressWarning",function(e,t){return{restrict:"A",require:"?^dropdown",link:function(n,r,i,o){t||e.warn("keyboard-nav is now deprecated. Use uib-keyboard-nav instead."),r.bind("keydown",(function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=o.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(o.selectedOption)?o.selectedOption=o.selectedOption===t.length-1?o.selectedOption:o.selectedOption+1:o.selectedOption=0;break;case 38:angular.isNumber(o.selectedOption)?o.selectedOption=0===o.selectedOption?0:o.selectedOption-1:o.selectedOption=t.length-1}t[o.selectedOption].focus()}}))}}}]).directive("dropdownToggle",["$log","$dropdownSuppressWarning",function(e,t){return{require:"?^dropdown",link:function(n,r,i,o){if(t||e.warn("dropdown-toggle is now deprecated. Use uib-dropdown-toggle instead."),o){r.addClass("dropdown-toggle"),o.toggleElement=r;var s=function(e){e.preventDefault(),r.hasClass("disabled")||i.disabled||n.$apply((function(){o.toggle()}))};r.bind("click",s),r.attr({"aria-haspopup":!0,"aria-expanded":!1}),n.$watch(o.isOpen,(function(e){r.attr("aria-expanded",!!e)})),n.$on("$destroy",(function(){r.unbind("click",s)}))}}}}]),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",(function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t==e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}})),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",(function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map((function(t){return{key:t,value:e[t]}}))},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var r=e[t];if(r){var i=r.indexOf(n);-1!==i&&r.splice(i,1),r.length||delete e[t]}}}}}})).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function r(t,r,o){r.addClass("modal-backdrop"),o.modalInClass&&(i?i(r,{addClass:o.modalInClass}).start():e.addClass(r,o.modalInClass),t.$on(n.NOW_CLOSING_EVENT,(function(t,n){var s=n();i?i(r,{removeClass:o.modalInClass}).start().then(s):e.removeClass(r,o.modalInClass).then(s)})))}var i=null;return t.has("$animateCss")&&(i=t.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),r}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animate","$injector",function(e,t,n,r){var i=null;return r.has("$animateCss")&&(i=r.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(r,o,s){o.addClass(s.windowClass||""),o.addClass(s.windowTopClass||""),r.size=s.size,r.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",r.close),r.$isRendered=!0;var a=t.defer();s.$observe("modalRender",(function(e){"true"==e&&a.resolve()})),a.promise.then((function(){var a=null;s.modalInClass&&(a=i?i(o,{addClass:s.modalInClass}).start():n.addClass(o,s.modalInClass),r.$on(e.NOW_CLOSING_EVENT,(function(e,t){var r=t();i?i(o,{removeClass:s.modalInClass}).start().then(r):n.removeClass(o,s.modalInClass).then(r)}))),t.when(a).then((function(){var e=o[0].querySelector("[autofocus]");e?e.focus():o[0].focus()}));var u=e.getTop();u&&e.modalRendered(u.key)}))}}}]).directive("uibModalAnimationClass",(function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}})).directive("uibModalTransclude",(function(){return{link:function(e,t,n,r,i){i(e.$parent,(function(e){t.empty(),t.append(e)}))}}})).factory("$uibModalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(e,t,n,r,i,o,s,a,u){function l(){for(var e=-1,t=b.keys(),n=0;n<t.length;n++)b.get(t[n]).value.backdrop&&(e=n);return e}function c(e,t){var r=n.find("body").eq(0),i=b.get(e).value;b.remove(e),p(i.modalDomEl,i.modalScope,(function(){var t=i.openedClass||y;$.remove(t,e),r.toggleClass(t,$.hasKey(t)),h(!0)})),function(){if(g&&-1==l()){p(g,m,(function(){null})),g=void 0,m=void 0}}(),t&&t.focus?t.focus():r.focus()}function h(e){var t;b.length()>0&&(t=b.top().value).modalDomEl.toggleClass(t.windowTopClass||"",e)}function p(t,n,r){var i,s=null;return n.$broadcast(w.NOW_CLOSING_EVENT,(function(){return i||(i=o.defer(),s=i.promise),function(){i.resolve()}})),o.when(s).then((function i(){i.done||(i.done=!0,f?f(t,{event:"leave"}).start().then((function(){t.remove()})):e.leave(t),n.$destroy(),r&&r())}))}function d(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var f=null;s.has("$animateCss")&&(f=s.get("$animateCss"));var g,m,v,y="modal-open",b=u.createNew(),$=a.createNew(),w={NOW_CLOSING_EVENT:"modal.stack.now-closing"};return i.$watch(l,(function(e){m&&(m.index=e)})),n.bind("keydown",(function(e){if(e.isDefaultPrevented())return e;var t=b.top();if(t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),i.$apply((function(){w.dismiss(t.key,"escape key press")}));break;case 9:w.loadFocusElementList(t);var n=!1;e.shiftKey?w.isFocusInFirstItem(e)&&(n=w.focusLastFocusableElement()):w.isFocusInLastItem(e)&&(n=w.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}})),w.open=function(e,t){var o=n[0].activeElement,s=t.openedClass||y;h(!1),b.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass,windowTopClass:t.windowTopClass}),$.put(s,e);var a=n.find("body").eq(0),u=l();if(u>=0&&!g){(m=i.$new(!0)).index=u;var c=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>');c.attr("backdrop-class",t.backdropClass),t.animation&&c.attr("modal-animation","true"),g=r(c)(m),a.append(g)}var p=angular.element('<div uib-modal-window="modal-window"></div>');p.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,"window-top-class":t.windowTopClass,size:t.size,index:b.length()-1,animate:"animate"}).html(t.content),t.animation&&p.attr("modal-animation","true");var d=r(p)(t.scope);b.top().value.modalDomEl=d,b.top().value.modalOpener=o,a.append(d),a.addClass(s),w.clearFocusListCache()},w.close=function(e,t){var n=b.get(e);return n&&d(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),c(e,n.value.modalOpener),!0):!n},w.dismiss=function(e,t){var n=b.get(e);return n&&d(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),c(e,n.value.modalOpener),!0):!n},w.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},w.getTop=function(){return b.top()},w.modalRendered=function(e){var t=b.get(e);t&&t.value.renderDeferred.resolve()},w.focusFirstFocusableElement=function(){return v.length>0&&(v[0].focus(),!0)},w.focusLastFocusableElement=function(){return v.length>0&&(v[v.length-1].focus(),!0)},w.isFocusInFirstItem=function(e){return v.length>0&&(e.target||e.srcElement)==v[0]},w.isFocusInLastItem=function(e){return v.length>0&&(e.target||e.srcElement)==v[v.length-1]},w.clearFocusListCache=function(){v=[],0},w.loadFocusElementList=function(e){if((void 0===v||!v.length)&&e){var t=e.value.modalDomEl;t&&t.length&&(v=t[0].querySelectorAll("a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]"))}},w}]).provider("$uibModal",(function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$uibModalStack","$modalSuppressWarning","$log",function(t,n,r,i,o,s,a,u){function l(e){return e.template?r.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function c(e){var n=[];return angular.forEach(e,(function(e){angular.isFunction(e)||angular.isArray(e)?n.push(r.when(t.invoke(e))):angular.isString(e)?n.push(r.when(t.get(e))):n.push(r.when(e))})),n}var h={},p=null;return h.getPromiseChain=function(){return p},h.open=function(t){function i(){return v}var h=r.defer(),d=r.defer(),f=r.defer(),g={result:h.promise,opened:d.promise,rendered:f.promise,close:function(e){return s.close(g,e)},dismiss:function(e){return s.dismiss(g,e)}};if((t=angular.extend({},e.options,t)).resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var m,v=r.all([l(t)].concat(c(t.resolve)));return m=p=r.all([p]).then(i,i).then((function(e){var r=(t.scope||n).$new();r.$close=g.close,r.$dismiss=g.dismiss,r.$on("$destroy",(function(){r.$$uibDestructionScheduled||r.$dismiss("$uibUnscheduledDestruction")}));var i,l={},c=1;t.controller&&(l.$scope=r,l.$uibModalInstance=g,Object.defineProperty(l,"$modalInstance",{get:function(){return a||u.warn("$modalInstance is now deprecated. Use $uibModalInstance instead."),g}}),angular.forEach(t.resolve,(function(t,n){l[n]=e[c++]})),i=o(t.controller,l),t.controllerAs&&(t.bindToController&&angular.extend(i,r),r[t.controllerAs]=i)),s.open(g,{scope:r,deferred:h,renderDeferred:f,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowTopClass:t.windowTopClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size,openedClass:t.openedClass}),d.resolve(!0)}),(function(e){d.reject(e),h.reject(e)})).finally((function(){p===m&&(p=null)})),g},h}]};return e})),angular.module("ui.bootstrap.modal").value("$modalSuppressWarning",!1).directive("modalBackdrop",["$animate","$injector","$modalStack","$log","$modalSuppressWarning",function(e,t,n,r,i){function o(t,o,a){i||r.warn("modal-backdrop is now deprecated. Use uib-modal-backdrop instead."),o.addClass("modal-backdrop"),a.modalInClass&&(s?s(o,{addClass:a.modalInClass}).start():e.addClass(o,a.modalInClass),t.$on(n.NOW_CLOSING_EVENT,(function(t,n){var r=n();s?s(o,{removeClass:a.modalInClass}).start().then(r):e.removeClass(o,a.modalInClass).then(r)})))}var s=null;return t.has("$animateCss")&&(s=t.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),o}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector","$log","$modalSuppressWarning",function(e,t,n,r,i,o){var s=null;return r.has("$animateCss")&&(s=r.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(r,a,u){o||i.warn("modal-window is now deprecated. Use uib-modal-window instead."),a.addClass(u.windowClass||""),a.addClass(u.windowTopClass||""),r.size=u.size,r.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},a.on("click",r.close),r.$isRendered=!0;var l=t.defer();u.$observe("modalRender",(function(e){"true"==e&&l.resolve()})),l.promise.then((function(){var i=null;u.modalInClass&&(i=s?s(a,{addClass:u.modalInClass}).start():n.addClass(a,u.modalInClass),r.$on(e.NOW_CLOSING_EVENT,(function(e,t){var r=t();s?s(a,{removeClass:u.modalInClass}).start().then(r):n.removeClass(a,u.modalInClass).then(r)}))),t.when(i).then((function(){var e=a[0].querySelector("[autofocus]");e?e.focus():a[0].focus()}));var o=e.getTop();o&&e.modalRendered(o.key)}))}}}]).directive("modalAnimationClass",["$log","$modalSuppressWarning",function(e,t){return{compile:function(n,r){t||e.warn("modal-animation-class is now deprecated. Use uib-modal-animation-class instead."),r.modalAnimation&&n.addClass(r.modalAnimationClass)}}}]).directive("modalTransclude",["$log","$modalSuppressWarning",function(e,t){return{link:function(n,r,i,o,s){t||e.warn("modal-transclude is now deprecated. Use uib-modal-transclude instead."),s(n.$parent,(function(e){r.empty(),r.append(e)}))}}}]).service("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap","$uibModalStack","$log","$modalSuppressWarning",function(e,t,n,r,i,o,s,a,u,l,c,h){h||c.warn("$modalStack is now deprecated. Use $uibModalStack instead."),angular.extend(this,l)}]).provider("$modal",["$uibModalProvider",function(e){angular.extend(this,e),this.$get=["$injector","$log","$modalSuppressWarning",function(t,n,r){return r||n.warn("$modal is now deprecated. Use $uibModal instead."),t.invoke(e.$get)}]}]),angular.module("ui.bootstrap.pagination",[]).controller("UibPaginationController",["$scope","$attrs","$parse",function(e,t,n){var r=this,i={$setViewValue:angular.noop},o=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(s,a){i=s,this.config=a,i.$render=function(){r.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),(function(t){r.itemsPerPage=parseInt(t,10),e.totalPages=r.calculateTotalPages()})):this.itemsPerPage=a.itemsPerPage,e.$watch("totalItems",(function(){e.totalPages=r.calculateTotalPages()})),e.$watch("totalPages",(function(t){o(e.$parent,t),e.page>t?e.selectPage(t):i.$render()}))},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault(),(!e.ngDisabled||!n)&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||r.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(n,r,i,o){function s(e,t,n){return{number:e,text:t,active:n}}var a=o[0],u=o[1];if(u){var l=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,c=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,a.init(u,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),(function(e){l=parseInt(e,10),a.render()}));var h=a.render;a.render=function(){h(),n.page>0&&n.page<=n.totalPages&&(n.pages=function(e,t){var n=[],r=1,i=t,o=angular.isDefined(l)&&t>l;o&&(c?(i=(r=Math.max(e-Math.floor(l/2),1))+l-1)>t&&(r=(i=t)-l+1):(r=(Math.ceil(e/l)-1)*l+1,i=Math.min(r+l-1,t)));for(var a=r;i>=a;a++){var u=s(a,a,a===e);n.push(u)}if(o&&!c){if(r>1){var h=s(r-1,"...",!1);n.unshift(h)}if(t>i){var p=s(i+1,"...",!1);n.push(p)}}return n}(n.page,n.totalPages))}}}}}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"Â« Previous",nextText:"Next Â»",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(t,n,r,i){var o=i[0],s=i[1];s&&(t.align=angular.isDefined(r.align)?t.$parent.$eval(r.align):e.align,o.init(s,e))}}}]),angular.module("ui.bootstrap.pagination").value("$paginationSuppressWarning",!1).controller("PaginationController",["$scope","$attrs","$parse","$log","$paginationSuppressWarning",function(e,t,n,r,i){i||r.warn("PaginationController is now deprecated. Use UibPaginationController instead.");var o=this,s={$setViewValue:angular.noop},a=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(r,i){s=r,this.config=i,s.$render=function(){o.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),(function(t){o.itemsPerPage=parseInt(t,10),e.totalPages=o.calculateTotalPages()})):this.itemsPerPage=i.itemsPerPage,e.$watch("totalItems",(function(){e.totalPages=o.calculateTotalPages()})),e.$watch("totalPages",(function(t){a(e.$parent,t),e.page>t?e.selectPage(t):s.$render()}))},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(s.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault(),(!e.ngDisabled||!n)&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),s.$setViewValue(t),s.$render())},e.getText=function(t){return e[t+"Text"]||o.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).directive("pagination",["$parse","uibPaginationConfig","$log","$paginationSuppressWarning",function(e,t,n,r){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(i,o,s,a){function u(e,t,n){return{number:e,text:t,active:n}}r||n.warn("pagination is now deprecated. Use uib-pagination instead.");var l=a[0],c=a[1];if(c){var h=angular.isDefined(s.maxSize)?i.$parent.$eval(s.maxSize):t.maxSize,p=angular.isDefined(s.rotate)?i.$parent.$eval(s.rotate):t.rotate;i.boundaryLinks=angular.isDefined(s.boundaryLinks)?i.$parent.$eval(s.boundaryLinks):t.boundaryLinks,i.directionLinks=angular.isDefined(s.directionLinks)?i.$parent.$eval(s.directionLinks):t.directionLinks,l.init(c,t),s.maxSize&&i.$parent.$watch(e(s.maxSize),(function(e){h=parseInt(e,10),l.render()}));var d=l.render;l.render=function(){d(),i.page>0&&i.page<=i.totalPages&&(i.pages=function(e,t){var n=[],r=1,i=t,o=angular.isDefined(h)&&t>h;o&&(p?(i=(r=Math.max(e-Math.floor(h/2),1))+h-1)>t&&(r=(i=t)-h+1):(r=(Math.ceil(e/h)-1)*h+1,i=Math.min(r+h-1,t)));for(var s=r;i>=s;s++){var a=u(s,s,s===e);n.push(a)}if(o&&!p){if(r>1){var l=u(r-1,"...",!1);n.unshift(l)}if(t>i){var c=u(i+1,"...",!1);n.push(c)}}return n}(i.page,i.totalPages))}}}}}]).directive("pager",["uibPagerConfig","$log","$paginationSuppressWarning",function(e,t,n){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(r,i,o,s){n||t.warn("pager is now deprecated. Use uib-pager instead.");var a=s[0],u=s[1];u&&(r.align=angular.isDefined(o.align)?r.$parent.$eval(o.align):e.align,a.init(u,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",(function(){var e={placement:"top",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},t={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},n={};this.options=function(e){angular.extend(n,e)},this.setTriggers=function(e){angular.extend(t,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(r,i,o,s,a,u,l,c,h){var p=h.createNew();return s.on("keypress",(function(e){if(27===e.which){var t=p.top();t&&(t.value.close(),p.removeTop(),t=null)}})),function(r,l,h,d){function f(e){var n=(e||d.trigger||h).split(" "),r=n.map((function(e){return t[e]||e}));return{show:n,hide:r}}d=angular.extend({},e,n,d);var g=function(e){return e.replace(/[A-Z]/g,(function(e,t){return(t?"-":"")+e.toLowerCase()}))}(r),m=u.startSymbol(),v=u.endSymbol(),y="<div "+g+'-popup title="'+m+"title"+v+'" '+(d.useContentExp?'content-exp="contentExp()" ':'content="'+m+"content"+v+'" ')+'placement="'+m+"placement"+v+'" popup-class="'+m+"popupClass"+v+'" animation="animation" is-open="isOpen"origin-scope="origScope" style="visibility: hidden; display: block; top: -9999px; left: -9999px;"></div>';return{compile:function(e,t){var n=i(y);return function(e,t,i,u){function h(){I.isOpen?m():g()}function g(){(!k||e.$eval(i[l+"Enable"]))&&($(),function(){I.title=i[l+"Title"],I.content=_?_(e):i[r],I.popupClass=i[l+"Class"],I.placement=angular.isDefined(i[l+"Placement"])?i[l+"Placement"]:d.placement;var t=parseInt(i[l+"PopupDelay"],10),n=parseInt(i[l+"PopupCloseDelay"],10);I.popupDelay=isNaN(t)?d.popupDelay:t,I.popupCloseDelay=isNaN(n)?d.popupCloseDelay:n}(),I.popupDelay?C||(C=o(v,I.popupDelay,!1)):v())}function m(){y(),I.popupCloseDelay?F||(F=o(b,I.popupCloseDelay,!1)):b()}function v(){return y(),$(),I.content?(S||(E=I.$new(),S=n(E,(function(e){D?s.find("body").append(e):t.after(e)})),j.length=0,_?(j.push(e.$watch(_,(function(e){I.content=e,!e&&I.isOpen&&b()}))),j.push(E.$watch((function(){P||(P=!0,E.$$postDigest((function(){P=!1,I&&I.isOpen&&L()})))})))):j.push(i.$observe(r,(function(e){I.content=e,!e&&I.isOpen?b():L()}))),j.push(i.$observe(l+"Title",(function(e){I.title=e,I.isOpen&&L()}))),j.push(i.$observe(l+"Placement",(function(e){I.placement=e||d.placement,I.isOpen&&L()})))),void I.$evalAsync((function(){I.isOpen=!0,x(!0),L()}))):angular.noop}function y(){C&&(o.cancel(C),C=null),T&&(o.cancel(T),T=null)}function b(){y(),$(),I&&I.$evalAsync((function(){I.isOpen=!1,x(!1),I.animation?A||(A=o(w,150,!1)):w()}))}function $(){F&&(o.cancel(F),F=null),A&&(o.cancel(A),A=null)}function w(){j.length&&(angular.forEach(j,(function(e){e()})),j.length=0),A=null,S&&(S.remove(),S=null),E&&(E.$destroy(),E=null)}function x(t){O&&angular.isFunction(O.assign)&&O.assign(e,t)}var S,E,A,C,F,T,D=!!angular.isDefined(d.appendToBody)&&d.appendToBody,R=f(void 0),k=angular.isDefined(i[l+"Enable"]),I=e.$new(!0),P=!1,O=!!angular.isDefined(i[l+"IsOpen"])&&c(i[l+"IsOpen"]),_=!!d.useContentExp&&c(i[r]),j=[],L=function(){S&&S.html()&&(T||(T=o((function(){S.css({top:0,left:0});var e=a.positionElements(t,S,I.placement,D);e.top+="px",e.left+="px",e.visibility="visible",S.css(e),T=null}),0,!1)))};I.origScope=e,I.isOpen=!1,p.add(I,{close:b}),I.contentExp=function(){return I.content},i.$observe("disabled",(function(e){e&&y(),e&&I.isOpen&&b()})),O&&e.$watch(O,(function(e){I&&!e===I.isOpen&&h()}));var N=function(){R.show.forEach((function(e){t.unbind(e,g)})),R.hide.forEach((function(e){e.split(" ").forEach((function(e){t[0].removeEventListener(e,m)}))}))};!function(){var e=i[l+"Trigger"];N(),"none"!==(R=f(e)).show&&R.show.forEach((function(e,n){e===R.hide[n]?t[0].addEventListener(e,h):e&&(t[0].addEventListener(e,g),R.hide[n].split(" ").forEach((function(e){t[0].addEventListener(e,m)}))),t.on("keypress",(function(e){27===e.which&&m()}))}))}();var M=e.$eval(i[l+"Animation"]);I.animation=angular.isDefined(M)?!!M:d.animation;var B=e.$eval(i[l+"AppendToBody"]);(D=angular.isDefined(B)?B:D)&&e.$on("$locationChangeSuccess",(function(){I.isOpen&&b()})),e.$on("$destroy",(function(){y(),$(),N(),w(),p.remove(I),I=null}))}}}}}]})).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,r){return{link:function(i,o,s){var a,u,l,c=i.$eval(s.tooltipTemplateTranscludeScope),h=0,p=function(){u&&(u.remove(),u=null),a&&(a.$destroy(),a=null),l&&(e.leave(l).then((function(){u=null})),u=l,l=null)};i.$watch(t.parseAsResourceUrl(s.uibTooltipTemplateTransclude),(function(t){var s=++h;t?(r(t,!0).then((function(r){if(s===h){var i=c.$new(),u=n(r)(i,(function(t){p(),e.enter(t,o)}));l=u,(a=i).$emit("$includeContentLoaded",t)}}),(function(){s===h&&(p(),i.$emit("$includeContentError",t))})),i.$emit("$includeContentRequested",t)):p()})),i.$on("$destroy",p)}}}]).directive("uibTooltipClasses",(function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}})).directive("uibTooltipPopup",(function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(e,t){t.addClass("tooltip")}}})).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",(function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(e,t){t.addClass("tooltip")}}})).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",(function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(e,t){t.addClass("tooltip")}}})).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.tooltip").value("$tooltipSuppressWarning",!1).provider("$tooltip",["$uibTooltipProvider",function(e){angular.extend(this,e),this.$get=["$log","$tooltipSuppressWarning","$injector",function(t,n,r){return n||t.warn("$tooltip is now deprecated. Use $uibTooltip instead."),r.invoke(e.$get)}]}]).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest","$log","$tooltipSuppressWarning",function(e,t,n,r,i,o){return{link:function(s,a,u){o||i.warn("tooltip-template-transclude is now deprecated. Use uib-tooltip-template-transclude instead.");var l,c,h,p=s.$eval(u.tooltipTemplateTranscludeScope),d=0,f=function(){c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),h&&(e.leave(h).then((function(){c=null})),c=h,h=null)};s.$watch(t.parseAsResourceUrl(u.tooltipTemplateTransclude),(function(t){var i=++d;t?(r(t,!0).then((function(r){if(i===d){var o=p.$new(),s=n(r)(o,(function(t){f(),e.enter(t,a)}));h=s,(l=o).$emit("$includeContentLoaded",t)}}),(function(){i===d&&(f(),s.$emit("$includeContentError",t))})),s.$emit("$includeContentRequested",t)):f()})),s.$on("$destroy",f)}}}]).directive("tooltipClasses",["$log","$tooltipSuppressWarning",function(e,t){return{restrict:"A",link:function(n,r,i){t||e.warn("tooltip-classes is now deprecated. Use uib-tooltip-classes instead."),n.placement&&r.addClass(n.placement),n.popupClass&&r.addClass(n.popupClass),n.animation()&&r.addClass(i.tooltipAnimationClass)}}}]).directive("tooltipPopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(n,r){t||e.warn("tooltip-popup is now deprecated. Use uib-tooltip-popup instead."),r.addClass("tooltip")}}}]).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(n,r){t||e.warn("tooltip-template-popup is now deprecated. Use uib-tooltip-template-popup instead."),r.addClass("tooltip")}}}]).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(n,r){t||e.warn("tooltip-html-popup is now deprecated. Use uib-tooltip-html-popup instead."),r.addClass("tooltip")}}}]).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",(function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(e,t){t.addClass("popover")}}})).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",(function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(e,t){t.addClass("popover")}}})).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",(function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(e,t){t.addClass("popover")}}})).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.popover").value("$popoverSuppressWarning",!1).directive("popoverTemplatePopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(n,r){t||e.warn("popover-template-popup is now deprecated. Use uib-popover-template-popup instead."),r.addClass("popover")}}}]).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(n,r){t||e.warn("popover-html-popup is now deprecated. Use uib-popover-html-popup instead."),r.addClass("popover")}}}]).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(n,r){t||e.warn("popover-popup is now deprecated. Use uib-popover-popup instead."),r.addClass("popover")}}}]).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){var r=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n,o){i||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.title=o&&angular.isDefined(o.title)?o.title:"progressbar",t.$watch("value",(function(e){t.recalculatePercentage()})),t.recalculatePercentage=function(){var e=r.bars.reduce((function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent}),0);e>100&&(t.percent-=e-100)},t.$on("$destroy",(function(){n=null,r.removeBar(t)}))},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach((function(e){e.recalculatePercentage()}))},e.$watch("max",(function(t){r.bars.forEach((function(t){t.max=e.max,t.recalculatePercentage()}))}))}]).directive("uibProgress",(function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}})).directive("uibBar",(function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t,n)}}})).directive("uibProgressbar",(function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]),{title:n.title})}}})),angular.module("ui.bootstrap.progressbar").value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","uibProgressConfig","$log","$progressSuppressWarning",function(e,t,n,r,i){i||r.warn("ProgressController is now deprecated. Use UibProgressController instead.");var o=this,s=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n,r){s||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.title=r&&angular.isDefined(r.title)?r.title:"progressbar",t.$watch("value",(function(e){t.recalculatePercentage()})),t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2);var e=o.bars.reduce((function(e,t){return e+t.percent}),0);e>100&&(t.percent-=e-100)},t.$on("$destroy",(function(){n=null,o.removeBar(t)}))},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},e.$watch("max",(function(t){o.bars.forEach((function(t){t.max=e.max,t.recalculatePercentage()}))}))}]).directive("progress",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?",title:"@?"},templateUrl:"template/progressbar/progress.html",link:function(){t||e.warn("progress is now deprecated. Use uib-progress instead.")}}}]).directive("bar",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,r,i,o){t||e.warn("bar is now deprecated. Use uib-bar instead."),o.addBar(n,r)}}}]).directive("progressbar",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(n,r,i,o){t||e.warn("progressbar is now deprecated. Use uib-progressbar instead."),o.addBar(n,angular.element(r.children()[0]),{title:i.title})}}}]),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var r={$setViewValue:angular.noop};this.init=function(i){(r=i).$render=this.render,r.$formatters.push((function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e})),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var s=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(s)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(r.$setViewValue(r.$viewValue===t?0:t),r.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=r.$viewValue}}]).directive("uibRating",(function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}})),angular.module("ui.bootstrap.rating").value("$ratingSuppressWarning",!1).controller("RatingController",["$scope","$attrs","$controller","$log","$ratingSuppressWarning",function(e,t,n,r,i){i||r.warn("RatingController is now deprecated. Use UibRatingController instead."),angular.extend(this,n("UibRatingController",{$scope:e,$attrs:t}))}]).directive("rating",["$log","$ratingSuppressWarning",function(e,t){return{require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(n,r,i,o){t||e.warn("rating is now deprecated. Use uib-rating instead.");var s=o[0],a=o[1];s.init(a)}}}]),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){var t,n=this,r=n.tabs=e.tabs=[];n.select=function(e){angular.forEach(r,(function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect(),e.selectCalled=!1)})),e.active=!0,e.selectCalled||(e.onSelect(),e.selectCalled=!0)},n.addTab=function(e){r.push(e),1===r.length&&!1!==e.active?e.active=!0:e.active?n.select(e):e.active=!1},n.removeTab=function(e){var i=r.indexOf(e);if(e.active&&r.length>1&&!t){var o=i==r.length-1?i-1:i+1;n.select(r[o])}r.splice(i,1)},e.$on("$destroy",(function(){t=!0}))}]).directive("uibTabset",(function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"UibTabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}})).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(t,n,r,i,o){t.$watch("active",(function(e){e&&i.select(t)})),t.disabled=!1,r.disable&&t.$parent.$watch(e(r.disable),(function(e){t.disabled=!!e})),t.select=function(){t.disabled||(t.active=!0)},i.addTab(t),t.$on("$destroy",(function(){i.removeTab(t)})),t.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",(function(){return{restrict:"A",require:["?^uibTab","?^tab"],link:function(e,t){e.$watch("headingElement",(function(e){e&&(t.html(""),t.append(e))}))}}})).directive("uibTabContentTransclude",(function(){return{restrict:"A",require:["?^uibTabset","?^tabset"],link:function(e,t,n){var r=e.$eval(n.uibTabContentTransclude);r.$transcludeFn(r.$parent,(function(e){angular.forEach(e,(function(e){!function(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase()||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase())}(e)?t.append(e):r.headingElement=e}))}))}}})),angular.module("ui.bootstrap.tabs").value("$tabsSuppressWarning",!1).controller("TabsetController",["$scope","$controller","$log","$tabsSuppressWarning",function(e,t,n,r){r||n.warn("TabsetController is now deprecated. Use UibTabsetController instead."),angular.extend(this,t("UibTabsetController",{$scope:e}))}]).directive("tabset",["$log","$tabsSuppressWarning",function(e,t){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(n,r,i){t||e.warn("tabset is now deprecated. Use uib-tabset instead."),n.vertical=!!angular.isDefined(i.vertical)&&n.$parent.$eval(i.vertical),n.justified=!!angular.isDefined(i.justified)&&n.$parent.$eval(i.justified)}}}]).directive("tab",["$parse","$log","$tabsSuppressWarning",function(e,t,n){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(r,i,o,s,a){n||t.warn("tab is now deprecated. Use uib-tab instead."),r.$watch("active",(function(e){e&&s.select(r)})),r.disabled=!1,o.disable&&r.$parent.$watch(e(o.disable),(function(e){r.disabled=!!e})),r.select=function(){r.disabled||(r.active=!0)},s.addTab(r),r.$on("$destroy",(function(){s.removeTab(r)})),r.$transcludeFn=a}}}]).directive("tabHeadingTransclude",["$log","$tabsSuppressWarning",function(e,t){return{restrict:"A",require:"^tab",link:function(n,r){t||e.warn("tab-heading-transclude is now deprecated. Use uib-tab-heading-transclude instead."),n.$watch("headingElement",(function(e){e&&(r.html(""),r.append(e))}))}}}]).directive("tabContentTransclude",["$log","$tabsSuppressWarning",function(e,t){return{restrict:"A",require:"^tabset",link:function(n,r,i){t||e.warn("tab-content-transclude is now deprecated. Use uib-tab-content-transclude instead.");var o=n.$eval(i.tabContentTransclude);o.$transcludeFn(o.$parent,(function(e){angular.forEach(e,(function(e){!function(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase())}(e)?r.append(e):o.headingElement=e}))}))}}}]),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,r,i,o,s){function a(){var t=parseInt(e.hours,10);return(e.showMeridian?t>0&&13>t:t>=0&&24>t)?(e.showMeridian&&(12===t&&(t=0),e.meridian===v[1]&&(t+=12)),t):void 0}function u(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function l(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function c(e){h(),m.$setViewValue(new Date(g)),p(e)}function h(){m.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function p(t){var n=g.getHours(),r=g.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:l(n),"m"!==t&&(e.minutes=l(r)),e.meridian=g.getHours()<12?v[0]:v[1]}function d(e,t){var n=new Date(e.getTime()+6e4*t),r=new Date(e);return r.setHours(n.getHours(),n.getMinutes()),r}function f(e){g=d(g,e),c()}var g=new Date,m={$setViewValue:angular.noop},v=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):s.meridians||o.DATETIME_FORMATS.AMPMS;e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,r){(m=t).$render=this.render,m.$formatters.unshift((function(e){return e?new Date(e):null}));var i=r.eq(0),o=r.eq(1);(angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):s.mousewheel)&&this.setupMousewheelEvents(i,o),(angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):s.arrowkeys)&&this.setupArrowkeyEvents(i,o),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):s.readonlyInput,this.setupInputEvents(i,o)};var y=s.hourStep;n.hourStep&&e.$parent.$watch(r(n.hourStep),(function(e){y=parseInt(e,10)}));var b,$,w=s.minuteStep;n.minuteStep&&e.$parent.$watch(r(n.minuteStep),(function(e){w=parseInt(e,10)})),e.$parent.$watch(r(n.min),(function(e){var t=new Date(e);b=isNaN(t)?void 0:t})),e.$parent.$watch(r(n.max),(function(e){var t=new Date(e);$=isNaN(t)?void 0:t})),e.noIncrementHours=function(){var e=d(g,60*y);return e>$||g>e&&b>e},e.noDecrementHours=function(){var e=d(g,60*-y);return b>e||e>g&&e>$},e.noIncrementMinutes=function(){var e=d(g,w);return e>$||g>e&&b>e},e.noDecrementMinutes=function(){var e=d(g,-w);return b>e||e>g&&e>$},e.noToggleMeridian=function(){return g.getHours()<13?d(g,720)>$:d(g,-720)<b},e.showMeridian=s.showMeridian,n.showMeridian&&e.$parent.$watch(r(n.showMeridian),(function(t){if(e.showMeridian=!!t,m.$error.time){var n=a(),r=u();angular.isDefined(n)&&angular.isDefined(r)&&(g.setHours(n),c())}else p()})),this.setupMousewheelEvents=function(t,n){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",(function(t){e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()})),n.bind("mousewheel wheel",(function(t){e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}))},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",(function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())})),n.bind("keydown",(function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())}))},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var r=function(t,n){m.$setViewValue(null),m.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=a(),t=u();angular.isDefined(e)&&angular.isDefined(t)?(g.setHours(e),b>g||g>$?r(!0):c("h")):r(!0)},t.bind("blur",(function(t){!e.invalidHours&&e.hours<10&&e.$apply((function(){e.hours=l(e.hours)}))})),e.updateMinutes=function(){var e=u(),t=a();angular.isDefined(e)&&angular.isDefined(t)?(g.setMinutes(e),b>g||g>$?r(void 0,!0):c("m")):r(void 0,!0)},n.bind("blur",(function(t){!e.invalidMinutes&&e.minutes<10&&e.$apply((function(){e.minutes=l(e.minutes)}))}))},this.render=function(){var t=m.$viewValue;isNaN(t)?(m.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(g=t),b>g||g>$?(m.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):h(),p())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):s.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*y)},e.decrementHours=function(){e.noDecrementHours()||f(60*-y)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(w)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(-w)},e.toggleMeridian=function(){e.noToggleMeridian()||f(720*(g.getHours()<12?1:-1))}}]).directive("uibTimepicker",(function(){return{restrict:"EA",require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,r){var i=r[0],o=r[1];o&&i.init(o,t.find("input"))}}})),angular.module("ui.bootstrap.timepicker").value("$timepickerSuppressWarning",!1).controller("TimepickerController",["$scope","$element","$attrs","$controller","$log","$timepickerSuppressWarning",function(e,t,n,r,i,o){o||i.warn("TimepickerController is now deprecated. Use UibTimepickerController instead."),angular.extend(this,r("UibTimepickerController",{$scope:e,$element:t,$attrs:n}))}]).directive("timepicker",["$log","$timepickerSuppressWarning",function(e,t){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(n,r,i,o){t||e.warn("timepicker is now deprecated. Use uib-timepicker instead.");var s=o[0],a=o[1];a&&s.init(a,r.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","uibTypeaheadParser",function(e,t,n,r,i,o,s,a,u,l,c,h){function p(){_.moveInProgress||(_.moveInProgress=!0,_.$digest()),H&&s.cancel(H),H=s((function(){_.matches.length&&d(),_.moveInProgress=!1}),v)}function d(){_.position=T?c.offset(t):c.position(t),_.position.top+=t.prop("offsetHeight")}var f,g,m=[9,13,27,38,40],v=200,y=e.$eval(n.typeaheadMinLength);y||0===y||(y=1);var b,$,w=e.$eval(n.typeaheadWaitMs)||0,x=!1!==e.$eval(n.typeaheadEditable),S=i(n.typeaheadLoading).assign||angular.noop,E=i(n.typeaheadOnSelect),A=!!angular.isDefined(n.typeaheadSelectOnBlur)&&e.$eval(n.typeaheadSelectOnBlur),C=i(n.typeaheadNoResults).assign||angular.noop,F=n.typeaheadInputFormatter?i(n.typeaheadInputFormatter):void 0,T=!!n.typeaheadAppendToBody&&e.$eval(n.typeaheadAppendToBody),D=n.typeaheadAppendToElementId||!1,R=!1!==e.$eval(n.typeaheadFocusFirst),k=!!n.typeaheadSelectOnExact&&e.$eval(n.typeaheadSelectOnExact),I=i(n.ngModel),P=i(n.ngModel+"($$$p)"),O=h.parse(n.uibTypeahead),_=e.$new(),j=e.$on("$destroy",(function(){_.$destroy()}));_.$on("$destroy",j);var L="typeahead-"+_.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":L});var N=angular.element("<div uib-typeahead-popup></div>");N.attr({id:L,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(n.typeaheadTemplateUrl)&&N.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&N.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var M=function(){_.matches=[],_.activeIdx=-1,t.attr("aria-expanded",!1)},B=function(e){return L+"-option-"+e};_.$watch("activeIdx",(function(e){0>e?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",B(e))}));var H,U=function(n){var r={$viewValue:n};S(e,!0),C(e,!1),o.when(O.source(e,r)).then((function(i){var o=n===f.$viewValue;if(o&&b)if(i&&i.length>0){_.activeIdx=R?0:-1,C(e,!1),_.matches.length=0;for(var s=0;s<i.length;s++)r[O.itemName]=i[s],_.matches.push({id:B(s),label:O.viewMapper(_,r),model:i[s]});_.query=n,d(),t.attr("aria-expanded",!0),k&&1===_.matches.length&&function(e,t){return!!(_.matches.length>t&&e)&&e.toUpperCase()===_.matches[t].label.toUpperCase()}(n,0)&&_.select(0)}else M(),C(e,!0);o&&S(e,!1)}),(function(){M(),S(e,!1),C(e,!0)}))};T&&(angular.element(u).bind("resize",p),a.find("body").bind("scroll",p)),_.moveInProgress=!1,_.query=void 0;var V,q=function(){V&&s.cancel(V)};M(),_.select=function(r){var i,o,a={};$=!0,a[O.itemName]=o=_.matches[r].model,i=O.modelMapper(e,a),function(t,n){angular.isFunction(I(e))&&g&&g.$options&&g.$options.getterSetter?P(t,{$$$p:n}):I.assign(t,n)}(e,i),f.$setValidity("editable",!0),f.$setValidity("parse",!0),E(e,{$item:o,$model:i,$label:O.viewMapper(e,a)}),M(),!1!==_.$eval(n.typeaheadFocusOnSelect)&&s((function(){t[0].focus()}),0,!1)},t.bind("keydown",(function(e){if(0!==_.matches.length&&-1!==m.indexOf(e.which)){if(-1===_.activeIdx&&(9===e.which||13===e.which))return M(),void _.$digest();e.preventDefault(),40===e.which?(_.activeIdx=(_.activeIdx+1)%_.matches.length,_.$digest()):38===e.which?(_.activeIdx=(_.activeIdx>0?_.activeIdx:_.matches.length)-1,_.$digest()):13===e.which||9===e.which?_.$apply((function(){_.select(_.activeIdx)})):27===e.which&&(e.stopPropagation(),M(),_.$digest())}})),t.bind("blur",(function(){A&&_.matches.length&&-1!==_.activeIdx&&!$&&($=!0,_.$apply((function(){_.select(_.activeIdx)}))),b=!1,$=!1}));var z=function(e){t[0]!==e.target&&3!==e.which&&0!==_.matches.length&&(M(),l.$$phase||_.$digest())};a.bind("click",z),e.$on("$destroy",(function(){a.unbind("click",z),(T||D)&&K.remove(),T&&(angular.element(u).unbind("resize",p),a.find("body").unbind("scroll",p)),N.remove()}));var K=r(N)(_);T?a.find("body").append(K):!1!==D?angular.element(a[0].getElementById(D)).append(K):t.after(K),this.init=function(t,n){g=n,(f=t).$parsers.unshift((function(t){return b=!0,0===y||t&&t.length>=y?w>0?(q(),function(e){V=s((function(){U(e)}),w)}(t)):U(t):(S(e,!1),q(),M()),x?t:t?void f.$setValidity("editable",!1):(f.$setValidity("editable",!0),null)})),f.$formatters.push((function(t){var n,r={};return x||f.$setValidity("editable",!0),F?(r.$model=t,F(e,r)):(r[O.itemName]=t,n=O.viewMapper(e,r),r[O.itemName]=void 0,n!==O.viewMapper(e,r)?n:t)}))}}]).directive("uibTypeahead",(function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,n,r){r[2].init(r[0],r[1])}}})).directive("uibTypeaheadPopup",(function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}})).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(r,i,o){var s=n(o.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";e(s).then((function(e){t(e.trim())(r,(function(e){i.replaceWith(e)}))}))}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){var r;return r=t.has("$sanitize"),function(t,i){return!r&&function(e){return/<.*>/g.test(e)}(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=i?(""+t).replace(new RegExp(function(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}(i),"gi"),"<strong>$&</strong>"):t,r||(t=e.trustAsHtml(t)),t}}]),angular.module("ui.bootstrap.typeahead").value("$typeaheadSuppressWarning",!1).service("typeaheadParser",["$parse","uibTypeaheadParser","$log","$typeaheadSuppressWarning",function(e,t,n,r){return r||n.warn("typeaheadParser is now deprecated. Use uibTypeaheadParser instead."),t}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","typeaheadParser","$log","$typeaheadSuppressWarning",function(e,t,n,r,i,o,s,a,u,l,c){var h=[9,13,27,38,40];return{require:["ngModel","^?ngModelOptions"],link:function(p,d,f,g){function m(){L.moveInProgress||(L.moveInProgress=!0,L.$digest()),V&&r.cancel(V),V=r((function(){L.matches.length&&v(),L.moveInProgress=!1}),200)}function v(){L.position=R?a.offset(d):a.position(d),L.position.top+=d.prop("offsetHeight")}c||l.warn("typeahead is now deprecated. Use uib-typeahead instead.");var y=g[0],b=g[1],$=p.$eval(f.typeaheadMinLength);$||0===$||($=1);var w,x,S=p.$eval(f.typeaheadWaitMs)||0,E=!1!==p.$eval(f.typeaheadEditable),A=t(f.typeaheadLoading).assign||angular.noop,C=t(f.typeaheadOnSelect),F=!!angular.isDefined(f.typeaheadSelectOnBlur)&&p.$eval(f.typeaheadSelectOnBlur),T=t(f.typeaheadNoResults).assign||angular.noop,D=f.typeaheadInputFormatter?t(f.typeaheadInputFormatter):void 0,R=!!f.typeaheadAppendToBody&&p.$eval(f.typeaheadAppendToBody),k=f.typeaheadAppendToElementId||!1,I=!1!==p.$eval(f.typeaheadFocusFirst),P=!!f.typeaheadSelectOnExact&&p.$eval(f.typeaheadSelectOnExact),O=t(f.ngModel),_=t(f.ngModel+"($$$p)"),j=u.parse(f.typeahead),L=p.$new(),N=p.$on("$destroy",(function(){L.$destroy()}));L.$on("$destroy",N);var M="typeahead-"+L.$id+"-"+Math.floor(1e4*Math.random());d.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":M});var B=angular.element("<div typeahead-popup></div>");B.attr({id:M,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(f.typeaheadTemplateUrl)&&B.attr("template-url",f.typeaheadTemplateUrl),angular.isDefined(f.typeaheadPopupTemplateUrl)&&B.attr("popup-template-url",f.typeaheadPopupTemplateUrl);var H=function(){L.matches=[],L.activeIdx=-1,d.attr("aria-expanded",!1)},U=function(e){return M+"-option-"+e};L.$watch("activeIdx",(function(e){0>e?d.removeAttr("aria-activedescendant"):d.attr("aria-activedescendant",U(e))}));var V,q=function(e){var t={$viewValue:e};A(p,!0),T(p,!1),n.when(j.source(p,t)).then((function(n){var r=e===y.$viewValue;if(r&&w)if(n&&n.length>0){L.activeIdx=I?0:-1,T(p,!1),L.matches.length=0;for(var i=0;i<n.length;i++)t[j.itemName]=n[i],L.matches.push({id:U(i),label:j.viewMapper(L,t),model:n[i]});L.query=e,v(),d.attr("aria-expanded",!0),P&&1===L.matches.length&&function(e,t){return!!(L.matches.length>t&&e)&&e.toUpperCase()===L.matches[t].label.toUpperCase()}(e,0)&&L.select(0)}else H(),T(p,!0);r&&A(p,!1)}),(function(){H(),A(p,!1),T(p,!0)}))};R&&(angular.element(o).bind("resize",m),i.find("body").bind("scroll",m)),L.moveInProgress=!1,H(),L.query=void 0;var z,K=function(){z&&r.cancel(z)};y.$parsers.unshift((function(e){return w=!0,0===$||e&&e.length>=$?S>0?(K(),function(e){z=r((function(){q(e)}),S)}(e)):q(e):(A(p,!1),K(),H()),E?e:e?void y.$setValidity("editable",!1):(y.$setValidity("editable",!0),null)})),y.$formatters.push((function(e){var t,n={};return E||y.$setValidity("editable",!0),D?(n.$model=e,D(p,n)):(n[j.itemName]=e,t=j.viewMapper(p,n),n[j.itemName]=void 0,t!==j.viewMapper(p,n)?t:e)})),L.select=function(e){var t,n,i={};x=!0,i[j.itemName]=n=L.matches[e].model,t=j.modelMapper(p,i),function(e,t){angular.isFunction(O(p))&&b&&b.$options&&b.$options.getterSetter?_(e,{$$$p:t}):O.assign(e,t)}(p,t),y.$setValidity("editable",!0),y.$setValidity("parse",!0),C(p,{$item:n,$model:t,$label:j.viewMapper(p,i)}),H(),!1!==L.$eval(f.typeaheadFocusOnSelect)&&r((function(){d[0].focus()}),0,!1)},d.bind("keydown",(function(e){if(0!==L.matches.length&&-1!==h.indexOf(e.which)){if(-1===L.activeIdx&&(9===e.which||13===e.which))return H(),void L.$digest();e.preventDefault(),40===e.which?(L.activeIdx=(L.activeIdx+1)%L.matches.length,L.$digest()):38===e.which?(L.activeIdx=(L.activeIdx>0?L.activeIdx:L.matches.length)-1,L.$digest()):13===e.which||9===e.which?L.$apply((function(){L.select(L.activeIdx)})):27===e.which&&(e.stopPropagation(),H(),L.$digest())}})),d.bind("blur",(function(){F&&L.matches.length&&-1!==L.activeIdx&&!x&&(x=!0,L.$apply((function(){L.select(L.activeIdx)}))),w=!1,x=!1}));var G=function(e){d[0]!==e.target&&3!==e.which&&0!==L.matches.length&&(H(),s.$$phase||L.$digest())};i.bind("click",G),p.$on("$destroy",(function(){i.unbind("click",G),(R||k)&&W.remove(),R&&(angular.element(o).unbind("resize",m),i.find("body").unbind("scroll",m)),B.remove()}));var W=e(B)(L);R?i.find("body").append(W):!1!==k?angular.element(i[0].getElementById(k)).append(W):d.after(W)}}}]).directive("typeaheadPopup",["$typeaheadSuppressWarning","$log",function(e,t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(n,r,i){e||t.warn("typeahead-popup is now deprecated. Use uib-typeahead-popup instead."),n.templateUrl=i.templateUrl,n.isOpen=function(){return n.matches.length>0},n.isActive=function(e){return n.active==e},n.selectActive=function(e){n.active=e},n.selectMatch=function(e){n.select({activeIdx:e})}}}}]).directive("typeaheadMatch",["$templateRequest","$compile","$parse","$typeaheadSuppressWarning","$log",function(e,t,n,r,i){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(o,s,a){r||i.warn("typeahead-match is now deprecated. Use uib-typeahead-match instead.");var u=n(a.templateUrl)(o.$parent)||"template/typeahead/typeahead-match.html";e(u).then((function(e){t(e.trim())(o,(function(e){s.replaceWith(e)}))}))}}}]).filter("typeaheadHighlight",["$sce","$injector","$log","$typeaheadSuppressWarning",function(e,t,n,r){var i;return i=t.has("$sanitize"),function(t,o){return r||n.warn("typeaheadHighlight is now deprecated. Use uibTypeaheadHighlight instead."),!i&&function(e){return/<.*>/g.test(e)}(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=o?(""+t).replace(new RegExp(function(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}(o),"gi"),"<strong>$&</strong>"):t,i||(t=e.trustAsHtml(t)),t}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" uib-collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" dropdown-nested ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-html.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" aria-valuetext="{{r.title}}"></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | uibTypeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>')},364:function(e,t,n){var r,i,o;o=function(){angular.module("jlareau.bowser",[]).factory("bowser",(function(){
/*!
       * Bowser - a browser detector
       * https://github.com/ded/bowser
       * MIT License | (c) Dustin Diaz 2015
       */
var e=!0;function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}var r,i,o,s=n(/(ipod|iphone|ipad)/i).toLowerCase(),a=!/like android/i.test(t)&&/android/i.test(t),u=/nexus\s*[0-6]\s*/i.test(t),l=!u&&/nexus\s*[0-9]+/i.test(t),c=/CrOS/.test(t),h=/silk/i.test(t),p=/sailfish/i.test(t),d=/tizen/i.test(t),f=/(web|hpw)os/i.test(t),g=/windows phone/i.test(t),m=!g&&/windows/i.test(t),v=!s&&!h&&/macintosh/i.test(t),y=!a&&!p&&!d&&!f&&/linux/i.test(t),b=n(/edge\/(\d+(\.\d+)?)/i),$=n(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(t),x=!w&&/[^-]mobi/i.test(t),S=/xbox/i.test(t);/opera|opr|opios/i.test(t)?r={name:"Opera",opera:e,version:$||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(t)?r={name:"Opera Coast",coast:e,version:$||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(t)?r={name:"Yandex Browser",yandexbrowser:e,version:$||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?r={name:"UC Browser",ucbrowser:e,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?r={name:"Maxthon",maxthon:e,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?r={name:"Epiphany",epiphany:e,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?r={name:"Puffin",puffin:e,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?r={name:"Sleipnir",sleipnir:e,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?r={name:"K-Meleon",kMeleon:e,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:g?(r={name:"Windows Phone",windowsphone:e},b?(r.msedge=e,r.version=b):(r.msie=e,r.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?r={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?r={name:"Chrome",chromeos:e,chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(t)?r={name:"Microsoft Edge",msedge:e,version:b}:/vivaldi/i.test(t)?r={name:"Vivaldi",vivaldi:e,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||$}:p?r={name:"Sailfish",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?r={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(r={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(r.firefoxos=e)):h?r={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?r={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?r={name:"SlimerJS",slimer:e,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?r={name:"BlackBerry",blackberry:e,version:$||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:f?(r={name:"WebOS",webos:e,version:$||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(r.touchpad=e)):/bada/i.test(t)?r={name:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:d?r={name:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||$}:/qupzilla/i.test(t)?r={name:"QupZilla",qupzilla:e,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||$}:/chromium/i.test(t)?r={name:"Chromium",chromium:e,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||$}:/chrome|crios|crmo/i.test(t)?r={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:a?r={name:"Android",version:$}:/safari|applewebkit/i.test(t)?(r={name:"Safari",safari:e},$&&(r.version=$)):s?(r={name:"iphone"==s?"iPhone":"ipad"==s?"iPad":"iPod"},$&&(r.version=$)):r=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:n(/googlebot\/(\d+(\.\d+))/i)||$}:{name:n(/^(.*)\/(.*) /),version:(i=/^(.*)\/(.*) /,o=t.match(i),o&&o.length>1&&o[2]||"")},!r.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(r.name=r.name||"Blink",r.blink=e):(r.name=r.name||"Webkit",r.webkit=e),!r.version&&$&&(r.version=$)):!r.opera&&/gecko\//i.test(t)&&(r.name=r.name||"Gecko",r.gecko=e,r.version=r.version||n(/gecko\/(\d+(\.\d+)?)/i)),r.msedge||!a&&!r.silk?s?(r[s]=e,r.ios=e):v?r.mac=e:S?r.xbox=e:m?r.windows=e:y&&(r.linux=e):r.android=e;var E="";r.windowsphone?E=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):s?E=(E=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):a?E=n(/android[ \/-](\d+(\.\d+)*)/i):r.webos?E=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?E=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?E=n(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(E=n(/tizen[\/\s](\d+(\.\d+)*)/i)),E&&(r.osversion=E);var A=E.split(".")[0];return w||l||"ipad"==s||a&&(3==A||A>=4&&!x)||r.silk?r.tablet=e:(x||"iphone"==s||"ipod"==s||a||u||r.blackberry||r.webos||r.bada)&&(r.mobile=e),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1?r.a=e:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6?r.c=e:r.x=e,r}var n=t("undefined"!=typeof navigator?navigator.userAgent:"");return n.test=function(e){for(var t=0;t<e.length;++t){var r=e[t];if("string"==typeof r&&r in n)return!0}return!1},n._detect=t,n}))},e.exports?e.exports=o():void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i)},365:function(e,t){!function(e){var t,n,r,i=e.jQuery||e.angular.element,o=e.document.documentElement,s=i(o);return l("change",u),t=u,n=(e.jQuery||e.angular.element).prototype,r=n.val,n.val=function(e){var n=r.apply(this,arguments);return arguments.length>0&&c(this,(function(n){t(n,e)})),n},i.prototype.checkAndTriggerAutoFillEvent=function(){var e,t;for(e=0;e<this.length;e++)a(t=this[e])||(u(t),h(t))},l("blur",(function(t){e.setTimeout((function(){(function(e){for(;e;){if("FORM"===e.nodeName)return i(e);e=e.parentNode}return i()})(t).find("input").checkAndTriggerAutoFillEvent()}),20)})),void e.document.addEventListener("DOMContentLoaded",(function(){c(document.getElementsByTagName("input"),u),e.setTimeout((function(){s.find("input").checkAndTriggerAutoFillEvent()}),200)}),!1);function a(e){"$$currentValue"in e||(e.$$currentValue=e.getAttribute("value"));var t=e.value,n=e.$$currentValue;return!t&&!n||t===n}function u(e){e.$$currentValue=e.value}function l(e,t){o.addEventListener(e,(function(e){var n=e.target;t(n)}),!0)}function c(e,t){if(e.forEach)return e.forEach(t);var n;for(n=0;n<e.length;n++)t(e[n])}function h(t){var n=e.document.createEvent("HTMLEvents");n.initEvent("change",!0,!0),t.dispatchEvent(n)}}(window)},366:function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=l(e),s=r[0],a=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),c=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[c++]=255&t);1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(c(e,s,s+16383>a?a:s+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},367:function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?i-1:0,p=n?-1:1,d=e[t+h];for(h+=p,o=d&(1<<-c)-1,d>>=-c,c+=a;c>0;o=256*o+e[t+h],h+=p,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+e[t+h],h+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=l}return(d?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,f=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+h>=1?p/u:p*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(t*u-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&a,d+=f,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;e[n+d]=255&s,d+=f,s/=256,l-=8);e[n+d-f]|=128*g}},368:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},369:function(e,t){
/**
 * @license AngularJS v1.8.3
 * (c) 2010-2020 Google LLC. http://angularjs.org
 * License: MIT
 */
!function(e){"use strict";var t={objectMaxDepth:5,urlErrorParamsEnabled:!0};function n(e){if(!M(e))return t;N(e.objectMaxDepth)&&(t.objectMaxDepth=r(e.objectMaxDepth)?e.objectMaxDepth:NaN),N(e.urlErrorParamsEnabled)&&X(e.urlErrorParamsEnabled)&&(t.urlErrorParamsEnabled=e.urlErrorParamsEnabled)}function r(e){return U(e)&&e>0}function i(e,n){n=n||Error;var r="https://errors.angularjs.org/1.8.3/",i=r.replace(".","\\.")+"[\\s\\S]*",o=new RegExp(i,"g");return function(){var i,s,a=arguments[0],u=arguments[1],l="["+(e?e+":":"")+a+"] ",c=he(arguments,2).map((function(e){return Ve(e,t.objectMaxDepth)}));if(l+=u.replace(/\{\d+\}/g,(function(e){var t=+e.slice(1,-1);return t<c.length?c[t].replace(o,""):e})),l+="\n"+r+(e?e+"/":"")+a,t.urlErrorParamsEnabled)for(s=0,i="?";s<c.length;s++,i="&")l+=i+"p"+s+"="+encodeURIComponent(c[s]);return new n(l)}}var o,s,a,u,l=/^\/(.+)\/([a-z]*)$/,c=Object.prototype.hasOwnProperty,h=function(e){return H(e)?e.toLowerCase():e},p=function(e){return H(e)?e.toUpperCase():e},d=[].slice,f=[].splice,g=[].push,m=Object.prototype.toString,v=Object.getPrototypeOf,y=i("ng"),b=e.angular||(e.angular={}),$=0;function w(e){if(null==e||W(e))return!1;if(q(e)||H(e)||s&&e instanceof s)return!0;var t="length"in Object(e)&&e.length;return U(t)&&(t>=0&&t-1 in e||"function"==typeof e.item)}function x(e,t,n){var r,i;if(e)if(K(e))for(r in e)"prototype"!==r&&"length"!==r&&"name"!==r&&e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else if(q(e)||w(e)){var o="object"!=typeof e;for(r=0,i=e.length;r<i;r++)(o||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==x)e.forEach(t,n,e);else if(B(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)c.call(e,r)&&t.call(n,e[r],r,e);return e}function S(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function E(e){return function(t,n){e(n,t)}}function A(){return++$}function C(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function F(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var s=t[i];if(M(s)||K(s))for(var a=Object.keys(s),u=0,l=a.length;u<l;u++){var c=a[u],h=s[c];n&&M(h)?V(h)?e[c]=new Date(h.valueOf()):G(h)?e[c]=new RegExp(h):h.nodeName?e[c]=h.cloneNode(!0):te(h)?e[c]=h.clone():"__proto__"!==c&&(M(e[c])||(e[c]=q(h)?[]:{}),F(e[c],[h],!0)):e[c]=h}}return C(e,r),e}function T(e){return F(e,d.call(arguments,1),!1)}function D(e){return F(e,d.call(arguments,1),!0)}function R(e){return parseInt(e,10)}o=e.document.documentMode;var k=Number.isNaN||function(e){return e!=e};function I(e,t){return T(Object.create(e),t)}function P(){}function O(e){return e}function _(e){return function(){return e}}function j(e){return K(e.toString)&&e.toString!==m}function L(e){return void 0===e}function N(e){return void 0!==e}function M(e){return null!==e&&"object"==typeof e}function B(e){return null!==e&&"object"==typeof e&&!v(e)}function H(e){return"string"==typeof e}function U(e){return"number"==typeof e}function V(e){return"[object Date]"===m.call(e)}function q(e){return Array.isArray(e)||e instanceof Array}function z(e){switch(m.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function K(e){return"function"==typeof e}function G(e){return"[object RegExp]"===m.call(e)}function W(e){return e&&e.window===e}function Y(e){return e&&e.$evalAsync&&e.$watch}function X(e){return"boolean"==typeof e}function J(e){return e&&K(e.then)}P.$inject=[],O.$inject=[];var Q=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var Z=function(e){return H(e)?e.trim():e},ee=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function te(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function ne(e){return h(e.nodeName||e[0]&&e[0].nodeName)}function re(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function ie(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function oe(e,t,n){var i,o,s=[],a=[];if(n=r(n)?n:NaN,t){if((o=t)&&U(o.length)&&Q.test(m.call(o))||(i=t,"[object ArrayBuffer]"===m.call(i)))throw y("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw y("cpi","Can't copy! Source and destination are identical.");return q(t)?t.length=0:x(t,(function(e,n){"$$hashKey"!==n&&delete t[n]})),s.push(e),a.push(t),u(e,t,n)}return l(e,n);function u(e,t,n){if(--n<0)return"...";var r,i=t.$$hashKey;if(q(e))for(var o=0,s=e.length;o<s;o++)t.push(l(e[o],n));else if(B(e))for(r in e)t[r]=l(e[r],n);else if(e&&"function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&(t[r]=l(e[r],n));else for(r in e)c.call(e,r)&&(t[r]=l(e[r],n));return C(t,i),t}function l(e,t){if(!M(e))return e;var n=s.indexOf(e);if(-1!==n)return a[n];if(W(e)||Y(e))throw y("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,i=function(e){switch(m.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(l(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(K(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===i&&(i=q(e)?[]:Object.create(v(e)),r=!0),s.push(e),a.push(i),r?u(e,i,t):i}}function se(e,t){return e===t||e!=e&&t!=t}function ae(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,r,i,o=typeof e;if(o===typeof t&&"object"===o){if(!q(e)){if(V(e))return!!V(t)&&se(e.getTime(),t.getTime());if(G(e))return!!G(t)&&e.toString()===t.toString();if(Y(e)||Y(t)||W(e)||W(t)||q(t)||V(t)||G(t))return!1;for(r in i=Me(),e)if("$"!==r.charAt(0)&&!K(e[r])){if(!ae(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&N(t[r])&&!K(t[r]))return!1;return!0}if(!q(t))return!1;if((n=e.length)===t.length){for(r=0;r<n;r++)if(!ae(e[r],t[r]))return!1;return!0}}return!1}var ue=function(){if(!N(ue.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");ue.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else ue.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return ue.rules},le=function(){if(N(le.name_))return le.name_;var t,n,r,i,o=Ae.length;for(n=0;n<o;++n)if(r=Ae[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return le.name_=i};function ce(e,t,n){return e.concat(d.call(t,n))}function he(e,t){return d.call(e,t||0)}function pe(e,t){var n=arguments.length>2?he(arguments,2):[];return!K(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,ce(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function de(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:W(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":Y(n)&&(r="$SCOPE"),r}function fe(e,t){if(!L(e))return U(t)||(t=t?2:null),JSON.stringify(e,de,t)}function ge(e){return H(e)?JSON.parse(e):e}var me=/:/g;function ve(e,t){e=e.replace(me,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return k(n)?t:n}function ye(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function be(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return ye(e,n*(ve(t,r)-r))}function $e(e){e=s(e).clone().empty();var t=s("<div></div>").append(e).html();try{return e[0].nodeType===He?h(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,(function(e,t){return"<"+h(t)}))}catch(e){return h(t)}}function we(e){try{return decodeURIComponent(e)}catch(e){}}function xe(e){var t={};return x((e||"").split("&"),(function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),-1!==(n=e.indexOf("="))&&(r=e.substring(0,n),i=e.substring(n+1)),N(r=we(r))&&(i=!N(i)||we(i),c.call(t,r)?q(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))})),t}function Se(e){return Ee(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Ee(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var Ae=["ng-","data-ng-","ng:","x-ng-"];var Ce=function(t){var n=t.currentScript;if(!n)return!0;if(!(n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement))return!1;var r=n.attributes;return[r.getNamedItem("src"),r.getNamedItem("href"),r.getNamedItem("xlink:href")].every((function(e){if(!e)return!0;if(!e.value)return!1;var n=t.createElement("a");if(n.href=e.value,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}))}(e.document);function Fe(t,n){var r,i,o={};if(x(Ae,(function(e){var n=e+"app";!r&&t.hasAttribute&&t.hasAttribute(n)&&(r=t,i=t.getAttribute(n))})),x(Ae,(function(e){var n,o=e+"app";!r&&(n=t.querySelector("["+o.replace(":","\\:")+"]"))&&(r=n,i=n.getAttribute(o))})),r){if(!Ce)return void e.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");o.strictDi=null!==function(e,t){var n,r,i=Ae.length;for(r=0;r<i;++r)if(n=Ae[r]+t,H(n=e.getAttribute(n)))return n;return null}(r,"strict-di"),n(r,i?[i]:[],o)}}function Te(t,n,r){M(r)||(r={});r=T({strictDi:!1},r);var i=function(){if((t=s(t)).injector()){var i=t[0]===e.document?"document":$e(t);throw y("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}(n=n||[]).unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=Jt(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply((function(){t.data("$injector",r),n(t)(e)}))}]),o},o=/^NG_ENABLE_DEBUG_INFO!/,a=/^NG_DEFER_BOOTSTRAP!/;if(e&&o.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(o,"")),e&&!a.test(e.name))return i();e.name=e.name.replace(a,""),b.resumeBootstrap=function(e){return x(e,(function(e){n.push(e)})),i()},K(b.resumeDeferredBootstrap)&&b.resumeDeferredBootstrap()}function De(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function Re(e){var t=b.element(e).injector();if(!t)throw y("test","no injector found for element argument to getTestability");return t.get("$$testability")}var ke=/[A-Z]/g;function Ie(e,t){return t=t||"_",e.replace(ke,(function(e,n){return(n?t:"")+e.toLowerCase()}))}var Pe=!1;function Oe(){pt.legacyXHTMLReplacement=!0}function _e(e,t,n){if(!e)throw y("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function je(e,t,n){return n&&q(e)&&(e=e[e.length-1]),_e(K(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function Le(e,t){if("hasOwnProperty"===e)throw y("badname","hasOwnProperty is not a valid {0} name",t)}function Ne(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=s(d.call(e,0,i))),t.push(n));return t||e}function Me(){return Object.create(null)}function Be(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!j(e)||q(e)||V(e)?fe(e):e.toString()}return e}var He=3;function Ue(e,t){if(q(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(M(e))for(var i in t=t||{},e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i]);return t||e}function Ve(e,t){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):L(e)?"undefined":"string"!=typeof e?function(e,t){var n=[];return r(t)&&(e=b.copy(e,null,t)),JSON.stringify(e,(function(e,t){if(M(t=de(e,t))){if(n.indexOf(t)>=0)return"...";n.push(t)}return t}))}(e,t):e}var qe={full:"1.8.3",major:1,minor:8,dot:3,codeName:"ultimate-farewell"};pt.expando="ng339";var ze=pt.cache={},Ke=1;pt._data=function(e){return this.cache[e[this.expando]]||{}};var Ge=/-([a-z])/g,We=/^-ms-/,Ye={mouseleave:"mouseout",mouseenter:"mouseover"},Xe=i("jqLite");function Je(e,t){return t.toUpperCase()}function Qe(e){return e.replace(Ge,Je)}var Ze=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,et=/<|&#?\w+;/,tt=/<([\w:-]+)/,nt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,rt={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};rt.tbody=rt.tfoot=rt.colgroup=rt.caption=rt.thead,rt.th=rt.td;var it={option:[1,'<select multiple="multiple">',"</select>"],_default:[0,"",""]};for(var ot in rt){var st=rt[ot],at=st.slice().reverse();it[ot]=[at.length,"<"+at.join("><")+">","</"+st.join("></")+">"]}function ut(e){return!et.test(e)}function lt(e){var t=e.nodeType;return 1===t||!t||9===t}function ct(t,n){var r,i,s,a,u,l=n.createDocumentFragment(),c=[];if(ut(t))c.push(n.createTextNode(t));else{if(r=l.appendChild(n.createElement("div")),i=(tt.exec(t)||["",""])[1].toLowerCase(),a=pt.legacyXHTMLReplacement?t.replace(nt,"<$1></$2>"):t,o<10)for(s=it[i]||it._default,r.innerHTML=s[1]+a+s[2],u=s[0];u--;)r=r.firstChild;else{for(u=(s=rt[i]||[]).length;--u>-1;)r.appendChild(e.document.createElement(s[u])),r=r.firstChild;r.innerHTML=a}c=ce(c,r.childNodes),(r=l.firstChild).textContent=""}return l.textContent="",l.innerHTML="",x(c,(function(e){l.appendChild(e)})),l}it.optgroup=it.option;var ht=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function pt(t){if(t instanceof pt)return t;var n,r,i,o;if(H(t)&&(t=Z(t),n=!0),!(this instanceof pt)){if(n&&"<"!==t.charAt(0))throw Xe("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new pt(t)}n?Et(this,(r=t,i=i||e.document,(o=Ze.exec(r))?[i.createElement(o[1])]:(o=ct(r,i))?o.childNodes:[])):K(t)?Dt(t):Et(this,t)}function dt(e){return e.cloneNode(!0)}function ft(e,t){!t&&lt(e)&&s.cleanData([e]),e.querySelectorAll&&s.cleanData(e.querySelectorAll("*"))}function gt(e){var t;for(t in e)return!1;return!0}function mt(e){var t=e.ng339,n=t&&ze[t],r=n&&n.events,i=n&&n.data;i&&!gt(i)||r&&!gt(r)||(delete ze[t],e.ng339=void 0)}function vt(e,t,n,r){if(N(r))throw Xe("offargs","jqLite#off() does not support the `selector` argument");var i=bt(e),o=i&&i.events,s=i&&i.handle;if(s){if(t){var a=function(t){var r=o[t];N(n)&&ie(r||[],n),N(n)&&r&&r.length>0||(e.removeEventListener(t,s),delete o[t])};x(t.split(" "),(function(e){a(e),Ye[e]&&a(Ye[e])}))}else for(t in o)"$destroy"!==t&&e.removeEventListener(t,s),delete o[t];mt(e)}}function yt(e,t){var n=e.ng339,r=n&&ze[n];r&&(t?delete r.data[t]:r.data={},mt(e))}function bt(e,t){var n=e.ng339,r=n&&ze[n];return t&&!r&&(e.ng339=n=++Ke,r=ze[n]={events:{},data:{},handle:void 0}),r}function $t(e,t,n){if(lt(e)){var r,i=N(n),o=!i&&t&&!M(t),s=!t,a=bt(e,!o),u=a&&a.data;if(i)u[Qe(t)]=n;else{if(s)return u;if(o)return u&&u[Qe(t)];for(r in t)u[Qe(r)]=t[r]}}}function wt(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function xt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;x(t.split(" "),(function(e){e=Z(e),r=r.replace(" "+e+" "," ")})),r!==n&&e.setAttribute("class",Z(r))}}function St(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;x(t.split(" "),(function(e){e=Z(e),-1===r.indexOf(" "+e+" ")&&(r+=e+" ")})),r!==n&&e.setAttribute("class",Z(r))}}function Et(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function At(e,t){return Ct(e,"$"+(t||"ngController")+"Controller")}function Ct(e,t,n){9===e.nodeType&&(e=e.documentElement);for(var r=q(t)?t:[t];e;){for(var i=0,o=r.length;i<o;i++)if(N(n=s.data(e,r[i])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function Ft(e){for(ft(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Tt(e,t){t||ft(e);var n=e.parentNode;n&&n.removeChild(e)}function Dt(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}var Rt=pt.prototype={ready:Dt,toString:function(){var e=[];return x(this,(function(t){e.push(""+t)})),"["+e.join(", ")+"]"},eq:function(e){return s(e>=0?this[e]:this[this.length+e])},length:0,push:g,sort:[].sort,splice:[].splice},kt={};x("multiple,selected,checked,disabled,readOnly,required,open".split(","),(function(e){kt[h(e)]=e}));var It={};x("input,select,option,textarea,button,form,details".split(","),(function(e){It[e]=!0}));var Pt={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function Ot(e,t){var n=kt[t.toLowerCase()];return n&&It[ne(e)]&&n}function _t(e,t,n){n.call(e,t)}function jt(e,t,n){var r=t.relatedTarget;r&&(r===e||ht.call(e,r))||n.call(e,t)}function Lt(){this.$get=function(){return T(pt,{hasClass:function(e,t){return e.attr&&(e=e[0]),wt(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),St(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),xt(e,t)}})}}function Nt(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"===r||"object"===r&&null!==e?e.$$hashKey=r+":"+(t||A)():r+":"+e}x({data:$t,removeData:yt,hasData:function(e){for(var t in ze[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)yt(e[t]),vt(e[t])}},(function(e,t){pt[t]=e})),x({data:$t,inheritedData:Ct,scope:function(e){return s.data(e,"$scope")||Ct(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return s.data(e,"$isolateScope")||s.data(e,"$isolateScopeNoTemplate")},controller:At,injector:function(e){return Ct(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:wt,css:function(e,t,n){if(t=function(e){return Qe(e.replace(We,"ms-"))}(t),!N(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var r,i=e.nodeType;if(i!==He&&2!==i&&8!==i&&e.getAttribute){var o=h(t),s=kt[o];if(!N(n))return r=e.getAttribute(t),s&&null!==r&&(r=o),null===r?void 0:r;null===n||!1===n&&s?e.removeAttribute(t):e.setAttribute(t,s?o:n)}},prop:function(e,t,n){if(!N(n))return e[t];e[t]=n},text:function(){return e.$dv="",e;function e(e,t){if(L(t)){var n=e.nodeType;return 1===n||n===He?e.textContent:""}e.textContent=t}}(),val:function(e,t){if(L(t)){if(e.multiple&&"select"===ne(e)){var n=[];return x(e.options,(function(e){e.selected&&n.push(e.value||e.text)})),n}return e.value}e.value=t},html:function(e,t){if(L(t))return e.innerHTML;ft(e,!0),e.innerHTML=t},empty:Ft},(function(e,t){pt.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==Ft&&L(2===e.length&&e!==wt&&e!==At?t:n)){if(M(t)){for(r=0;r<o;r++)if(e===$t)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var s=e.$dv,a=L(s)?Math.min(o,1):o,u=0;u<a;u++){var l=e(this[u],t,n);s=s?s+l:l}return s}for(r=0;r<o;r++)e(this[r],t,n);return this}})),x({removeData:yt,on:function(e,t,n,r){if(N(r))throw Xe("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(lt(e)){var i=bt(e,!0),o=i.events,s=i.handle;s||(s=i.handle=function(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(L(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var a=i.specialHandlerWrapper||_t;o>1&&(i=Ue(i));for(var u=0;u<o;u++)n.isImmediatePropagationStopped()||a(e,n,i[u])}};return n.elem=e,n}(e,o));for(var a=t.indexOf(" ")>=0?t.split(" "):[t],u=a.length,l=function(t,r,i){var a=o[t];a||((a=o[t]=[]).specialHandlerWrapper=r,"$destroy"===t||i||e.addEventListener(t,s)),a.push(n)};u--;)t=a[u],Ye[t]?(l(Ye[t],jt),l(t,void 0,!0)):l(t)}},off:vt,one:function(e,t,n){(e=s(e)).on(t,(function r(){e.off(t,n),e.off(t,r)})),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;ft(e),x(new pt(t),(function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t}))},children:function(e){var t=[];return x(e.childNodes,(function(e){1===e.nodeType&&t.push(e)})),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n)for(var r=0,i=(t=new pt(t)).length;r<i;r++){var o=t[r];e.appendChild(o)}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;x(new pt(t),(function(t){e.insertBefore(t,n)}))}},wrap:function(e,t){var n,r,i;n=e,r=s(t).eq(0).clone()[0],(i=n.parentNode)&&i.replaceChild(r,n),r.appendChild(n)},remove:Tt,detach:function(e){Tt(e,!0)},after:function(e,t){var n=e,r=e.parentNode;if(r)for(var i=0,o=(t=new pt(t)).length;i<o;i++){var s=t[i];r.insertBefore(s,n.nextSibling),n=s}},addClass:St,removeClass:xt,toggleClass:function(e,t,n){t&&x(t.split(" "),(function(t){var r=n;L(r)&&(r=!wt(e,t)),(r?St:xt)(e,t)}))},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:dt,triggerHandler:function(e,t,n){var r,i,o,s=t.type||t,a=bt(e),u=a&&a.events,l=u&&u[s];l&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:P,type:s,target:e},t.type&&(r=T(r,t)),i=Ue(l),o=n?[r].concat(n):[r],x(i,(function(t){r.isImmediatePropagationStopped()||t.apply(e,o)})))}},(function(e,t){pt.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;o<a;o++)L(i)?N(i=e(this[o],t,n,r))&&(i=s(i)):Et(i,e(this[o],t,n,r));return N(i)?i:this}})),pt.prototype.bind=pt.prototype.on,pt.prototype.unbind=pt.prototype.off;var Mt=Object.create(null);function Bt(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}Bt.prototype={_idx:function(e){return e!==this._lastKey&&(this._lastKey=e,this._lastIndex=this._keys.indexOf(e)),this._lastIndex},_transformKey:function(e){return k(e)?Mt:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(-1!==t)return this._values[t]},has:function(e){return e=this._transformKey(e),-1!==this._idx(e)},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);var t=this._idx(e);return-1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Ht=Bt,Ut=[function(){this.$get=[function(){return Ht}]}],Vt=/^([^(]+?)=>/,qt=/^[^(]*\(\s*([^)]*)\)/m,zt=/,/,Kt=/^\s*(_?)(\S+?)\1\s*$/,Gt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Wt=i("$injector");function Yt(e){return Function.prototype.toString.call(e)}function Xt(e){var t=Yt(e).replace(Gt,"");return t.match(Vt)||t.match(qt)}function Jt(e,t){t=!0===t;var n={},r=[],i=new Ht,s={$provide:{provider:d(f),factory:d(m),service:d((function(e,t){return m(e,["$injector",function(e){return e.instantiate(t)}])})),value:d((function(e,t){return m(e,_(t),!1)})),constant:d((function(e,t){Le(e,"constant"),s[e]=t,l[e]=t})),decorator:function(e,t){var n=a.get(e+"Provider"),r=n.$get;n.$get=function(){var e=h.invoke(r,n);return h.invoke(t,null,{$delegate:e})}}}},a=s.$injector=y(s,(function(e,t){throw b.isString(t)&&r.push(t),Wt("unpr","Unknown provider: {0}",r.join(" <- "))})),l={},c=y(l,(function(e,t){var n=a.get(e+"Provider",t);return h.invoke(n.$get,n,void 0,e)})),h=c;s.$injectorProvider={$get:_(c)},h.modules=a.modules=Me();var p=v(e);return(h=c.get("$injector")).strictDi=t,x(p,(function(e){e&&h.invoke(e)})),h.loadNewModules=function(e){x(v(e),(function(e){e&&h.invoke(e)}))},h;function d(e){return function(t,n){if(!M(t))return e(t,n);x(t,E(e))}}function f(e,t){if(Le(e,"service"),(K(t)||q(t))&&(t=a.instantiate(t)),!t.$get)throw Wt("pget","Provider '{0}' must define $get factory method.",e);return s[e+"Provider"]=t}function g(e,t){return function(){var n=h.invoke(t,this);if(L(n))throw Wt("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function m(e,t,n){return f(e,{$get:!1!==n?g(e,t):t})}function v(e){_e(L(e)||q(e),"modulesToLoad","not an array");var t,n=[];return x(e,(function(e){if(!i.get(e)){i.set(e,!0);try{H(e)?(t=u(e),h.modules[e]=t,n=n.concat(v(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):K(e)||q(e)?n.push(a.invoke(e)):je(e,"module")}catch(t){throw q(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),Wt("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}function r(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=a.get(r[0]);i[r[1]].apply(i,r[2])}}})),n}function y(e,i){function a(t,o){if(e.hasOwnProperty(t)){if(e[t]===n)throw Wt("cdep","Circular dependency found: {0}",t+" <- "+r.join(" <- "));return e[t]}try{return r.unshift(t),e[t]=n,e[t]=i(t,o),e[t]}catch(r){throw e[t]===n&&delete e[t],r}finally{r.shift()}}function u(e,n,r){for(var i=[],o=Jt.$$annotate(e,t,r),s=0,u=o.length;s<u;s++){var l=o[s];if("string"!=typeof l)throw Wt("itkn","Incorrect injection token! Expected service name as string, got {0}",l);i.push(n&&n.hasOwnProperty(l)?n[l]:a(l,r))}return i}return{invoke:function(e,t,n,r){"string"==typeof n&&(r=n,n=null);var i=u(e,n,r);return q(e)&&(e=e[e.length-1]),function(e){if(o||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return X(t)||(t=e.$$ngIsClass=/^class\b/.test(Yt(e))),t}(e)?(i.unshift(null),new(Function.prototype.bind.apply(e,i))):e.apply(t,i)},instantiate:function(e,t,n){var r=q(e)?e[e.length-1]:e,i=u(e,t,n);return i.unshift(null),new(Function.prototype.bind.apply(r,i))},get:a,annotate:Jt.$$annotate,has:function(t){return s.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}}function Qt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(n,r,i){var o=n.document;function a(e){if(e){e.scrollIntoView();var t=function(){var e=u.yOffset;if(K(e))e=e();else if(te(e)){var t=e[0];e="fixed"!==n.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom}else U(e)||(e=0);return e}();if(t){var r=e.getBoundingClientRect().top;n.scrollBy(0,r-t)}}else n.scrollTo(0,0)}function u(e){var t;(e=H(e)?e:U(e)?e.toString():r.hash())?(t=o.getElementById(e))||(t=function(e){var t=null;return Array.prototype.some.call(e,(function(e){if("a"===ne(e))return t=e,!0})),t}(o.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}return t&&i.$watch((function(){return r.hash()}),(function(t,n){var r,o;t===n&&""===t||(r=function(){i.$evalAsync(u)},"complete"===(o=o||e).document.readyState?o.setTimeout(r):s(o).on("load",r))})),u}]}Jt.$$annotate=function(e,t,n){var r,i;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw H(n)&&n||(n=e.name||function(e){var t=Xt(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(e)),Wt("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);x(Xt(e)[1].split(zt),(function(e){e.replace(Kt,(function(e,t,n){r.push(n)}))}))}e.$inject=r}}else q(e)?(je(e[i=e.length-1],"fn"),r=e.slice(0,i)):je(e,"fn",!0);return r};var Zt=i("$animate");function en(e,t){return e||t?e?t?(q(e)&&(e=e.join(" ")),q(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function tn(e){return M(e)?e:{}}var nn=function(){this.$get=P},rn=function(){var e=new Ht,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){return{enabled:P,on:P,off:P,pin:P,push:function(s,a,u,l){l&&l(),(u=u||{}).from&&s.css(u.from),u.to&&s.css(u.to),(u.addClass||u.removeClass)&&function(n,s,a){var u=e.get(n)||{},l=i(u,s,!0),c=i(u,a,!1);(l||c)&&(e.set(n,u),t.push(n),1===t.length&&r.$$postDigest(o))}(s,u.addClass,u.removeClass);var c=new n;return c.complete(),c}};function i(e,t,n){var r=!1;return t&&x(t=H(t)?t.split(" "):q(t)?t:[],(function(t){t&&(r=!0,e[t]=n)})),r}function o(){x(t,(function(t){var n=e.get(t);if(n){var r=function(e){H(e)&&(e=e.split(" "));var t=Me();return x(e,(function(e){e.length&&(t[e]=!0)})),t}(t.attr("class")),i="",o="";x(n,(function(e,t){e!==!!r[t]&&(e?i+=(i.length?" ":"")+t:o+=(o.length?" ":"")+t)})),x(t,(function(e){i&&St(e,i),o&&xt(e,o)})),e.delete(t)}})),t.length=0}}]},on=["$provide",function(e){var t=this,n=null,r=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Zt("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.customFilter=function(e){return 1===arguments.length&&(r=K(e)?e:null),r},this.classNameFilter=function(e){if(1===arguments.length&&(n=e instanceof RegExp?e:null)){var t=new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]");if(t.test(n.toString()))throw n=null,Zt("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate")}return n},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(1===n.nodeType)return n}}(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.cancel&&e.cancel()},enter:function(n,r,i,o){return r=r&&s(r),i=i&&s(i),t(n,r=r||i.parent(),i),e.push(n,"enter",tn(o))},move:function(n,r,i,o){return r=r&&s(r),i=i&&s(i),t(n,r=r||i.parent(),i),e.push(n,"move",tn(o))},leave:function(t,n){return e.push(t,"leave",tn(n),(function(){t.remove()}))},addClass:function(t,n,r){return(r=tn(r)).addClass=en(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return(r=tn(r)).removeClass=en(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return(i=tn(i)).addClass=en(i.addClass,n),i.removeClass=en(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return(o=tn(o)).from=o.from?T(o.from,n):n,o.to=o.to?T(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=en(o.tempClasses,i),e.push(t,"animate",o)}}}]}],sn=function(){this.$get=["$$rAF",function(e){var t=[];function n(n){t.push(n),t.length>1||e((function(){for(var e=0;e<t.length;e++)t[e]();t=[]}))}return function(){var e=!1;return n((function(){e=!0})),function(t){e?t():n(t)}}}]},an=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,r,i){function o(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){r()?function(e){i(e,0,!1)}(e):t(e)},this._state=0}return o.chain=function(e,t){var n=0;!function r(){if(n===e.length)return void t(!0);e[n]((function(e){!1!==e?(n++,r()):t(!1)}))}()},o.all=function(e,t){var n=0,r=!0;function i(i){r=r&&i,++n===e.length&&t(r)}x(e,(function(e){e.done(i)}))},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:P,getPromise:function(){if(!this.promise){var t=this;this.promise=e((function(e,n){t.done((function(t){!1===t?n():e()}))}))}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick((function(){t._resolve(e)})))},_resolve:function(e){2!==this._state&&(x(this._doneCallbacks,(function(t){t(e)})),this._doneCallbacks.length=0,this._state=2)}},o}]},un=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){var i=r||{};i.$$prepared||(i=oe(i)),i.cleanupStyles&&(i.from=i.to=null),i.from&&(t.css(i.from),i.from=null);var o,s=new n;return{start:a,end:a};function a(){return e((function(){!function(){i.addClass&&(t.addClass(i.addClass),i.addClass=null);i.removeClass&&(t.removeClass(i.removeClass),i.removeClass=null);i.to&&(t.css(i.to),i.to=null)}(),o||s.complete(),o=!0})),s}}}]};function ln(e,t,n,r,i){var o=this,a=e.location,u=e.history,l=e.setTimeout,c=e.clearTimeout,h={},p=i(n);o.isMock=!1,o.$$completeOutstandingRequest=p.completeTask,o.$$incOutstandingRequestCount=p.incTaskCount,o.notifyWhenNoOutstandingRequests=p.notifyWhenNoPendingTasks;var d,f,g=a.href,m=t.find("base"),v=null,y=r.history?function(){try{return u.state}catch(e){}}:P;E(),o.url=function(t,n,i){if(L(i)&&(i=null),a!==e.location&&(a=e.location),u!==e.history&&(u=e.history),t){var s=f===i;if(t=ui(t).href,g===t&&(!r.history||s))return o;var l=g&&ar(g)===ar(t);return g=t,f=i,!r.history||l&&s?(l||(v=t),n?a.replace(t):l?a.hash=function(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}(t):a.href=t,a.href!==t&&(v=t)):(u[n?"replaceState":"pushState"](i,"",t),E()),v&&(v=t),o}return function(e){return e.replace(/#$/,"")}(v||a.href)},o.state=function(){return d};var b=[],$=!1;function w(){v=null,A()}var S=null;function E(){ae(d=L(d=y())?null:d,S)&&(d=S),S=d,f=d}function A(){var e=f;E(),g===o.url()&&e===d||(g=o.url(),f=d,x(b,(function(e){e(o.url(),d)})))}o.onUrlChange=function(t){return $||(r.history&&s(e).on("popstate",w),s(e).on("hashchange",w),$=!0),b.push(t),t},o.$$applicationDestroyed=function(){s(e).off("hashchange popstate",w)},o.$$checkUrlChange=A,o.baseHref=function(){var e=m.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},o.defer=function(e,t,n){var r;return t=t||0,n=n||p.DEFAULT_TASK_TYPE,p.incTaskCount(n),r=l((function(){delete h[r],p.completeTask(e,n)}),t),h[r]=n,r},o.defer.cancel=function(e){if(h.hasOwnProperty(e)){var t=h[e];return delete h[e],c(e),p.completeTask(P,t),!0}return!1}}function cn(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(e,t,n,r,i){return new ln(e,r,t,n,i)}]}function hn(){this.$get=function(){var e={};function t(t,n){if(t in e)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var r=0,o=T({},n,{id:t}),s=Me(),a=n&&n.capacity||Number.MAX_VALUE,u=Me(),l=null,c=null;return e[t]={put:function(e,t){if(!L(t)){if(a<Number.MAX_VALUE)h(u[e]||(u[e]={key:e}));return e in s||r++,s[e]=t,r>a&&this.remove(c.key),t}},get:function(e){if(a<Number.MAX_VALUE){var t=u[e];if(!t)return;h(t)}return s[e]},remove:function(e){if(a<Number.MAX_VALUE){var t=u[e];if(!t)return;t===l&&(l=t.p),t===c&&(c=t.n),p(t.n,t.p),delete u[e]}e in s&&(delete s[e],r--)},removeAll:function(){s=Me(),r=0,u=Me(),l=c=null},destroy:function(){s=null,o=null,u=null,delete e[t]},info:function(){return T({},o,{size:r})}};function h(e){e!==l&&(c?c===e&&(c=e.n):c=e,p(e.n,e.p),p(e,l),(l=e).n=null)}function p(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}}return t.info=function(){var t={};return x(e,(function(e,n){t[n]=e.info()})),t},t.get=function(t){return e[t]},t}}function pn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var dn=i("$compile");var fn=new function(){};function gn(t,n){var r={},i=/^\s*directive:\s*([\w-]+)\s+(.*)$/,a=/(([\w-]+)(?::([^;]+))?;?)/,u=function(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),l=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,p=/^(on[a-z]+|formaction)$/,d=Me();function f(e,t,n){var r=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,i=Me();return x(e,(function(e,o){if((e=e.trim())in d)i[o]=d[e];else{var s=e.match(r);if(!s)throw dn("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");i[o]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||o},s[4]&&(d[e]=i[o])}})),i}function g(e,t){var n={isolateScope:null,bindToController:null};if(M(e.scope)&&(!0===e.bindToController?(n.bindToController=f(e.scope,t,!0),n.isolateScope={}):n.isolateScope=f(e.scope,t,!1)),M(e.bindToController)&&(n.bindToController=f(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw dn("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}this.directive=function e(n,i){return _e(n,"name"),Le(n,"directive"),H(n)?(!function(e){var t=e.charAt(0);if(!t||t!==h(t))throw dn("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw dn("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}(n),_e(i,"directiveFactory"),r.hasOwnProperty(n)||(r[n]=[],t.factory(n+"Directive",["$injector","$exceptionHandler",function(e,t){var i=[];return x(r[n],(function(r,o){try{var s=e.invoke(r);K(s)?s={compile:_(s)}:!s.compile&&s.link&&(s.compile=_(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||n,s.require=function(e){var t=e.require||e.controller&&e.name;return!q(t)&&M(t)&&x(t,(function(e,n){var r=e.match(l);e.substring(r[0].length)||(t[n]=r[0]+n)})),t}(s),s.restrict=function(e,t){if(e&&(!H(e)||!/[EACM]/.test(e)))throw dn("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}(s.restrict,n),s.$$moduleName=r.$$moduleName,i.push(s)}catch(e){t(e)}})),i}])),r[n].push(i)):x(n,E(e)),this},this.component=function e(t,n){if(!H(t))return x(t,E(pe(this,e))),this;var r=n.controller||function(){};function i(e){function t(t){return K(t)||q(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var i=n.template||n.templateUrl?n.template:"",o={controller:r,controllerAs:En(n.controller)||n.controllerAs||"$ctrl",template:t(i),templateUrl:t(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};return x(n,(function(e,t){"$"===t.charAt(0)&&(o[t]=e)})),o}return x(n,(function(e,t){"$"===t.charAt(0)&&(i[t]=e,K(r)&&(r[t]=e))})),i.$inject=["$injector"],this.directive(t,i)},this.aHrefSanitizationTrustedUrlList=function(e){return N(e)?(n.aHrefSanitizationTrustedUrlList(e),this):n.aHrefSanitizationTrustedUrlList()},Object.defineProperty(this,"aHrefSanitizationWhitelist",{get:function(){return this.aHrefSanitizationTrustedUrlList},set:function(e){this.aHrefSanitizationTrustedUrlList=e}}),this.imgSrcSanitizationTrustedUrlList=function(e){return N(e)?(n.imgSrcSanitizationTrustedUrlList(e),this):n.imgSrcSanitizationTrustedUrlList()},Object.defineProperty(this,"imgSrcSanitizationWhitelist",{get:function(){return this.imgSrcSanitizationTrustedUrlList},set:function(e){this.imgSrcSanitizationTrustedUrlList=e}});var v=!0;this.debugInfoEnabled=function(e){return N(e)?(v=e,this):v};var y=!1;this.strictComponentBindingsEnabled=function(e){return N(e)?(y=e,this):y};var b=10;this.onChangesTtl=function(e){return arguments.length?(b=e,this):b};var $=!0;this.commentDirectivesEnabled=function(e){return arguments.length?($=e,this):$};var w=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(w=e,this):w};var S=Me();this.addPropertySecurityContext=function(e,t,n){var r=e.toLowerCase()+"|"+t.toLowerCase();if(r in S&&S[r]!==n)throw dn("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",e,t,S[r],n);return S[r]=n,this},function(){function e(e,t){x(t,(function(t){S[t.toLowerCase()]=e}))}e(qr.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),e(qr.CSS,["*|style"]),e(qr.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),e(qr.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),e(qr.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(t,n,d,f,E,A,C,F,D){var R,k=/^\w/,_=e.document.createElement("div"),j=$,N=w,B=b;function U(){try{if(!--B)throw R=void 0,dn("infchng","{0} $onChanges() iterations reached. Aborting!\n",b);C.$apply((function(){for(var e=0,t=R.length;e<t;++e)try{R[e]()}catch(e){d(e)}R=void 0}))}finally{B++}}function V(e,t){if(!e)return e;if(!H(e))throw dn("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',t,e.toString());for(var n="",r=Z(e),i=/\s/.test(r)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,o=r.split(i),s=Math.floor(o.length/2),a=0;a<s;a++){var u=2*a;n+=F.getTrustedMediaUrl(Z(o[u])),n+=" "+Z(o[u+1])}var l=Z(o[2*a]).split(/\s/);return n+=F.getTrustedMediaUrl(Z(l[0])),2===l.length&&(n+=" "+Z(l[1])),n}function G(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;n<r;n++)this[i=o[n]]=t[i]}else this.$attr={};this.$$element=e}function W(e,t){try{e.addClass(t)}catch(e){}}G.prototype={$normalize:bn,$addClass:function(e){e&&e.length>0&&D.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&D.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=$n(e,t);n&&n.length&&D.addClass(this.$$element,n);var r=$n(t,e);r&&r.length&&D.removeClass(this.$$element,r)},$set:function(e,t,n,r){var i=Ot(this.$$element[0],e),o=Pt[e],s=e;i?(this.$$element.prop(e,t),r=i):o&&(this[o]=t,s=o),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=Ie(e,"-")),"img"===ne(this.$$element)&&"srcset"===e&&(this[e]=t=V(t,"$set('srcset', value)")),!1!==n&&(null===t||L(t)?this.$$element.removeAttr(r):k.test(r)?i&&!1===t?this.$$element.removeAttr(r):this.$$element.attr(r,t):function(e,t,n){_.innerHTML="<span "+t+">";var r=_.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}(this.$$element[0],r,t));var a=this.$$observers;a&&x(a[s],(function(e){try{e(t)}catch(e){d(e)}}))},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=Me()),i=r[e]||(r[e]=[]);return i.push(t),C.$evalAsync((function(){i.$$inter||!n.hasOwnProperty(e)||L(n[e])||t(n[e])})),function(){ie(i,t)}}};var J=n.startSymbol(),Q=n.endSymbol(),ee="{{"===J&&"}}"===Q?O:function(e){return e.replace(/\{\{/g,J).replace(/}}/g,Q)},te=/^ng(Attr|Prop|On)([A-Z].*)$/,re=/^(.+)Start$/;return oe.$$addBindingInfo=v?function(e,t){var n=e.data("$binding")||[];q(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:P,oe.$$addBindingClass=v?function(e){W(e,"ng-binding")}:P,oe.$$addScopeInfo=v?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:P,oe.$$addScopeClass=v?function(e,t){W(e,t?"ng-isolate-scope":"ng-scope")}:P,oe.$$createComment=function(t,n){var r="";return v&&(r=" "+(t||"")+": ",n&&(r+=n+" ")),e.document.createComment(r)},oe;function oe(e,t,n,r,i){e instanceof s||(e=s(e));var o=ue(e,t,e,n,r,i);oe.$$addScopeClass(e);var a=null;return function(t,n,r){if(!e)throw dn("multilink","This element has already been linked.");_e(t,"scope"),i&&i.needsNewScope&&(t=t.$parent.$new());var u,l,c,h=(r=r||{}).parentBoundTranscludeFn,p=r.transcludeControllers,d=r.futureParentElement;if(h&&h.$$boundTransclude&&(h=h.$$boundTransclude),a||(l=(u=d)&&u[0],a=l&&"foreignobject"!==ne(l)&&m.call(l).match(/SVG/)?"svg":"html"),c="html"!==a?s(Fe(a,s("<div></div>").append(e).html())):n?Rt.clone.call(e):e,p)for(var f in p)c.data("$"+f+"Controller",p[f].instance);return oe.$$addScopeInfo(c,t),n&&n(c,t),o&&o(t,c,c,h),n||(e=o=null),c}}function ue(e,t,n,r,i,a){for(var u,l,c,h,p,d,f,g=[],m=q(e)||e instanceof s,v=0;v<e.length;v++)u=new G,11===o&&le(e,v,m),(c=(l=de(e[v],[],u,0===v?r:void 0,i)).length?ve(l,e[v],u,t,n,null,[],[],a):null)&&c.scope&&oe.$$addScopeClass(u.$$element),p=c&&c.terminal||!(h=e[v].childNodes)||!h.length?null:ue(h,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||p)&&(g.push(v,c,p),d=!0,f=f||c),a=null;return d?function(e,n,r,i){var o,a,u,l,c,h,p,d,m;if(f){var v=n.length;for(m=new Array(v),c=0;c<g.length;c+=3)p=g[c],m[p]=n[p]}else m=n;for(c=0,h=g.length;c<h;)u=m[g[c++]],o=g[c++],a=g[c++],o?(o.scope?(l=e.$new(),oe.$$addScopeInfo(s(u),l)):l=e,d=o.transcludeOnThisElement?ce(e,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&t?ce(e,t):null,o(a,l,u,r,d)):a&&a(e,u.childNodes,void 0,i)}:null}function le(e,t,n){var r,i=e[t],o=i.parentNode;if(i.nodeType===He)for(;(r=o?i.nextSibling:e[t+1])&&r.nodeType===He;)i.nodeValue=i.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===e[t+1]&&e.splice(t+1,1)}function ce(e,t,n){function r(r,i,o,s,a){return r||((r=e.$new(!1,a)).$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})}var i=r.$$slots=Me();for(var o in t.$$slots)t.$$slots[o]?i[o]=ce(e,t.$$slots[o],n):i[o]=null;return r}function de(e,t,r,o,s){var u,l,c,h=e.nodeType,p=r.$attr;switch(h){case 1:we(t,bn(l=ne(e)),"E",o,s);for(var d,f,g,m,v,y=e.attributes,b=0,$=y&&y.length;b<$;b++){var w,x=!1,S=!1,E=!1,A=!1,C=!1;f=(d=y[b]).name,m=d.value,(v=(g=bn(f.toLowerCase())).match(te))?(E="Attr"===v[1],A="Prop"===v[1],C="On"===v[1],f=f.replace(vn,"").toLowerCase().substr(4+v[1].length).replace(/_(.)/g,(function(e,t){return t.toUpperCase()}))):(w=g.match(re))&&xe(w[1])&&(x=f,S=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),A||C?(r[g]=m,p[g]=d.name,A?De(e,t,g,f):Re(t,g,f)):(p[g=bn(f.toLowerCase())]=f,!E&&r.hasOwnProperty(g)||(r[g]=m,Ot(e,g)&&(r[g]=!0)),ke(e,t,m,g,E),we(t,g,"A",o,s,x,S))}if("input"===l&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!N)break;if(M(c=e.className)&&(c=c.animVal),H(c)&&""!==c)for(;u=a.exec(c);)we(t,g=bn(u[2]),"C",o,s)&&(r[g]=Z(u[3])),c=c.substr(u.index+u[0].length);break;case He:!function(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&oe.$$addBindingClass(t),function(e,t){var i=t.parent();n||oe.$$addBindingClass(i),oe.$$addBindingInfo(i,r.expressions),e.$watch(r,(function(e){t[0].nodeValue=e}))}}})}(t,e.nodeValue);break;case 8:if(!j)break;!function(e,t,n,r,o){try{var s=i.exec(e.nodeValue);if(s){var a=bn(s[1]);we(t,a,"M",r,o)&&(n[a]=Z(s[2]))}}catch(e){}}(e,t,r,o,s)}return t.sort(Ae),t}function fe(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw dn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);1===e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0);else r.push(e);return s(r)}function ge(e,t,n){return function(r,i,o,s,a){return i=fe(i[0],t,n),e(r,i,o,s,a)}}function me(e,t,n,r,i,o){var s;return e?oe(t,n,r,i,o):function(){return s||(s=oe(t,n,r,i,o),t=n=o=null),s.apply(this,arguments)}}function ve(t,n,r,i,o,a,u,l,c){c=c||{};for(var h,p,f,g,m,v=-Number.MAX_VALUE,y=c.newScopeDirective,b=c.controllerDirectives,$=c.newIsolateScopeDirective,w=c.templateDirective,S=c.nonTlbTranscludeDirective,E=!1,C=!1,F=c.hasElementTranscludeDirective,D=r.$$element=s(n),R=a,k=i,I=!1,P=!1,O=0,_=t.length;O<_;O++){var j=(h=t[O]).$$start,N=h.$$end;if(j&&(D=fe(n,j,N)),f=void 0,v>h.priority)break;if((m=h.scope)&&(h.templateUrl||(M(m)?(Ce("new/isolated scope",$||y,h,D),$=h):Ce("new/isolated scope",$,h,D)),y=y||h),p=h.name,!I&&(h.replace&&(h.templateUrl||h.template)||h.transclude&&!h.$$tlb)){for(var B,H=O+1;B=t[H++];)if(B.transclude&&!B.$$tlb||B.replace&&(B.templateUrl||B.template)){P=!0;break}I=!0}if(!h.templateUrl&&h.controller&&(b=b||Me(),Ce("'"+p+"' controller",b[p],h,D),b[p]=h),m=h.transclude)if(E=!0,h.$$tlb||(Ce("transclusion",S,h,D),S=h),"element"===m)F=!0,v=h.priority,f=D,D=r.$$element=s(oe.$$createComment(p,r[p])),n=D[0],Pe(o,he(f),n),k=me(P,f,i,v,R&&R.name,{nonTlbTranscludeDirective:S});else{var U=Me();if(M(m)){f=e.document.createDocumentFragment();var V=Me(),z=Me();for(var W in x(m,(function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,V[e]=t,U[t]=null,z[t]=n})),x(D.contents(),(function(t){var n=V[bn(ne(t))];n?(z[n]=!0,U[n]=U[n]||e.document.createDocumentFragment(),U[n].appendChild(t)):f.appendChild(t)})),x(z,(function(e,t){if(!e)throw dn("reqslot","Required transclusion slot `{0}` was not filled.",t)})),U)if(U[W]){var X=s(U[W].childNodes);U[W]=me(P,X,i)}f=s(f.childNodes)}else f=s(dt(n)).contents();D.empty(),(k=me(P,f,i,void 0,void 0,{needsNewScope:h.$$isolateScope||h.$$newScope})).$$slots=U}if(h.template)if(C=!0,Ce("template",w,h,D),w=h,m=K(h.template)?h.template(D,r):h.template,m=ee(m),h.replace){if(R=h,f=ut(m)?[]:wn(Fe(h.templateNamespace,Z(m))),n=f[0],1!==f.length||1!==n.nodeType)throw dn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p,"");Pe(o,D,n);var J={$attr:{}},Q=de(n,[],J),te=t.splice(O+1,t.length-(O+1));($||y)&&be(Q,$,y),t=t.concat(Q).concat(te),Se(r,J),_=t.length}else D.html(m);if(h.templateUrl)C=!0,Ce("template",w,h,D),w=h,h.replace&&(R=h),se=Ee(t.splice(O,t.length-O),D,r,o,E&&k,u,l,{controllerDirectives:b,newScopeDirective:y!==h&&y,newIsolateScopeDirective:$,templateDirective:w,nonTlbTranscludeDirective:S}),_=t.length;else if(h.compile)try{g=h.compile(D,r,k);var re=h.$$originalDirective||h;K(g)?ie(null,pe(re,g),j,N):g&&ie(pe(re,g.pre),pe(re,g.post),j,N)}catch(e){d(e,$e(D))}h.terminal&&(se.terminal=!0,v=Math.max(v,h.priority))}return se.scope=y&&!0===y.scope,se.transcludeOnThisElement=E,se.templateOnThisElement=C,se.transclude=k,c.hasElementTranscludeDirective=F,se;function ie(e,t,n,r){e&&(n&&(e=ge(e,n,r)),e.require=h.require,e.directiveName=p,($===h||h.$$isolateScope)&&(e=Oe(e,{isolateScope:!0})),u.push(e)),t&&(n&&(t=ge(t,n,r)),t.require=h.require,t.directiveName=p,($===h||h.$$isolateScope)&&(t=Oe(t,{isolateScope:!0})),l.push(t))}function se(e,t,i,o,a){var c,h,p,f,g,m,v,S,E,C;for(var D in n===i?(E=r,S=r.$$element):E=new G(S=s(i),r),g=t,$?f=t.$new(!0):y&&(g=t.$parent),a&&((v=function(e,t,n,r){var i;Y(e)||(r=n,n=t,t=e,e=void 0);F&&(i=m);n||(n=F?S.parent():S);if(!r)return a(e,t,i,n,P);var o=a.$$slots[r];if(o)return o(e,t,i,n,P);if(L(o))throw dn("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,$e(S))}).$$boundTransclude=a,v.isSlotFilled=function(e){return!!a.$$slots[e]}),b&&(m=function(e,t,n,r,i,o,s){var a=Me();for(var u in r){var l=r[u],c={$scope:l===s||l.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},h=l.controller;"@"===h&&(h=t[l.name]);var p=A(h,c,!0,l.controllerAs);a[l.name]=p,e.data("$"+l.name+"Controller",p.instance)}return a}(S,E,v,b,f,t,$)),$&&(oe.$$addScopeInfo(S,f,!0,!(w&&(w===$||w===$.$$originalDirective))),oe.$$addScopeClass(S,!0),f.$$isolateBindings=$.$$isolateBindings,(C=Ne(t,E,f,f.$$isolateBindings,$)).removeWatches&&f.$on("$destroy",C.removeWatches)),m){var R=b[D],k=m[D],I=R.$$bindings.bindToController;k.instance=k(),S.data("$"+R.name+"Controller",k.instance),k.bindingInfo=Ne(g,E,k.instance,I,R)}for(x(b,(function(e,t){var n=e.require;e.bindToController&&!q(n)&&M(n)&&T(m[t].instance,ye(t,n,S,m))})),x(m,(function(e){var t=e.instance;if(K(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){d(e)}if(K(t.$onInit))try{t.$onInit()}catch(e){d(e)}K(t.$doCheck)&&(g.$watch((function(){t.$doCheck()})),t.$doCheck()),K(t.$onDestroy)&&g.$on("$destroy",(function(){t.$onDestroy()}))})),c=0,h=u.length;c<h;c++)je(p=u[c],p.isolateScope?f:t,S,E,p.require&&ye(p.directiveName,p.require,S,m),v);var P=t;for($&&($.template||null===$.templateUrl)&&(P=f),e&&e(P,i.childNodes,void 0,a),c=l.length-1;c>=0;c--)je(p=l[c],p.isolateScope?f:t,S,E,p.require&&ye(p.directiveName,p.require,S,m),v);x(m,(function(e){var t=e.instance;K(t.$postLink)&&t.$postLink()}))}}function ye(e,t,n,r){var i;if(H(t)){var o=t.match(l),s=t.substring(o[0].length),a=o[1]||o[3],u="?"===o[2];if("^^"===a?n=n.parent():i=(i=r&&r[s])&&i.instance,!i){var c="$"+s+"Controller";i="^^"===a&&n[0]&&9===n[0].nodeType?null:a?n.inheritedData(c):n.data(c)}if(!i&&!u)throw dn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(q(t)){i=[];for(var h=0,p=t.length;h<p;h++)i[h]=ye(e,t[h],n,r)}else M(t)&&(i={},x(t,(function(t,o){i[o]=ye(e,t,n,r)})));return i||null}function be(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=I(e[r],{$$isolateScope:t,$$newScope:n})}function we(e,n,i,o,s,a,u){if(n===s)return null;var l=null;if(r.hasOwnProperty(n))for(var c,h=t.get(n+"Directive"),p=0,d=h.length;p<d;p++)if(c=h[p],(L(o)||o>c.priority)&&-1!==c.restrict.indexOf(i)){if(a&&(c=I(c,{$$start:a,$$end:u})),!c.$$bindings){var f=c.$$bindings=g(c,c.name);M(f.isolateScope)&&(c.$$isolateBindings=f.isolateScope)}e.push(c),l=c}return l}function xe(e){if(r.hasOwnProperty(e))for(var n=t.get(e+"Directive"),i=0,o=n.length;i<o;i++)if(n[i].multiElement)return!0;return!1}function Se(e,t){var n=t.$attr,r=e.$attr;x(e,(function(r,i){"$"!==i.charAt(0)&&(t[i]&&t[i]!==r&&(r.length?r+=("style"===i?";":" ")+t[i]:r=t[i]),e.$set(i,r,!0,n[i]))})),x(t,(function(t,i){e.hasOwnProperty(i)||"$"===i.charAt(0)||(e[i]=t,"class"!==i&&"style"!==i&&(r[i]=n[i]))}))}function Ee(e,t,n,r,i,o,a,u){var l,c,h=[],p=t[0],g=e.shift(),m=I(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=K(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,y=g.templateNamespace;return t.empty(),f(v).then((function(d){var f,b,$,w;if(d=ee(d),g.replace){if($=ut(d)?[]:wn(Fe(y,Z(d))),f=$[0],1!==$.length||1!==f.nodeType)throw dn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);b={$attr:{}},Pe(r,t,f);var S=de(f,[],b);M(g.scope)&&be(S,!0),e=S.concat(e),Se(n,b)}else f=p,t.html(d);for(e.unshift(m),l=ve(e,f,n,i,t,g,o,a,u),x(r,(function(e,n){e===f&&(r[n]=t[0])})),c=ue(t[0].childNodes,i);h.length;){var E=h.shift(),A=h.shift(),C=h.shift(),F=h.shift(),T=t[0];if(!E.$$destroyed){if(A!==p){var D=A.className;u.hasElementTranscludeDirective&&g.replace||(T=dt(f)),Pe(C,s(A),T),W(s(T),D)}w=l.transcludeOnThisElement?ce(E,l.transclude,F):F,l(c,E,T,r,w)}}h=null})).catch((function(e){z(e)&&d(e)})),function(e,t,n,r,i){var o=i;t.$$destroyed||(h?h.push(t,n,r,o):(l.transcludeOnThisElement&&(o=ce(t,l.transclude,i)),l(c,t,n,r,o)))}}function Ae(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function Ce(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw dn("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,$e(r))}function Fe(t,n){switch(t=h(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function Te(e){return V(F.valueOf(e),"ng-prop-srcset")}function De(e,t,n,r){if(p.test(r))throw dn("nodomevents","Property bindings for HTML DOM event properties are disallowed");var i=ne(e),o=function(e,t){var n=t.toLowerCase();return S[e+"|"+n]||S["*|"+n]}(i,r),s=O;"srcset"!==r||"img"!==i&&"source"!==i?o&&(s=F.getTrusted.bind(F,o)):s=Te,t.push({priority:100,compile:function(e,t){var i=E(t[n]),o=E(t[n],(function(e){return F.valueOf(e)}));return{pre:function(e,t){function n(){var n=i(e);t[0][r]=s(n)}n(),e.$watch(o,n)}}}})}function Re(e,t,n){e.push(Io(E,C,d,t,n,!1))}function ke(e,t,r,i,o){var s=ne(e),a=function(e,t){return"srcdoc"===t?F.HTML:"src"===t||"ngSrc"===t?-1===["img","video","audio","source","track"].indexOf(e)?F.RESOURCE_URL:F.MEDIA_URL:"xlinkHref"===t?"image"===e?F.MEDIA_URL:"a"===e?F.URL:F.RESOURCE_URL:"form"===e&&"action"===t||"base"===e&&"href"===t||"link"===e&&"href"===t?F.RESOURCE_URL:"a"!==e||"href"!==t&&"ngHref"!==t?void 0:F.URL}(s,i),l=!o,c=u[i]||o,h=n(r,l,a,c);if(h){if("multiple"===i&&"select"===s)throw dn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",$e(e));if(p.test(i))throw dn("nodomevents","Interpolations for HTML DOM event attributes are disallowed");t.push({priority:100,compile:function(){return{pre:function(e,t,o){var s=o.$$observers||(o.$$observers=Me()),u=o[i];u!==r&&(h=u&&n(u,!0,a,c),r=u),h&&(o[i]=h(e),(s[i]||(s[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||e).$watch(h,(function(e,t){"class"===i&&e!==t?o.$updateClass(e,t):o.$set(i,e)})))}}}})}}function Pe(t,n,r){var i,o,a=n[0],u=n.length,l=a.parentNode;if(t)for(i=0,o=t.length;i<o;i++)if(t[i]===a){t[i++]=r;for(var c=i,h=c+u-1,p=t.length;c<p;c++,h++)h<p?t[c]=t[h]:delete t[c];t.length-=u-1,t.context===a&&(t.context=r);break}l&&l.replaceChild(r,a);var d=e.document.createDocumentFragment();for(i=0;i<u;i++)d.appendChild(n[i]);for(s.hasData(a)&&(s.data(r,s.data(a)),s(a).off("$destroy")),s.cleanData(d.querySelectorAll("*")),i=1;i<u;i++)delete n[i];n[0]=r,n.length=1}function Oe(e,t){return T((function(){return e.apply(null,arguments)}),e,t)}function je(e,t,n,r,i,o){try{e(t,n,r,i,o)}catch(e){d(e,$e(n))}}function Le(e,t){if(y)throw dn("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}function Ne(e,t,r,i,o){var s,a=[],u={};function l(t,n,i){K(r.$onChanges)&&!se(n,i)&&(R||(e.$$postDigest(U),R=[]),s||(s={},R.push(h)),s[t]&&(i=s[t].previousValue),s[t]=new mn(i,n))}function h(){r.$onChanges(s),s=void 0}return x(i,(function(i,s){var h,p,d,f,g,m=i.attrName,v=i.optional;switch(i.mode){case"@":v||c.call(t,m)||(Le(m,o.name),r[s]=t[m]=void 0),g=t.$observe(m,(function(e){if(H(e)||X(e)){var t=r[s];l(s,e,t),r[s]=e}})),t.$$observers[m].$$scope=e,H(h=t[m])?r[s]=n(h)(e):X(h)&&(r[s]=h),u[s]=new mn(fn,r[s]),a.push(g);break;case"=":if(!c.call(t,m)){if(v)break;Le(m,o.name),t[m]=void 0}if(v&&!t[m])break;p=E(t[m]),f=p.literal?ae:se,d=p.assign||function(){throw h=r[s]=p(e),dn("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[m],m,o.name)},h=r[s]=p(e);var y=function(t){return f(t,r[s])||(f(t,h)?d(e,t=r[s]):r[s]=t),h=t};y.$stateful=!0,g=i.collection?e.$watchCollection(t[m],y):e.$watch(E(t[m],y),null,p.literal),a.push(g);break;case"<":if(!c.call(t,m)){if(v)break;Le(m,o.name),t[m]=void 0}if(v&&!t[m])break;var b=(p=E(t[m])).literal,$=r[s]=p(e);u[s]=new mn(fn,r[s]),g=e[i.collection?"$watchCollection":"$watch"](p,(function(e,t){if(t===e){if(t===$||b&&ae(t,$))return;t=$}l(s,e,t),r[s]=e})),a.push(g);break;case"&":if(v||c.call(t,m)||Le(m,o.name),(p=t.hasOwnProperty(m)?E(t[m]):P)===P&&v)break;r[s]=function(t){return p(e,t)}}})),{initialChanges:u,removeWatches:a.length&&function(){for(var e=0,t=a.length;e<t;++e)a[e]()}}}}]}function mn(e,t){this.previousValue=e,this.currentValue=t}gn.$inject=["$provide","$$sanitizeUriProvider"],mn.prototype.isFirstChange=function(){return this.previousValue===fn};var vn=/^((?:x|data)[:\-_])/i,yn=/[:\-_]+(.)/g;function bn(e){return e.replace(vn,"").replace(yn,(function(e,t,n){return n?t.toUpperCase():t}))}function $n(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var s=r[o],a=0;a<i.length;a++)if(s===i[a])continue e;n+=(n.length>0?" ":"")+s}return n}function wn(e){var t=(e=s(e)).length;if(t<=1)return e;for(;t--;){var n=e[t];(8===n.nodeType||n.nodeType===He&&""===n.nodeValue.trim())&&f.call(e,t,1)}return e}var xn=i("$controller"),Sn=/^(\S+)(\s+as\s+([\w$]+))?$/;function En(e,t){if(t&&H(t))return t;if(H(e)){var n=Sn.exec(e);if(n)return n[3]}}function An(){var e={};this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){Le(t,"controller"),M(t)?T(e,t):e[t]=n},this.$get=["$injector",function(t){return function(r,i,o,s){var a,u,l,c;if(o=!0===o,s&&H(s)&&(c=s),H(r)){if(!(u=r.match(Sn)))throw xn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);if(l=u[1],c=c||u[3],!(r=e.hasOwnProperty(l)?e[l]:function(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,s=i.length,a=0;a<s;a++)r=i[a],e&&(e=(o=e)[r]);return!n&&K(e)?pe(o,e):e}(i.$scope,l,!0)))throw xn("ctrlreg","The controller with the name '{0}' is not registered.",l);je(r,l,!0)}if(o){var h=(q(r)?r[r.length-1]:r).prototype;return a=Object.create(h||null),c&&n(i,c,a,l||r.name),T((function(){var e=t.invoke(r,a,i,l);return e!==a&&(M(e)||K(e))&&(a=e,c&&n(i,c,a,l||r.name)),a}),{instance:a,identifier:c})}return a=t.instantiate(r,i,l),c&&n(i,c,a,l||r.name),a};function n(e,t,n,r){if(!e||!M(e.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);e.$scope[t]=n}}]}function Cn(){this.$get=["$window",function(e){return s(e.document)}]}function Fn(){this.$get=["$document","$rootScope",function(e,t){var n=e[0],r=n&&n.hidden;function i(){r=n.hidden}return e.on("visibilitychange",i),t.$on("$destroy",(function(){e.off("visibilitychange",i)})),function(){return r}}]}function Tn(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}var Dn=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof s&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Rn={"Content-Type":"application/json;charset=utf-8"},kn=/^\[|^\{(?!\{)/,In={"[":/]$/,"{":/}$/},Pn=/^\)]\}',?\n/,On=i("$http");function _n(e){return M(e)?V(e)?e.toISOString():fe(e):e}function jn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return S(e,(function(e,n){null===e||L(e)||K(e)||(q(e)?x(e,(function(e){t.push(Ee(n)+"="+Ee(_n(e)))})):t.push(Ee(n)+"="+Ee(_n(e))))})),t.join("&")}}}function Ln(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function e(n,r,i){q(n)?x(n,(function(t,n){e(t,r+"["+(M(t)?n:"")+"]")})):M(n)&&!V(n)?S(n,(function(t,n){e(t,r+(i?"":"[")+n+(i?"":"]"))})):(K(n)&&(n=n()),t.push(Ee(r)+"="+(null==n?"":Ee(_n(n)))))}(e,"",!0),t.join("&")}}}function Nn(e,t){if(H(e)){var n=e.replace(Pn,"").trim();if(n){var r=t("Content-Type"),i=r&&0===r.indexOf("application/json");if(i||(s=(o=n).match(kn))&&In[s[0]].test(o))try{e=ge(n)}catch(t){if(!i)return e;throw On("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',e,t)}}}var o,s;return e}function Mn(e){var t,n=Me();function r(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}return H(e)?x(e.split("\n"),(function(e){t=e.indexOf(":"),r(h(Z(e.substr(0,t))),Z(e.substr(t+1)))})):M(e)&&x(e,(function(e,t){r(h(t),Z(e))})),n}function Bn(e){var t;return function(n){if(t||(t=Mn(e)),n){var r=t[h(n)];return void 0===r&&(r=null),r}return t}}function Hn(e,t,n,r){return K(r)?r(e,t,n):(x(r,(function(r){e=r(e,t,n)})),e)}function Un(e){return 200<=e&&e<300}function Vn(){var e=this.defaults={transformResponse:[Nn],transformRequest:[function(e){return!M(e)||(t=e,"[object File]"===m.call(t))||function(e){return"[object Blob]"===m.call(e)}(e)||function(e){return"[object FormData]"===m.call(e)}(e)?e:fe(e);var t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:Ue(Rn),put:Ue(Rn),patch:Ue(Rn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return N(e)?(t=!!e,this):t};var n=this.interceptors=[],r=this.xsrfTrustedOrigins=[];Object.defineProperty(this,"xsrfWhitelistedOrigins",{get:function(){return this.xsrfTrustedOrigins},set:function(e){this.xsrfTrustedOrigins=e}}),this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(o,s,a,u,l,c,d,f){var g=u("$http");e.paramSerializer=H(e.paramSerializer)?d.get(e.paramSerializer):e.paramSerializer;var m=[];x(n,(function(e){m.unshift(H(e)?d.get(e):d.invoke(e))}));var v,y=(v=[si].concat(r.map(ui)),function(e){var t=ui(e);return v.some(li.bind(null,t))});function b(n){if(!M(n))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!H(f.valueOf(n.url)))throw i("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var r=T({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},n);r.headers=function(t){var n,r,i,o=e.headers,s=T({},t.headers);o=T({},o.common,o[h(t.method)]);e:for(n in o){for(i in r=h(n),s)if(h(i)===r)continue e;s[n]=o[n]}return function(e,t){var n,r={};return x(e,(function(e,i){K(e)?null!=(n=e(t))&&(r[i]=n):r[i]=e})),r}(s,Ue(t))}(n),r.method=p(r.method),r.paramSerializer=H(r.paramSerializer)?d.get(r.paramSerializer):r.paramSerializer,o.$$incOutstandingRequestCount("$http");var u=[],v=[],$=c.resolve(r);return x(m,(function(e){(e.request||e.requestError)&&u.unshift(e.request,e.requestError),(e.response||e.responseError)&&v.push(e.response,e.responseError)})),$=w($,u),$=($=w($=$.then((function(n){var r=n.headers,i=Hn(n.data,Bn(r),void 0,n.transformRequest);L(i)&&x(r,(function(e,t){"content-type"===h(t)&&delete r[t]}));L(n.withCredentials)&&!L(e.withCredentials)&&(n.withCredentials=e.withCredentials);return function(n,r){var i,o,u=c.defer(),p=u.promise,d=n.headers,m="jsonp"===h(n.method),v=n.url;m?v=f.getTrustedResourceUrl(v):H(v)||(v=f.valueOf(v));v=function(e,t){t.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+t);return e}(v,n.paramSerializer(n.params)),m&&(v=function(e,t){var n=e.split("?");if(n.length>2)throw On("badjsonp",'Illegal use more than one "?", in url, "{1}"',e);return x(xe(n[1]),(function(n,r){if("JSON_CALLBACK"===n)throw On("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);if(r===t)throw On("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e)})),e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}(v,n.jsonpCallbackParam));b.pendingRequests.push(n),p.then(A,A),!n.cache&&!e.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(i=M(n.cache)?n.cache:M(e.cache)?e.cache:g);i&&(N(o=i.get(v))?J(o)?o.then(E,E):q(o)?S(o[1],o[0],Ue(o[2]),o[3],o[4]):S(o,200,{},"OK","complete"):i.put(v,p));if(L(o)){var $=y(n.url)?a()[n.xsrfCookieName||e.xsrfCookieName]:void 0;$&&(d[n.xsrfHeaderName||e.xsrfHeaderName]=$),s(n.method,v,r,(function(e,n,r,o,s){i&&(Un(e)?i.put(v,[e,n,Mn(r),o,s]):i.remove(v));function a(){S(n,e,r,o,s)}t?l.$applyAsync(a):(a(),l.$$phase||l.$apply())}),d,n.timeout,n.withCredentials,n.responseType,w(n.eventHandlers),w(n.uploadEventHandlers))}return p;function w(e){if(e){var n={};return x(e,(function(e,r){n[r]=function(n){function r(){e(n)}t?l.$applyAsync(r):l.$$phase?r():l.$apply(r)}})),n}}function S(e,t,r,i,o){(Un(t=t>=-1?t:0)?u.resolve:u.reject)({data:e,status:t,headers:Bn(r),config:n,statusText:i,xhrStatus:o})}function E(e){S(e.data,e.status,Ue(e.headers()),e.statusText,e.xhrStatus)}function A(){var e=b.pendingRequests.indexOf(n);-1!==e&&b.pendingRequests.splice(e,1)}}(n,i).then(S,S)})),v)).finally((function(){o.$$completeOutstandingRequest(P,"$http")}));function w(e,t){for(var n=0,r=t.length;n<r;){var i=t[n++],o=t[n++];e=e.then(i,o)}return t.length=0,e}function S(e){var t=T({},e);return t.data=Hn(e.data,e.headers,e.status,r.transformResponse),Un(e.status)?t:c.reject(t)}}return b.pendingRequests=[],function(e){x(arguments,(function(e){b[e]=function(t,n){return b(T({},n||{},{method:e,url:t}))}}))}("get","delete","head","jsonp"),function(e){x(arguments,(function(e){b[e]=function(t,n,r){return b(T({},r||{},{method:e,url:t,data:n}))}}))}("post","put","patch"),b.defaults=e,b}]}function qn(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function zn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return function(e,t,n,r,i){return function(o,s,a,u,l,c,p,d,f,g){if(s=s||e.url(),"jsonp"===h(o))var m=r.createCallback(s),v=function(e,t,n){e=e.replace("JSON_CALLBACK",t);var o=i.createElement("script"),s=null;return o.type="text/javascript",o.src=e,o.async=!0,s=function(e){o.removeEventListener("load",s),o.removeEventListener("error",s),i.body.removeChild(o),o=null;var a=-1,u="unknown";e&&("load"!==e.type||r.wasCalled(t)||(e={type:"error"}),u=e.type,a="error"===e.type?404:200),n&&n(a,u)},o.addEventListener("load",s),o.addEventListener("error",s),i.body.appendChild(o),s}(s,m,(function(e,t){var n=200===e&&r.getResponse(m);S(u,e,n,"",t,"complete"),r.removeCallback(m)}));else{var y=t(o,s),b=!1;y.open(o,s,!0),x(l,(function(e,t){N(e)&&y.setRequestHeader(t,e)})),y.onload=function(){var e=y.statusText||"",t="response"in y?y.response:y.responseText,n=1223===y.status?204:y.status;0===n&&(n=t?200:"file"===ui(s).protocol?404:0),S(u,n,t,y.getAllResponseHeaders(),e,"complete")};if(y.onerror=function(){S(u,-1,null,null,"","error")},y.ontimeout=function(){S(u,-1,null,null,"","timeout")},y.onabort=function(){S(u,-1,null,null,"",b?"timeout":"abort")},x(f,(function(e,t){y.addEventListener(t,e)})),x(g,(function(e,t){y.upload.addEventListener(t,e)})),p&&(y.withCredentials=!0),d)try{y.responseType=d}catch(e){if("json"!==d)throw e}y.send(L(a)?null:a)}if(c>0)var $=n((function(){w("timeout")}),c);else J(c)&&c.then((function(){w(N(c.$$timeoutId)?"timeout":"abort")}));function w(e){b="timeout"===e,v&&v(),y&&y.abort()}function S(e,t,r,i,o,s){N($)&&n.cancel($),v=y=null,e(t,r,i,o,s)}}}(e,r,e.defer,t,n[0])}]}var Kn=b.$interpolateMinErr=i("$interpolate");function Gn(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){var o=e.length,s=t.length,a=new RegExp(e.replace(/./g,l),"g"),u=new RegExp(t.replace(/./g,l),"g");function l(e){return"\\\\\\"+e}function c(n){return n.replace(a,e).replace(u,t)}function h(e,t,n,r){var i=e.$watch((function(e){return i(),r(e)}),t,n);return i}function p(a,u,l,p){var d=l===i.URL||l===i.MEDIA_URL;if(!a.length||-1===a.indexOf(e)){if(u)return;var f=c(a);d&&(f=i.getTrusted(l,f));var g=_(f);return g.exp=a,g.expressions=[],g.$$watchDelegate=h,g}p=!!p;for(var m,v,y,b,$,w=0,x=[],S=a.length,E=[],A=[];w<S;){if(-1===(m=a.indexOf(e,w))||-1===(v=a.indexOf(t,m+o))){w!==S&&E.push(c(a.substring(w)));break}w!==m&&E.push(c(a.substring(w,m))),b=a.substring(m+o,v),x.push(b),w=v+s,A.push(E.length),E.push("")}$=1===E.length&&1===A.length;var C=d&&$?void 0:function(e){try{return e=l&&!d?i.getTrusted(l,e):i.valueOf(e),p&&!N(e)?e:Be(e)}catch(e){r(Kn.interr(a,e))}};if(y=x.map((function(e){return n(e,C)})),!u||x.length){var F=function(e){for(var t=0,n=x.length;t<n;t++){if(p&&L(e[t]))return;E[A[t]]=e[t]}return d?i.getTrusted(l,$?E[0]:E.join("")):(l&&E.length>1&&Kn.throwNoconcat(a),E.join(""))};return T((function(e){var t=0,n=x.length,i=new Array(n);try{for(;t<n;t++)i[t]=y[t](e);return F(i)}catch(e){r(Kn.interr(a,e))}}),{exp:a,expressions:x,$$watchDelegate:function(e,t){var n;return e.$watchGroup(y,(function(r,i){var o=F(r);t.call(this,o,r!==i?n:o,e),n=o}))}})}}return p.startSymbol=function(){return e},p.endSymbol=function(){return t},p}]}Kn.throwNoconcat=function(e){throw Kn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Kn.interr=function(e,t){return Kn("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Wn=i("$interval");function Yn(){this.$get=["$$intervalFactory","$window",function(e,t){var n={},r=function(e){t.clearInterval(e),delete n[e]},i=e((function(e,r,i){var o=t.setInterval(e,r);return n[o]=i,o}),r);return i.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$intervalId"))throw Wn("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!n.hasOwnProperty(e.$$intervalId))return!1;var t=e.$$intervalId,i=n[t];return Mr(i.promise),i.reject("canceled"),r(t),!0},i}]}function Xn(){this.$get=["$browser","$q","$$q","$rootScope",function(e,t,n,r){return function(i,o){return function(s,a,u,l){var c=arguments.length>4,h=c?he(arguments,4):[],p=0,d=N(l)&&!l,f=(d?n:t).defer(),g=f.promise;function m(){c?s.apply(null,h):s(p)}function v(){d?e.defer(m):r.$evalAsync(m),f.notify(p++),u>0&&p>=u&&(f.resolve(p),o(g.$$intervalId)),d||r.$apply()}return u=N(u)?u:0,g.$$intervalId=i(v,a,f,d),g}}}]}var Jn=function(){this.$get=function(){var e=b.callbacks,t={};return{createCallback:function(n){var r="_"+(e.$$counter++).toString(36),i="angular.callbacks."+r,o=function(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}(r);return t[i]=e[r]=o,i},wasCalled:function(e){return t[e].called},getResponse:function(e){return t[e].data},removeCallback:function(n){var r=t[n];delete e[r.id],delete t[n]}}}},Qn=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Zn={http:80,https:443,ftp:21},er=i("$location");function tr(e,t,n){var r,i=(r=[],x(t,(function(e,t){q(e)?x(e,(function(e){r.push(Ee(t,!0)+(!0===e?"":"="+Ee(e,!0)))})):r.push(Ee(t,!0)+(!0===e?"":"="+Ee(e,!0)))})),r.length?r.join("&"):""),o=n?"#"+Se(n):"";return function(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=Se(t[n].replace(/%2F/g,"/"));return t.join("/")}(e)+(i?"?"+i:"")+o}function nr(e,t){var n=ui(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=R(n.port)||Zn[n.protocol]||null}var rr=/^\s*[\\/]{2,}/;function ir(e,t,n){if(rr.test(e))throw er("badpath",'Invalid url "{0}".',e);var r="/"!==e.charAt(0);r&&(e="/"+e);var i=ui(e),o=r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname;t.$$path=function(e,t){for(var n=e.split("/"),r=n.length;r--;)n[r]=decodeURIComponent(n[r]),t&&(n[r]=n[r].replace(/\//g,"%2F"));return n.join("/")}(o,n),t.$$search=xe(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function or(e,t){return e.slice(0,t.length)===t}function sr(e,t){if(or(t,e))return t.substr(e.length)}function ar(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function ur(e,t,n){this.$$html5=!0,n=n||"",nr(e,this),this.$$parse=function(e){var n=sr(t,e);if(!H(n))throw er("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);ir(n,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(e){return t+e.substr(1)},this.$$parseLinkUrl=function(r,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(N(o=sr(e,r))?(s=o,a=n&&N(o=sr(n,o))?t+(sr("/",o)||o):e+s):N(o=sr(t,r))?a=t+o:t===r+"/"&&(a=t),a&&this.$$parse(a),!!a);var o,s,a}}function lr(e,t,n){nr(e,this),this.$$parse=function(r){var i,o=sr(e,r)||sr(t,r);L(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",L(o)&&(e=r,this.replace())):L(i=sr(n,o))&&(i=o),ir(i,this,!1),this.$$path=function(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;or(t,n)&&(t=t.replace(n,""));if(i.exec(t))return e;return(r=i.exec(e))?r[1]:e}(this.$$path,i,e),this.$$compose()},this.$$normalizeUrl=function(t){return e+(t?n+t:"")},this.$$parseLinkUrl=function(t,n){return ar(e)===ar(t)&&(this.$$parse(t),!0)}}function cr(e,t,n){this.$$html5=!0,lr.apply(this,arguments),this.$$parseLinkUrl=function(r,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(e===ar(r)?o=r:(s=sr(t,r))?o=e+n+s:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o);var o,s},this.$$normalizeUrl=function(t){return e+n+t}}var hr={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){this.$$url=tr(this.$$path,this.$$search,this.$$hash),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:pr("$$absUrl"),url:function(e){if(L(e))return this.$$url;var t=Qn.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:pr("$$protocol"),host:pr("$$host"),port:pr("$$port"),path:dr("$$path",(function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e})),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(H(e)||U(e))e=e.toString(),this.$$search=xe(e);else{if(!M(e))throw er("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");x(e=oe(e,{}),(function(t,n){null==t&&delete e[n]})),this.$$search=e}break;default:L(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:dr("$$hash",(function(e){return null!==e?e.toString():""})),replace:function(){return this.$$replace=!0,this}};function pr(e){return function(){return this[e]}}function dr(e,t){return function(n){return L(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function fr(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return N(t)?(e=t,this):e},this.html5Mode=function(e){return X(e)?(t.enabled=e,this):M(e)?(X(e.enabled)&&(t.enabled=e.enabled),X(e.requireBase)&&(t.requireBase=e.requireBase),(X(e.rewriteLinks)||H(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){var u,l,c,h,p=r.baseHref(),d=r.url();if(t.enabled){if(!p&&t.requireBase)throw er("nobase","$location in HTML5 mode requires a <base> tag to be present!");c=(h=d).substring(0,h.indexOf("/",h.indexOf("//")+2))+(p||"/"),l=i.history?ur:cr}else c=ar(d),l=lr;var f=function(e){return e.substr(0,ar(e).lastIndexOf("/")+1)}(c);(u=new l(c,f,"#"+e)).$$parseLinkUrl(d,d),u.$$state=r.state();var g=/^\s*(javascript|mailto):/i;function m(e,t,n){var i=u.url(),o=u.$$state;try{r.url(e,t,n),u.$$state=r.state()}catch(e){throw u.url(i),u.$$state=o,e}}o.on("click",(function(e){var i=t.rewriteLinks;if(i&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var a=s(e.target);"a"!==ne(a[0]);)if(a[0]===o[0]||!(a=a.parent())[0])return;if(!H(i)||!L(a.attr(i))){var l=a.prop("href"),c=a.attr("href")||a.attr("xlink:href");M(l)&&"[object SVGAnimatedString]"===l.toString()&&(l=ui(l.animVal).href),g.test(l)||!l||a.attr("target")||e.isDefaultPrevented()||u.$$parseLinkUrl(l,c)&&(e.preventDefault(),u.absUrl()!==r.url()&&n.$apply())}}})),u.absUrl()!==d&&r.url(u.absUrl(),!0);var v=!0;return r.onUrlChange((function(e,t){or(e,f)?(n.$evalAsync((function(){var r,i=u.absUrl(),o=u.$$state;u.$$parse(e),u.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,u.absUrl()===e&&(r?(u.$$parse(i),u.$$state=o,m(i,!1,o)):(v=!1,y(i,o)))})),n.$$phase||n.$digest()):a.location.href=e})),n.$watch((function(){if(v||u.$$urlUpdatedByLocation){u.$$urlUpdatedByLocation=!1;var e=r.url(),t=u.absUrl(),o=r.state(),s=u.$$replace,a=!((l=e)===(c=t)||ui(l).href===ui(c).href)||u.$$html5&&i.history&&o!==u.$$state;(v||a)&&(v=!1,n.$evalAsync((function(){var t=u.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,u.$$state,o).defaultPrevented;u.absUrl()===t&&(r?(u.$$parse(e),u.$$state=o):(a&&m(t,s,o===u.$$state?null:u.$$state),y(e,o)))})))}var l,c;u.$$replace=!1})),u;function y(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}}]}function gr(){var e=!0,t=this;this.debugEnabled=function(t){return N(t)?(e=t,this):e},this.$get=["$window",function(n){var r,i=o||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:a("log"),info:a("info"),warn:a("warn"),error:a("error"),debug:(r=a("debug"),function(){e&&r.apply(t,arguments)})};function s(e){return z(e)&&(e.stack&&i?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function a(e){var t=n.console||{},r=t[e]||t.log||P;return function(){var e=[];return x(arguments,(function(t){e.push(s(t))})),Function.prototype.apply.call(r,t,e)}}}]}x([cr,lr,ur],(function(e){e.prototype=Object.create(hr),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==ur||!this.$$html5)throw er("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=L(t)?null:t,this.$$urlUpdatedByLocation=!0,this}}));var mr=i("$parse"),vr={}.constructor.prototype.valueOf;function yr(e){return e+""}var br=Me();x("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),(function(e){br[e]=!0}));var $r={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},wr=function(e){this.options=e};wr.prototype={constructor:wr,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=br[t],o=br[n],s=br[r];if(i||o||s){var a=s?r:o?n:t;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||"Â "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=N(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw mr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=h(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,n+=String.fromCharCode(parseInt(s,16))}else{n+=$r[o]||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var xr=function(e,t){this.lexer=e,this.options=t};function Sr(e,t){return void 0!==e?e:t}function Er(e,t){return void 0===e?t:void 0===t?e:e+t}xr.Program="Program",xr.ExpressionStatement="ExpressionStatement",xr.AssignmentExpression="AssignmentExpression",xr.ConditionalExpression="ConditionalExpression",xr.LogicalExpression="LogicalExpression",xr.BinaryExpression="BinaryExpression",xr.UnaryExpression="UnaryExpression",xr.CallExpression="CallExpression",xr.MemberExpression="MemberExpression",xr.Identifier="Identifier",xr.Literal="Literal",xr.ArrayExpression="ArrayExpression",xr.Property="Property",xr.ObjectExpression="ObjectExpression",xr.ThisExpression="ThisExpression",xr.LocalsExpression="LocalsExpression",xr.NGValueParameter="NGValueParameter",xr.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:xr.Program,body:e}},expressionStatement:function(){return{type:xr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!Fr(e))throw mr("lval","Trying to assign a value to a non l-value");e={type:xr.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:xr.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:xr.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:xr.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:xr.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:xr.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:xr.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:xr.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:xr.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=oe(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:xr.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:xr.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:xr.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:xr.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:xr.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.filterChain())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:xr.Identifier,name:e.text}},constant:function(){return{type:xr.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:xr.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:xr.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:xr.ObjectExpression,properties:t}},throwError:function(e,t){throw mr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw mr("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw mr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],s=o.text;if(s===t||s===n||s===r||s===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:xr.ThisExpression},$locals:{type:xr.LocalsExpression}}};function Ar(e,t,n){var r,i,o,s=e.isPure=function(e,t){switch(e.type){case xr.MemberExpression:if(e.computed)return!1;break;case xr.UnaryExpression:return 1;case xr.BinaryExpression:return"+"!==e.operator&&1;case xr.CallExpression:return!1}return void 0===t?2:t}(e,n);switch(e.type){case xr.Program:r=!0,x(e.body,(function(e){Ar(e.expression,t,s),r=r&&e.expression.constant})),e.constant=r;break;case xr.Literal:e.constant=!0,e.toWatch=[];break;case xr.UnaryExpression:Ar(e.argument,t,s),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case xr.BinaryExpression:Ar(e.left,t,s),Ar(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case xr.LogicalExpression:Ar(e.left,t,s),Ar(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case xr.ConditionalExpression:Ar(e.test,t,s),Ar(e.alternate,t,s),Ar(e.consequent,t,s),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case xr.Identifier:e.constant=!1,e.toWatch=[e];break;case xr.MemberExpression:Ar(e.object,t,s),e.computed&&Ar(e.property,t,s),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case xr.CallExpression:o=!!e.filter&&function(e,t){return!e(t).$stateful}(t,e.callee.name),r=o,i=[],x(e.arguments,(function(e){Ar(e,t,s),r=r&&e.constant,i.push.apply(i,e.toWatch)})),e.constant=r,e.toWatch=o?i:[e];break;case xr.AssignmentExpression:Ar(e.left,t,s),Ar(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case xr.ArrayExpression:r=!0,i=[],x(e.elements,(function(e){Ar(e,t,s),r=r&&e.constant,i.push.apply(i,e.toWatch)})),e.constant=r,e.toWatch=i;break;case xr.ObjectExpression:r=!0,i=[],x(e.properties,(function(e){Ar(e.value,t,s),r=r&&e.value.constant,i.push.apply(i,e.value.toWatch),e.computed&&(Ar(e.key,t,!1),r=r&&e.key.constant,i.push.apply(i,e.key.toWatch))})),e.constant=r,e.toWatch=i;break;case xr.ThisExpression:case xr.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Cr(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length||n[0]!==t?n:void 0}}function Fr(e){return e.type===xr.Identifier||e.type===xr.MemberExpression}function Tr(e){if(1===e.body.length&&Fr(e.body[0].expression))return{type:xr.AssignmentExpression,left:e.body[0].expression,right:{type:xr.NGValueParameter},operator:"="}}function Dr(e){this.$filter=e}function Rr(e){this.$filter=e}function kr(e,t,n){this.ast=new xr(e,n),this.astCompiler=n.csp?new Rr(t):new Dr(t)}function Ir(e){return K(e.valueOf)?e.valueOf():vr.call(e)}function Pr(){var e,t,n=Me(),r={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){r[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(i){var o={csp:ue().noUnsafeEval,literals:oe(r),isIdentifierStart:K(e)&&e,isIdentifierContinue:K(t)&&t};return s.$$getAst=function(e){return new kr(new wr(o),i,o).getAst(e).ast},s;function s(e,t){var r,s;switch(typeof e){case"string":if(e=e.trim(),!(r=n[s=e]))r=new kr(new wr(o),i,o).parse(e),n[s]=p(r);return d(r,t);case"function":return d(e,t);default:return d(P,t)}}function a(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=Ir(e))&&!n)&&(e===t||e!=e&&t!=t)}function u(e,t,n,r,i){var o,s=r.inputs;if(1===s.length){var u=a;return s=s[0],e.$watch((function(e){var t=s(e);return a(t,u,s.isPure)||(o=r(e,void 0,void 0,[t]),u=t&&Ir(t)),o}),t,n,i)}for(var l=[],c=[],h=0,p=s.length;h<p;h++)l[h]=a,c[h]=null;return e.$watch((function(e){for(var t=!1,n=0,i=s.length;n<i;n++){var u=s[n](e);(t||(t=!a(u,l[n],s[n].isPure)))&&(c[n]=u,l[n]=u&&Ir(u))}return t&&(o=r(e,void 0,void 0,c)),o}),t,n,i)}function l(e,t,n,r,i){var o,s,a=r.literal?c:N,u=r.$$intercepted||r,l=r.$$interceptor||O,h=r.inputs&&!u.inputs;return f.literal=r.literal,f.constant=r.constant,f.inputs=r.inputs,p(f),o=e.$watch(f,t,n,i);function d(){a(s)&&o()}function f(e,t,n,r){return s=h&&r?r[0]:u(e,t,n,r),a(s)&&e.$$postDigest(d),l(s)}}function c(e){var t=!0;return x(e,(function(e){N(e)||(t=!1)})),t}function h(e,t,n,r){var i=e.$watch((function(e){return i(),r(e)}),t,n);return i}function p(e){return e.constant?e.$$watchDelegate=h:e.oneTime?e.$$watchDelegate=l:e.inputs&&(e.$$watchDelegate=u),e}function d(e,t){if(!t)return e;e.$$interceptor&&(t=function(e,t){function n(n){return t(e(n))}return n.$stateful=e.$stateful||t.$stateful,n.$$pure=e.$$pure&&t.$$pure,n}(e.$$interceptor,t),e=e.$$intercepted);var n=!1,r=function(r,i,o,s){var a=n&&s?s[0]:e(r,i,o,s);return t(a)};return r.$$intercepted=e,r.$$interceptor=t,r.literal=e.literal,r.oneTime=e.oneTime,r.constant=e.constant,t.$stateful||(n=!e.inputs,r.inputs=e.inputs?e.inputs:[e],t.$$pure||(r.inputs=r.inputs.map((function(e){return 2===e.isPure?function(t){return e(t)}:e})))),p(r)}}]}function Or(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return jr((function(e){t.$evalAsync(e)}),n,e)}],this.errorOnUnhandledRejections=function(t){return N(t)?(e=t,this):e}}function _r(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return jr((function(e){t.defer(e)}),n,e)}],this.errorOnUnhandledRejections=function(t){return N(t)?(e=t,this):e}}function jr(e,t,n){var r=i("$q",TypeError),o=0,s=[];function a(){return new u}function u(){var e=this.promise=new l;this.resolve=function(t){p(e,t)},this.reject=function(t){d(e,t)},this.notify=function(t){g(e,t)}}function l(){this.$$state={status:0}}function c(){for(;!o&&s.length;){var e=s.shift();if(!Lr(e)){Nr(e);var n="Possibly unhandled rejection: "+Ve(e.value);z(e.value)?t(e.value,n):t(n)}}}function h(r){!n||r.pending||2!==r.status||Lr(r)||(0===o&&0===s.length&&e(c),s.push(r)),!r.processScheduled&&r.pending&&(r.processScheduled=!0,++o,e((function(){!function(r){var i,s,a;a=r.pending,r.processScheduled=!1,r.pending=void 0;try{for(var u=0,l=a.length;u<l;++u){Nr(r),s=a[u][0],i=a[u][r.status];try{K(i)?p(s,i(r.value)):1===r.status?p(s,r.value):d(s,r.value)}catch(e){d(s,e),e&&!0===e.$$passToExceptionHandler&&t(e)}}}finally{--o,n&&0===o&&e(c)}}(r)})))}function p(e,t){e.$$state.status||(t===e?f(e,r("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):function e(t,n){var r,i=!1;try{(M(n)||K(n))&&(r=n.then),K(r)?(t.$$state.status=-1,r.call(n,o,s,(function(e){g(t,e)}))):(t.$$state.value=n,t.$$state.status=1,h(t.$$state))}catch(e){s(e)}function o(n){i||(i=!0,e(t,n))}function s(e){i||(i=!0,f(t,e))}}(e,t))}function d(e,t){e.$$state.status||f(e,t)}function f(e,t){e.$$state.value=t,e.$$state.status=2,h(e.$$state)}function g(n,r){var i=n.$$state.pending;n.$$state.status<=0&&i&&i.length&&e((function(){for(var e,n,o=0,s=i.length;o<s;o++){n=i[o][0],e=i[o][3];try{g(n,K(e)?e(r):r)}catch(e){t(e)}}}))}function m(e){var t=new l;return d(t,e),t}function v(e,t,n){var r=null;try{K(n)&&(r=n())}catch(e){return m(e)}return J(r)?r.then((function(){return t(e)}),m):t(e)}function y(e,t,n,r){var i=new l;return p(i,e),i.then(t,n,r)}T(l.prototype,{then:function(e,t,n){if(L(e)&&L(t)&&L(n))return this;var r=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&h(this.$$state),r},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then((function(t){return v(t,b,e)}),(function(t){return v(t,m,e)}),t)}});var b=y;function $(e){if(!K(e))throw r("norslvr","Expected resolverFn, got '{0}'",e);var t=new l;return e((function(e){p(t,e)}),(function(e){d(t,e)})),t}return $.prototype=l.prototype,$.defer=a,$.reject=m,$.when=y,$.resolve=b,$.all=function(e){var t=new l,n=0,r=q(e)?[]:{};return x(e,(function(e,i){n++,y(e).then((function(e){r[i]=e,--n||p(t,r)}),(function(e){d(t,e)}))})),0===n&&p(t,r),t},$.race=function(e){var t=a();return x(e,(function(e){y(e).then(t.resolve,t.reject)})),t.promise},$}function Lr(e){return!!e.pur}function Nr(e){e.pur=!0}function Mr(e){e.$$state&&Nr(e.$$state)}function Br(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function Hr(){var e=10,t=i("$rootScope"),n=null,r=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(i,s,a){function u(e){e.currentScope.$$destroyed=!0}function l(){this.$id=A(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}l.prototype={constructor:l,$new:function(e,t){var n;return t=t||this,e?(n=new l).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=A(),this.$$ChildScope=null,this.$$suspended=!1}return t.prototype=e,t}(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!==this)&&n.$on("$destroy",u),n},$watch:function(e,t,r,i){var o=s(e),a=K(t)?t:P;if(o.$$watchDelegate)return o.$$watchDelegate(this,a,r,o,e);var u=this,l=u.$$watchers,c={fn:a,last:$,get:o,exp:i||e,eq:!!r};return n=null,l||((l=u.$$watchers=[]).$$digestWatchIndex=-1),l.unshift(c),l.$$digestWatchIndex++,y(this,1),function(){var e=ie(l,c);e>=0&&(y(u,-1),e<l.$$digestWatchIndex&&l.$$digestWatchIndex--),n=null}},$watchGroup:function(e,t){var n=new Array(e.length),r=new Array(e.length),i=[],o=this,s=!1,a=!0;if(!e.length){var u=!0;return o.$evalAsync((function(){u&&t(r,r,o)})),function(){u=!1}}if(1===e.length)return this.$watch(e[0],(function(e,i,o){r[0]=e,n[0]=i,t(r,e===i?r:n,o)}));function l(){s=!1;try{a?(a=!1,t(r,r,o)):t(r,n,o)}finally{for(var i=0;i<e.length;i++)n[i]=r[i]}}return x(e,(function(e,t){var n=o.$watch(e,(function(e){r[t]=e,s||(s=!0,o.$evalAsync(l))}));i.push(n)})),function(){for(;i.length;)i.shift()()}},$watchCollection:function(e,t){g.$$pure=s(e).literal,g.$stateful=!g.$$pure;var n,r,i,o=this,a=t.length>1,u=0,l=s(e,g),h=[],p={},d=!0,f=0;function g(e){var t,i,o,s;if(!L(n=e)){if(M(n))if(w(n)){r!==h&&(f=(r=h).length=0,u++),t=n.length,f!==t&&(u++,r.length=f=t);for(var a=0;a<t;a++)s=r[a],o=n[a],s!=s&&o!=o||s===o||(u++,r[a]=o)}else{for(i in r!==p&&(r=p={},f=0,u++),t=0,n)c.call(n,i)&&(t++,o=n[i],s=r[i],i in r?s!=s&&o!=o||s===o||(u++,r[i]=o):(f++,r[i]=o,u++));if(f>t)for(i in u++,r)c.call(n,i)||(f--,delete r[i])}else r!==n&&(r=n,u++);return u}}return this.$watch(l,(function(){if(d?(d=!1,t(n,n,o)):t(n,i,o),a)if(M(n))if(w(n)){i=new Array(n.length);for(var e=0;e<n.length;e++)i[e]=n[e]}else for(var r in i={},n)c.call(n,r)&&(i[r]=n[r]);else i=n}))},$digest:function(){var o,s,u,l,c,f,y,b,w,x=e,E=p.length?h:this,A=[];m("$digest"),a.$$checkUrlChange(),this===h&&null!==r&&(a.defer.cancel(r),S()),n=null;do{c=!1,y=E;for(var C=0;C<p.length;C++){try{(0,(w=p[C]).fn)(w.scope,w.locals)}catch(e){i(e)}n=null}p.length=0;e:do{if(l=!y.$$suspended&&y.$$watchers)for(l.$$digestWatchIndex=l.length;l.$$digestWatchIndex--;)try{if(o=l[l.$$digestWatchIndex])if((s=(0,o.get)(y))===(u=o.last)||(o.eq?ae(s,u):k(s)&&k(u))){if(o===n){c=!1;break e}}else c=!0,n=o,o.last=o.eq?oe(s,null):s,(0,o.fn)(s,u===$?s:u,y),x<5&&(A[b=4-x]||(A[b]=[]),A[b].push({msg:K(o.exp)?"fn: "+(o.exp.name||o.exp.toString()):o.exp,newVal:s,oldVal:u}))}catch(e){i(e)}if(!(f=!y.$$suspended&&y.$$watchersCount&&y.$$childHead||y!==E&&y.$$nextSibling))for(;y!==E&&!(f=y.$$nextSibling);)y=y.$parent}while(y=f);if((c||p.length)&&!x--)throw v(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,A)}while(c||p.length);for(v();g<d.length;)try{d[g++]()}catch(e){i(e)}d.length=g=0,a.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===h&&a.$$applicationDestroyed(),y(this,-this.$$watchersCount),this.$$listenerCount)b(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=P,this.$on=this.$watch=this.$watchGroup=function(){return P},this.$$listeners={},this.$$nextSibling=null,function e(t){9===o&&(t.$$childHead&&e(t.$$childHead),t.$$nextSibling&&e(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}(this)}},$eval:function(e,t){return s(e)(this,t)},$evalAsync:function(e,t){h.$$phase||p.length||a.defer((function(){p.length&&h.$digest()}),null,"$evalAsync"),p.push({scope:this,fn:s(e),locals:t})},$$postDigest:function(e){d.push(e)},$apply:function(e){try{m("$apply");try{return this.$eval(e)}finally{v()}}catch(e){i(e)}finally{try{h.$digest()}catch(e){throw i(e),e}}},$applyAsync:function(e){var t=this;e&&f.push((function(){t.$eval(e)})),e=s(e),null===r&&(r=a.defer((function(){h.$apply(S)}),null,"$applyAsync"))},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do{r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++}while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(delete n[r],b(i,1,e))}},$emit:function(e,t){var n,r,o,s=[],a=this,u=!1,l={name:e,targetScope:a,stopPropagation:function(){u=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=ce([l],arguments,1);do{for(n=a.$$listeners[e]||s,l.currentScope=a,r=0,o=n.length;r<o;r++)if(n[r])try{n[r].apply(null,c)}catch(e){i(e)}else n.splice(r,1),r--,o--;if(u)break;a=a.$parent}while(a);return l.currentScope=null,l},$broadcast:function(e,t){var n=this,r=n,o=n,s={name:e,targetScope:n,preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return s;for(var a,u,l,c=ce([s],arguments,1);r=o;){for(s.currentScope=r,u=0,l=(a=r.$$listeners[e]||[]).length;u<l;u++)if(a[u])try{a[u].apply(null,c)}catch(e){i(e)}else a.splice(u,1),u--,l--;if(!(o=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(o=r.$$nextSibling);)r=r.$parent}return s.currentScope=null,s}};var h=new l,p=h.$$asyncQueue=[],d=h.$$postDigestQueue=[],f=h.$$applyAsyncQueue=[],g=0;return h;function m(e){if(h.$$phase)throw t("inprog","{0} already in progress",h.$$phase);h.$$phase=e}function v(){h.$$phase=null}function y(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function b(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function $(){}function S(){for(;f.length;)try{f.shift()()}catch(e){i(e)}r=null}}]}function Ur(){var e=/^\s*(https?|s?ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationTrustedUrlList=function(t){return N(t)?(e=t,this):e},this.imgSrcSanitizationTrustedUrlList=function(e){return N(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i=r?t:e,o=ui(n&&n.trim()).href;return""===o||o.match(i)?n:"unsafe:"+o}}}Dr.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Ar(e,t.$filter);var n,r="";if(this.stage="assign",n=Tr(e)){this.state.computing="assign";var i=this.nextId();this.recurse(n,i),this.return_(i),r="fn.assign="+this.generateFunction("assign","s,v,l")}var o=Cr(e.body);t.stage="inputs",x(o,(function(e,n){var r="fn"+n;t.state[r]={vars:[],body:[],own:{}},t.state.computing=r;var i=t.nextId();t.recurse(e,i),t.return_(i),t.state.inputs.push({name:r,isPure:e.isPure}),e.watchId=n})),this.state.computing="fn",this.stage="main",this.recurse(e);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",a=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,yr,Sr,Er);return this.state=this.stage=void 0,a},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return x(t,(function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")})),t.length&&e.push("fn.inputs=["+t.map((function(e){return e.name})).join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return x(this.state.filters,(function(n,r){e.push(n+"=$filter("+t.escape(r)+")")})),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,i,o){var s,a,u,l,c,h=this;if(r=r||P,!o&&N(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,i,!0));switch(e.type){case xr.Program:x(e.body,(function(t,n){h.recurse(t.expression,void 0,void 0,(function(e){a=e})),n!==e.body.length-1?h.current().body.push(a,";"):h.return_(a)}));break;case xr.Literal:l=this.escape(e.value),this.assign(t,l),r(t||l);break;case xr.UnaryExpression:this.recurse(e.argument,void 0,void 0,(function(e){a=e})),l=e.operator+"("+this.ifDefined(a,0)+")",this.assign(t,l),r(l);break;case xr.BinaryExpression:this.recurse(e.left,void 0,void 0,(function(e){s=e})),this.recurse(e.right,void 0,void 0,(function(e){a=e})),l="+"===e.operator?this.plus(s,a):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(a,0):"("+s+")"+e.operator+"("+a+")",this.assign(t,l),r(l);break;case xr.LogicalExpression:t=t||this.nextId(),h.recurse(e.left,t),h.if_("&&"===e.operator?t:h.not(t),h.lazyRecurse(e.right,t)),r(t);break;case xr.ConditionalExpression:t=t||this.nextId(),h.recurse(e.test,t),h.if_(t,h.lazyRecurse(e.alternate,t),h.lazyRecurse(e.consequent,t)),r(t);break;case xr.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",e.name)),(function(){h.if_("inputs"===h.stage||"s",(function(){i&&1!==i&&h.if_(h.isNull(h.nonComputedMember("s",e.name)),h.lazyAssign(h.nonComputedMember("s",e.name),"{}")),h.assign(t,h.nonComputedMember("s",e.name))}))}),t&&h.lazyAssign(t,h.nonComputedMember("l",e.name))),r(t);break;case xr.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),h.recurse(e.object,s,void 0,(function(){h.if_(h.notNull(s),(function(){e.computed?(a=h.nextId(),h.recurse(e.property,a),h.getStringValue(a),i&&1!==i&&h.if_(h.not(h.computedMember(s,a)),h.lazyAssign(h.computedMember(s,a),"{}")),l=h.computedMember(s,a),h.assign(t,l),n&&(n.computed=!0,n.name=a)):(i&&1!==i&&h.if_(h.isNull(h.nonComputedMember(s,e.property.name)),h.lazyAssign(h.nonComputedMember(s,e.property.name),"{}")),l=h.nonComputedMember(s,e.property.name),h.assign(t,l),n&&(n.computed=!1,n.name=e.property.name))}),(function(){h.assign(t,"undefined")})),r(t)}),!!i);break;case xr.CallExpression:t=t||this.nextId(),e.filter?(a=h.filter(e.callee.name),u=[],x(e.arguments,(function(e){var t=h.nextId();h.recurse(e,t),u.push(t)})),l=a+"("+u.join(",")+")",h.assign(t,l),r(t)):(a=h.nextId(),s={},u=[],h.recurse(e.callee,a,s,(function(){h.if_(h.notNull(a),(function(){x(e.arguments,(function(t){h.recurse(t,e.constant?void 0:h.nextId(),void 0,(function(e){u.push(e)}))})),l=s.name?h.member(s.context,s.name,s.computed)+"("+u.join(",")+")":a+"("+u.join(",")+")",h.assign(t,l)}),(function(){h.assign(t,"undefined")})),r(t)})));break;case xr.AssignmentExpression:a=this.nextId(),s={},this.recurse(e.left,void 0,s,(function(){h.if_(h.notNull(s.context),(function(){h.recurse(e.right,a),l=h.member(s.context,s.name,s.computed)+e.operator+a,h.assign(t,l),r(t||l)}))}),1);break;case xr.ArrayExpression:u=[],x(e.elements,(function(t){h.recurse(t,e.constant?void 0:h.nextId(),void 0,(function(e){u.push(e)}))})),l="["+u.join(",")+"]",this.assign(t,l),r(t||l);break;case xr.ObjectExpression:u=[],c=!1,x(e.properties,(function(e){e.computed&&(c=!0)})),c?(t=t||this.nextId(),this.assign(t,"{}"),x(e.properties,(function(e){e.computed?(s=h.nextId(),h.recurse(e.key,s)):s=e.key.type===xr.Identifier?e.key.name:""+e.key.value,a=h.nextId(),h.recurse(e.value,a),h.assign(h.member(t,s,e.computed),a)}))):(x(e.properties,(function(t){h.recurse(t.value,e.constant?void 0:h.nextId(),void 0,(function(e){u.push(h.escape(t.key.type===xr.Identifier?t.key.name:""+t.key.value)+":"+e)}))})),l="{"+u.join(",")+"}",this.assign(t,l)),r(t||l);break;case xr.ThisExpression:this.assign(t,"s"),r(t||"s");break;case xr.LocalsExpression:this.assign(t,"l"),r(t||"l");break;case xr.NGValueParameter:this.assign(t,"v"),r(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,r,i,o){var s=this;return function(){s.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(H(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(U(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw mr("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Rr.prototype={compile:function(e){var t,n,r=this;Ar(e,r.$filter),(t=Tr(e))&&(n=this.recurse(t));var i,o=Cr(e.body);o&&(i=[],x(o,(function(e,t){var n=r.recurse(e);n.isPure=e.isPure,e.input=n,i.push(n),e.watchId=t})));var s=[];x(e.body,(function(e){s.push(r.recurse(e.expression))}));var a=0===e.body.length?P:1===e.body.length?s[0]:function(e,t){var n;return x(s,(function(r){n=r(e,t)})),n};return n&&(a.assign=function(e,t,r){return n(e,r,t)}),i&&(a.inputs=i),a},recurse:function(e,t,n){var r,i,o,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case xr.Literal:return this.value(e.value,t);case xr.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case xr.BinaryExpression:case xr.LogicalExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case xr.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case xr.Identifier:return s.identifier(e.name,t,n);case xr.MemberExpression:return r=this.recurse(e.object,!1,!!n),e.computed||(i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(r,i,t,n):this.nonComputedMember(r,i,t,n);case xr.CallExpression:return o=[],x(e.arguments,(function(e){o.push(s.recurse(e))})),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(e,n,r,s){for(var a=[],u=0;u<o.length;++u)a.push(o[u](e,n,r,s));var l=i.apply(void 0,a,s);return t?{context:void 0,name:void 0,value:l}:l}:function(e,n,r,s){var a,u=i(e,n,r,s);if(null!=u.value){for(var l=[],c=0;c<o.length;++c)l.push(o[c](e,n,r,s));a=u.value.apply(u.context,l)}return t?{value:a}:a};case xr.AssignmentExpression:return r=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(e,n,o,s){var a=r(e,n,o,s),u=i(e,n,o,s);return a.context[a.name]=u,t?{value:u}:u};case xr.ArrayExpression:return o=[],x(e.elements,(function(e){o.push(s.recurse(e))})),function(e,n,r,i){for(var s=[],a=0;a<o.length;++a)s.push(o[a](e,n,r,i));return t?{value:s}:s};case xr.ObjectExpression:return o=[],x(e.properties,(function(e){e.computed?o.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):o.push({key:e.key.type===xr.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})})),function(e,n,r,i){for(var s={},a=0;a<o.length;++a)o[a].computed?s[o[a].key(e,n,r,i)]=o[a].value(e,n,r,i):s[o[a].key]=o[a].value(e,n,r,i);return t?{value:s}:s};case xr.ThisExpression:return function(e){return t?{value:e}:e};case xr.LocalsExpression:return function(e,n){return t?{value:n}:n};case xr.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var s=e(n,r,i,o);return s=N(s)?+s:0,t?{value:s}:s}},"unary-":function(e,t){return function(n,r,i,o){var s=e(n,r,i,o);return s=N(s)?-s:-0,t?{value:s}:s}},"unary!":function(e,t){return function(n,r,i,o){var s=!e(n,r,i,o);return t?{value:s}:s}},"binary+":function(e,t,n){return function(r,i,o,s){var a=Er(e(r,i,o,s),t(r,i,o,s));return n?{value:a}:a}},"binary-":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s),u=t(r,i,o,s),l=(N(a)?a:0)-(N(u)?u:0);return n?{value:l}:l}},"binary*":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)*t(r,i,o,s);return n?{value:a}:a}},"binary/":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)/t(r,i,o,s);return n?{value:a}:a}},"binary%":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)%t(r,i,o,s);return n?{value:a}:a}},"binary===":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)===t(r,i,o,s);return n?{value:a}:a}},"binary!==":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)!==t(r,i,o,s);return n?{value:a}:a}},"binary==":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)==t(r,i,o,s);return n?{value:a}:a}},"binary!=":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)!=t(r,i,o,s);return n?{value:a}:a}},"binary<":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)<t(r,i,o,s);return n?{value:a}:a}},"binary>":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)>t(r,i,o,s);return n?{value:a}:a}},"binary<=":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)<=t(r,i,o,s);return n?{value:a}:a}},"binary>=":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)>=t(r,i,o,s);return n?{value:a}:a}},"binary&&":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)&&t(r,i,o,s);return n?{value:a}:a}},"binary||":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)||t(r,i,o,s);return n?{value:a}:a}},"ternary?:":function(e,t,n,r){return function(i,o,s,a){var u=e(i,o,s,a)?t(i,o,s,a):n(i,o,s,a);return r?{value:u}:u}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(r,i,o,s){var a=i&&e in i?i:r;n&&1!==n&&a&&null==a[e]&&(a[e]={});var u=a?a[e]:void 0;return t?{context:a,name:e,value:u}:u}},computedMember:function(e,t,n,r){return function(i,o,s,a){var u,l,c=e(i,o,s,a);return null!=c&&(u=yr(u=t(i,o,s,a)),r&&1!==r&&c&&!c[u]&&(c[u]={}),l=c[u]),n?{context:c,name:u,value:l}:l}},nonComputedMember:function(e,t,n,r){return function(i,o,s,a){var u=e(i,o,s,a);r&&1!==r&&u&&null==u[t]&&(u[t]={});var l=null!=u?u[t]:void 0;return n?{context:u,name:t,value:l}:l}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}},kr.prototype={constructor:kr,parse:function(e){var t=this.getAst(e),n=this.astCompiler.compile(t.ast);return n.literal=function(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===xr.Literal||e.body[0].expression.type===xr.ArrayExpression||e.body[0].expression.type===xr.ObjectExpression)}(t.ast),n.constant=function(e){return e.constant}(t.ast),n.oneTime=t.oneTime,n},getAst:function(e){var t=!1;return":"===(e=e.trim()).charAt(0)&&":"===e.charAt(1)&&(t=!0,e=e.substring(2)),{ast:this.ast.ast(e),oneTime:t}}};var Vr=i("$sce"),qr={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},zr=/_([a-z])/g;function Kr(e){return e.replace(zr,Je)}function Gr(e){var t=[];return N(e)&&x(e,(function(e){t.push(function(e){if("self"===e)return e;if(H(e)){if(e.indexOf("***")>-1)throw Vr("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=ee(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(G(e))return new RegExp("^"+e.source+"$");throw Vr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))})),t}function Wr(){this.SCE_CONTEXTS=qr;var t=["self"],n=[];this.trustedResourceUrlList=function(e){return arguments.length&&(t=Gr(e)),t},Object.defineProperty(this,"resourceUrlWhitelist",{get:function(){return this.trustedResourceUrlList},set:function(e){this.trustedResourceUrlList=e}}),this.bannedResourceUrlList=function(e){return arguments.length&&(n=Gr(e)),n},Object.defineProperty(this,"resourceUrlBlacklist",{get:function(){return this.bannedResourceUrlList},set:function(e){this.bannedResourceUrlList=e}}),this.$get=["$injector","$$sanitizeUri",function(r,i){var o=function(e){throw Vr("unsafe","Attempting to use an unsafe value in a safe context.")};function s(t,n){return"self"===t?li(n,si)||function(t){return li(t,function(){if(e.document.baseURI)return e.document.baseURI;ii||((ii=e.document.createElement("a")).href=".",ii=ii.cloneNode(!1));return ii.href}())}(n):!!t.exec(n.href)}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}r.has("$sanitize")&&(o=r.get("$sanitize"));var u=a(),l={};return l[qr.HTML]=a(u),l[qr.CSS]=a(u),l[qr.MEDIA_URL]=a(u),l[qr.URL]=a(l[qr.MEDIA_URL]),l[qr.JS]=a(u),l[qr.RESOURCE_URL]=a(l[qr.URL]),{trustAs:function(e,t){var n=l.hasOwnProperty(e)?l[e]:null;if(!n)throw Vr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||L(t)||""===t)return t;if("string"!=typeof t)throw Vr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(e,r){if(null===r||L(r)||""===r)return r;var a=l.hasOwnProperty(e)?l[e]:null;if(a&&r instanceof a)return r.$$unwrapTrustedValue();if(K(r.$$unwrapTrustedValue)&&(r=r.$$unwrapTrustedValue()),e===qr.MEDIA_URL||e===qr.URL)return i(r.toString(),e===qr.MEDIA_URL);if(e===qr.RESOURCE_URL){if(function(e){var r,i,o=ui(e.toString()),a=!1;for(r=0,i=t.length;r<i;r++)if(s(t[r],o)){a=!0;break}if(a)for(r=0,i=n.length;r<i;r++)if(s(n[r],o)){a=!1;break}return a}(r))return r;throw Vr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",r.toString())}if(e===qr.HTML)return o(r);throw Vr("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof u?e.$$unwrapTrustedValue():e}}}]}function Yr(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&o<8)throw Vr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=Ue(qr);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=O),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,(function(t){return r.getTrusted(e,t)}))};var i=r.parseAs,s=r.getTrusted,a=r.trustAs;return x(qr,(function(e,t){var n=h(t);r[Kr("parse_as_"+n)]=function(t){return i(e,t)},r[Kr("get_trusted_"+n)]=function(t){return s(e,t)},r[Kr("trust_as_"+n)]=function(t){return a(e,t)}})),r}]}function Xr(){this.$get=["$window","$document",function(e,t){var n={},r=!(!(e.nw&&e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,i=R((/android (\d+)/.exec(h((e.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((e.navigator||{}).userAgent),a=t[0]||{},u=a.body&&a.body.style,l=!1,c=!1;return u&&(l=!(!("transition"in u)&&!("webkitTransition"in u)),c=!(!("animation"in u)&&!("webkitAnimation"in u))),{history:!(!r||i<4||s),hasEvent:function(e){if("input"===e&&o)return!1;if(L(n[e])){var t=a.createElement("div");n[e]="on"+e in t}return n[e]},csp:ue(),transitions:l,animations:c,android:i}}]}function Jr(){this.$get=_((function(e){return new Qr(e)}))}function Qr(e){var t={},n=[],r=this.ALL_TASKS_TYPE="$$all$$",i=this.DEFAULT_TASK_TYPE="$$default$$";function o(){var e=n.pop();return e&&e.cb}function s(e){for(var t=n.length-1;t>=0;--t){var r=n[t];if(r.type===e)return n.splice(t,1),r.cb}}this.completeTask=function(n,a){a=a||i;try{n()}finally{!function(e){t[e=e||i]&&(t[e]--,t[r]--)}(a);var u=t[a],l=t[r];if(!l||!u)for(var c,h=l?s:o;c=h(a);)try{c()}catch(t){e.error(t)}}},this.incTaskCount=function(e){t[e=e||i]=(t[e]||0)+1,t[r]=(t[r]||0)+1},this.notifyWhenNoPendingTasks=function(e,i){t[i=i||r]?n.push({type:i,cb:e}):e()}}var Zr=i("$templateRequest");function ei(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,r,i,o){function s(a,u){s.totalPendingRequests++,H(a)&&!L(n.get(a))||(a=o.getTrustedResourceUrl(a));var l=r.defaults&&r.defaults.transformResponse;return q(l)?l=l.filter((function(e){return e!==Nn})):l===Nn&&(l=null),r.get(a,T({cache:n,transformResponse:l},e)).finally((function(){s.totalPendingRequests--})).then((function(e){return n.put(a,e.data)}),(function(e){u||(e=Zr("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,e.status,e.statusText),t(e));return i.reject(e)}))}return s.totalPendingRequests=0,s}]}function ti(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={findBindings:function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return x(r,(function(e){var r=b.element(e).data("$binding");r&&x(r,(function(r){n?new RegExp("(^|\\s)"+ee(t)+"(\\s|\\||$)").test(r)&&i.push(e):-1!==r.indexOf(t)&&i.push(e)}))})),i},findModels:function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o="["+r[i]+"model"+(n?"=":"*=")+'"'+t+'"]',s=e.querySelectorAll(o);if(s.length)return s}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}};return r}]}var ni=i("$timeout");function ri(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){var o={};function s(s,a,u){K(s)||(u=a,a=s,s=P);var l,c=he(arguments,3),h=N(u)&&!u,p=(h?r:n).defer(),d=p.promise;return l=t.defer((function(){try{p.resolve(s.apply(null,c))}catch(e){p.reject(e),i(e)}finally{delete o[d.$$timeoutId]}h||e.$apply()}),a,"$timeout"),d.$$timeoutId=l,o[l]=p,d}return s.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$timeoutId"))throw ni("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!o.hasOwnProperty(e.$$timeoutId))return!1;var n=e.$$timeoutId,r=o[n];return Mr(r.promise),r.reject("canceled"),delete o[n],t.defer.cancel(n)},s}]}var ii,oi=e.document.createElement("a"),si=ui(e.location.href);oi.href="http://[::1]";var ai="[::1]"===oi.hostname;function ui(e){if(!H(e))return e;var t=e;o&&(oi.setAttribute("href",t),t=oi.href),oi.setAttribute("href",t);var n=oi.hostname;return!ai&&n.indexOf(":")>-1&&(n="["+n+"]"),{href:oi.href,protocol:oi.protocol?oi.protocol.replace(/:$/,""):"",host:oi.host,search:oi.search?oi.search.replace(/^\?/,""):"",hash:oi.hash?oi.hash.replace(/^#/,""):"",hostname:n,port:oi.port,pathname:"/"===oi.pathname.charAt(0)?oi.pathname:"/"+oi.pathname}}function li(e,t){return e=ui(e),t=ui(t),e.protocol===t.protocol&&e.host===t.host}function ci(){this.$get=_(e)}function hi(e){var t=e[0]||{},n={},r="";function i(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var e,o,s,a,u,l=function(e){try{return e.cookie||""}catch(e){return""}}(t);if(l!==r)for(e=(r=l).split("; "),n={},s=0;s<e.length;s++)(a=(o=e[s]).indexOf("="))>0&&(u=i(o.substring(0,a)),L(n[u])&&(n[u]=i(o.substring(a+1))));return n}}function pi(){this.$get=hi}function di(e){function t(n,r){if(M(n)){var i={};return x(n,(function(e,n){i[n]=t(n,e)})),i}return e.factory(n+"Filter",r)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",vi),t("date",Di),t("filter",fi),t("json",Ri),t("limitTo",Pi),t("lowercase",ki),t("number",yi),t("orderBy",_i),t("uppercase",Ii)}function fi(){return function(e,t,n,r){if(!w(e)){if(null==e)return e;throw i("filter")("notarray","Expected array but received: {0}",e)}var o,s;switch(r=r||"$",mi(t)){case"function":o=t;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":o=function(e,t,n,r){var i=M(e)&&n in e;!0===t?t=ae:K(t)||(t=function(e,t){return!L(e)&&(null===e||null===t?e===t:!(M(t)||M(e)&&!j(e))&&(e=h(""+e),t=h(""+t),-1!==e.indexOf(t)))});return function(o){return i&&!M(o)?gi(o,e[n],t,n,!1):gi(o,e,t,n,r)}}(t,n,r,s);break;default:return e}return Array.prototype.filter.call(e,o)}}function gi(e,t,n,r,i,o){var s=mi(e),a=mi(t);if("string"===a&&"!"===t.charAt(0))return!gi(e,t.substring(1),n,r,i);if(q(e))return e.some((function(e){return gi(e,t,n,r,i)}));switch(s){case"object":var u;if(i){for(u in e)if(u.charAt&&"$"!==u.charAt(0)&&gi(e[u],t,n,r,!0))return!0;return!o&&gi(e,t,n,r,!1)}if("object"===a){for(u in t){var l=t[u];if(!K(l)&&!L(l)){var c=u===r;if(!gi(c?e:e[u],l,n,r,c,c))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function mi(e){return null===e?"null":typeof e}hi.$inject=["$document"],di.$inject=["$provide"];function vi(e){var t=e.NUMBER_FORMATS;return function(e,n,r){L(n)&&(n=t.CURRENCY_SYM),L(r)&&(r=t.PATTERNS[1].maxFrac);var i=n?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:bi(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(i,n)}}function yi(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:bi(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function bi(e,t,n,r,i){if(!H(e)&&!U(e)||isNaN(e))return"";var o,s=!isFinite(e),a=!1,u=Math.abs(e)+"",l="";if(s)l="âˆž";else{(function(e,t,n,r){var i=e.d,o=i.length-e.i,s=(t=L(t)?Math.min(Math.max(n,o),r):+t)+e.i,a=i[s];if(s>0){i.splice(Math.max(e.i,s));for(var u=s;u<i.length;u++)i[u]=0}else{o=Math.max(0,o),e.i=1,i.length=Math.max(1,s=t+1),i[0]=0;for(var l=1;l<s;l++)i[l]=0}if(a>=5)if(s-1<0){for(var c=0;c>s;c--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[s-1]++;for(;o<Math.max(0,t);o++)i.push(0);var h=i.reduceRight((function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)}),0);h&&(i.unshift(h),e.i++)})(o=function(e){var t,n,r,i,o,s=0;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;"0"===e.charAt(r);r++);if(r===(o=e.length))t=[0],n=1;else{for(o--;"0"===e.charAt(o);)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=+e.charAt(r)}return n>22&&(t=t.splice(0,21),s=n-1,n=1),{d:t,e:s,i:n}}(u),i,t.minFrac,t.maxFrac);var c=o.d,h=o.i,p=o.e,d=[];for(a=c.reduce((function(e,t){return e&&!t}),!0);h<0;)c.unshift(0),h++;h>0?d=c.splice(h,c.length):(d=c,c=[0]);var f=[];for(c.length>=t.lgSize&&f.unshift(c.splice(-t.lgSize,c.length).join(""));c.length>t.gSize;)f.unshift(c.splice(-t.gSize,c.length).join(""));c.length&&f.unshift(c.join("")),l=f.join(n),d.length&&(l+=r+d.join("")),p&&(l+="e+"+p)}return e<0&&!a?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function $i(e,t,n,r){var i="";for((e<0||r&&e<=0)&&(r?e=1-e:(e=-e,i="-")),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function wi(e,t,n,r,i){return n=n||0,function(o){var s=o["get"+e]();return(n>0||s>-n)&&(s+=n),0===s&&-12===n&&(s=12),$i(s,t,r,i)}}function xi(e,t,n){return function(r,i){var o=r["get"+e]();return i[p((n?"STANDALONE":"")+(t?"SHORT":"")+e)][o]}}function Si(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function Ei(e){return function(t){var n,r=Si(t.getFullYear()),i=+(n=t,new Date(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay())))-+r;return $i(1+Math.round(i/6048e5),e)}}function Ai(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}vi.$inject=["$locale"],yi.$inject=["$locale"];var Ci={yyyy:wi("FullYear",4,0,!1,!0),yy:wi("FullYear",2,0,!0,!0),y:wi("FullYear",1,0,!1,!0),MMMM:xi("Month"),MMM:xi("Month",!0),MM:wi("Month",2,1),M:wi("Month",1,1),LLLL:xi("Month",!1,!0),dd:wi("Date",2),d:wi("Date",1),HH:wi("Hours",2),H:wi("Hours",1),hh:wi("Hours",2,-12),h:wi("Hours",1,-12),mm:wi("Minutes",2),m:wi("Minutes",1),ss:wi("Seconds",2),s:wi("Seconds",1),sss:wi("Milliseconds",3),EEEE:xi("Day"),EEE:xi("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=$i(Math[r>0?"floor":"ceil"](r/60),2)+$i(Math.abs(r%60),2)},ww:Ei(2),w:Ei(1),G:Ai,GG:Ai,GGG:Ai,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},Fi=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Ti=/^-?\d+$/;function Di(e){var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var o,s,a="",u=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,H(n)&&(n=Ti.test(n)?R(n):function(e){var n;if(n=e.match(t)){var r=new Date(0),i=0,o=0,s=n[8]?r.setUTCFullYear:r.setFullYear,a=n[8]?r.setUTCHours:r.setHours;n[9]&&(i=R(n[9]+n[10]),o=R(n[9]+n[11])),s.call(r,R(n[1]),R(n[2])-1,R(n[3]));var u=R(n[4]||0)-i,l=R(n[5]||0)-o,c=R(n[6]||0),h=Math.round(1e3*parseFloat("0."+(n[7]||0)));return a.call(r,u,l,c,h),r}return e}(n)),U(n)&&(n=new Date(n)),!V(n)||!isFinite(n.getTime()))return n;for(;r;)(s=Fi.exec(r))?r=(u=ce(u,s,1)).pop():(u.push(r),r=null);var l=n.getTimezoneOffset();return i&&(l=ve(i,l),n=be(n,i,!0)),x(u,(function(t){a+=(o=Ci[t])?o(n,e.DATETIME_FORMATS,l):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),a}}function Ri(){return function(e,t){return L(t)&&(t=2),fe(e,t)}}Di.$inject=["$locale"];var ki=_(h),Ii=_(p);function Pi(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):R(t),k(t)?e:(U(e)&&(e=e.toString()),w(e)?(n=(n=!n||isNaN(n)?0:R(n))<0?Math.max(0,e.length+n):n,t>=0?Oi(e,n,n+t):0===n?Oi(e,t,e.length):Oi(e,Math.max(0,n+t),n)):e)}}function Oi(e,t,n){return H(e)?e.slice(t,n):d.call(e,t,n)}function _i(e){return function(r,o,s,a){if(null==r)return r;if(!w(r))throw i("orderBy")("notarray","Expected array but received: {0}",r);q(o)||(o=[o]),0===o.length&&(o=["+"]);var u=o.map((function(t){var n=1,r=O;if(K(t))r=t;else if(H(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t)).constant)){var i=r();r=function(e){return e[i]}}return{get:r,descending:n}})),l=s?-1:1,c=K(a)?a:n,h=Array.prototype.map.call(r,(function(e,n){return{value:e,tieBreaker:{value:n,type:"number",index:n},predicateValues:u.map((function(r){return function(e,n){var r=typeof e;null===e?r="null":"object"===r&&(e=function(e){if(K(e.valueOf)&&t(e=e.valueOf()))return e;if(j(e)&&t(e=e.toString()))return e;return e}(e));return{value:e,type:r,index:n}}(r.get(e),n)}))}}));return h.sort((function(e,t){for(var r=0,i=u.length;r<i;r++){var o=c(e.predicateValues[r],t.predicateValues[r]);if(o)return o*u[r].descending*l}return(c(e.tieBreaker,t.tieBreaker)||n(e.tieBreaker,t.tieBreaker))*l})),r=h.map((function(e){return e.value}))};function t(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function n(e,t){var n=0,r=e.type,i=t.type;if(r===i){var o=e.value,s=t.value;"string"===r?(o=o.toLowerCase(),s=s.toLowerCase()):"object"===r&&(M(o)&&(o=e.index),M(s)&&(s=t.index)),o!==s&&(n=o<s?-1:1)}else n="undefined"===r?1:"undefined"===i?-1:"null"===r?1:"null"===i||r<i?-1:1;return n}}function ji(e){return K(e)&&(e={link:e}),e.restrict=e.restrict||"AC",_(e)}_i.$inject=["$parse"];var Li=_({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===m.call(t.prop("href"))?"xlink:href":"href";t.on("click",(function(e){t.attr(n)||e.preventDefault()}))}}}}),Ni={};x(kt,(function(e,t){if("multiple"!==e){var n=bn("ng-"+t),r=i;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[n]&&i(e,0,r)}),Ni[n]=function(){return{restrict:"A",priority:100,link:r}}}function i(e,r,i){e.$watch(i[n],(function(e){i.$set(t,!!e)}))}})),x(Pt,(function(e,t){Ni[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"===r.ngPattern.charAt(0)){var i=r.ngPattern.match(l);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],(function(e){r.$set(t,e)}))}}}})),x(["src","srcset","href"],(function(e){var t=bn("ng-"+e);Ni[t]=["$sce",function(n){return{priority:99,link:function(r,i,s){var a=e,u=e;"href"===e&&"[object SVGAnimatedString]"===m.call(i.prop("href"))&&(u="xlinkHref",s.$attr[u]="xlink:href",a=null),s.$set(t,n.getTrustedMediaUrl(s[t])),s.$observe(t,(function(t){t?(s.$set(u,t),o&&a&&i.prop(a,s[u])):"href"===e&&s.$set(u,null)}))}}}]}));var Mi={$addControl:P,$getControls:_([]),$$renameControl:function(e,t){e.$name=t},$removeControl:P,$setValidity:P,$setDirty:P,$setPristine:P,$setSubmitted:P,$$setSubmitted:P};function Bi(e,t,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Mi,this.$$element=e,this.$$animate=r,qi(this)}Bi.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Bi.prototype={$rollbackViewValue:function(){x(this.$$controls,(function(e){e.$rollbackViewValue()}))},$commitViewValue:function(){x(this.$$controls,(function(e){e.$commitViewValue()}))},$addControl:function(e){Le(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$getControls:function(){return Ue(this.$$controls)},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],x(this.$pending,(function(t,n){this.$setValidity(n,null,e)}),this),x(this.$error,(function(t,n){this.$setValidity(n,null,e)}),this),x(this.$$success,(function(t,n){this.$setValidity(n,null,e)}),this),ie(this.$$controls,e),e.$$parentForm=Mi},$setDirty:function(){this.$$animate.removeClass(this.$$element,Bo),this.$$animate.addClass(this.$$element,Ho),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Bo,Ho+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,x(this.$$controls,(function(e){e.$setPristine()}))},$setUntouched:function(){x(this.$$controls,(function(e){e.$setUntouched()}))},$setSubmitted:function(){for(var e=this;e.$$parentForm&&e.$$parentForm!==Mi;)e=e.$$parentForm;e.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,x(this.$$controls,(function(e){e.$$setSubmitted&&e.$$setSubmitted()}))}},zi({clazz:Bi,set:function(e,t,n){var r=e[t];r?-1===r.indexOf(n)&&r.push(n):e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(ie(r,n),0===r.length&&delete e[t])}});var Hi=function(e){return["$timeout","$parse",function(t,n){return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Bi,compile:function(n,i){n.addClass(Bo).addClass(No);var o=i.name?"name":!(!e||!i.ngForm)&&"ngForm";return{pre:function(e,n,i,s){var a=s[0];if(!("action"in i)){var u=function(t){e.$apply((function(){a.$commitViewValue(),a.$setSubmitted()})),t.preventDefault()};n[0].addEventListener("submit",u),n.on("$destroy",(function(){t((function(){n[0].removeEventListener("submit",u)}),0,!1)}))}(s[1]||a.$$parentForm).$addControl(a);var l=o?r(a.$name):P;o&&(l(e,a),i.$observe(o,(function(t){a.$name!==t&&(l(e,void 0),a.$$parentForm.$$renameControl(a,t),(l=r(a.$name))(e,a))}))),n.on("$destroy",(function(){a.$$parentForm.$removeControl(a),l(e,void 0),T(a,Mi)}))}}}};function r(e){return""===e?n('this[""]').assign:n(e).assign||P}}]},Ui=Hi(),Vi=Hi(!0);function qi(e){e.$$classCache={},e.$$classCache[Mo]=!(e.$$classCache[No]=e.$$element.hasClass(No))}function zi(e){var t=e.clazz,n=e.set,r=e.unset;function i(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function o(e,t,n){t=t?"-"+Ie(t,"-"):"",i(e,No+t,!0===n),i(e,Mo+t,!1===n)}t.prototype.$setValidity=function(e,t,s){var a;L(t)?function(e,t,r,i){e[t]||(e[t]={});n(e[t],r,i)}(this,"$pending",e,s):function(e,t,n,i){e[t]&&r(e[t],n,i);Ki(e[t])&&(e[t]=void 0)}(this,"$pending",e,s),X(t)?t?(r(this.$error,e,s),n(this.$$success,e,s)):(n(this.$error,e,s),r(this.$$success,e,s)):(r(this.$error,e,s),r(this.$$success,e,s)),this.$pending?(i(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,o(this,"",null)):(i(this,"ng-pending",!1),this.$valid=Ki(this.$error),this.$invalid=!this.$valid,o(this,"",this.$valid)),o(this,e,a=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null)),this.$$parentForm.$setValidity(e,a,this)}}function Ki(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Gi=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Wi=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Yi=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Xi=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ji=/^(\d{4,})-(\d{2})-(\d{2})$/,Qi=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Zi=/^(\d{4,})-W(\d\d)$/,eo=/^(\d{4,})-(\d\d)$/,to=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,no=Me();x("date,datetime-local,month,time,week".split(","),(function(e){no[e]=!0}));var ro={text:function(e,t,n,r,i,o){oo(e,t,n,r,i,o),io(r)},date:ao("date",Ji,so(Ji,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ao("datetimelocal",Qi,so(Qi,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:ao("time",to,so(to,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ao("week",Zi,(function(e,t){if(V(e))return e;if(H(e)){Zi.lastIndex=0;var n=Zi.exec(e);if(n){var r=+n[1],i=+n[2],o=0,s=0,a=0,u=0,l=Si(r),c=7*(i-1);return t&&(o=t.getHours(),s=t.getMinutes(),a=t.getSeconds(),u=t.getMilliseconds()),new Date(r,0,l.getDate()+c,o,s,a,u)}}return NaN}),"yyyy-Www"),month:ao("month",eo,so(eo,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,r,i,o,s,a){var u;if(uo(e,t,n,r,"number"),lo(r),oo(e,t,n,r,i,o),N(n.min)||n.ngMin){var l=n.min||a(n.ngMin)(e);u=co(l),r.$validators.min=function(e,t){return r.$isEmpty(t)||L(u)||t>=u},n.$observe("min",(function(e){e!==l&&(u=co(e),l=e,r.$validate())}))}if(N(n.max)||n.ngMax){var c=n.max||a(n.ngMax)(e),h=co(c);r.$validators.max=function(e,t){return r.$isEmpty(t)||L(h)||t<=h},n.$observe("max",(function(e){e!==c&&(h=co(e),c=e,r.$validate())}))}if(N(n.step)||n.ngStep){var p=n.step||a(n.ngStep)(e),d=co(p);r.$validators.step=function(e,t){return r.$isEmpty(t)||L(d)||fo(t,u||0,d)},n.$observe("step",(function(e){e!==p&&(d=co(e),p=e,r.$validate())}))}},url:function(e,t,n,r,i,o){oo(e,t,n,r,i,o),io(r),r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||Wi.test(n)}},email:function(e,t,n,r,i,o){oo(e,t,n,r,i,o),io(r),r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Yi.test(n)}},radio:function(e,t,n,r){var i=!n.ngTrim||"false"!==Z(n.ngTrim);L(n.name)&&t.attr("name",A());t.on("change",(function(e){var o;t[0].checked&&(o=n.value,i&&(o=Z(o)),r.$setViewValue(o,e&&e.type))})),r.$render=function(){var e=n.value;i&&(e=Z(e)),t[0].checked=e===r.$viewValue},n.$observe("value",r.$render)},range:function(e,t,n,r,i,o){uo(e,t,n,r,"range"),lo(r),oo(e,t,n,r,i,o);var s=r.$$hasNativeValidators&&"range"===t[0].type,a=s?0:void 0,u=s?100:void 0,l=s?1:void 0,c=t[0].validity,h=N(n.min),p=N(n.max),d=N(n.step),f=r.$render;r.$render=s&&N(c.rangeUnderflow)&&N(c.rangeOverflow)?function(){f(),r.$setViewValue(t.val())}:f,h&&(a=co(n.min),r.$validators.min=s?function(){return!0}:function(e,t){return r.$isEmpty(t)||L(a)||t>=a},g("min",(function(e){if(a=co(e),k(r.$modelValue))return;if(s){var n=t.val();a>n&&(n=a,t.val(n)),r.$setViewValue(n)}else r.$validate()})));p&&(u=co(n.max),r.$validators.max=s?function(){return!0}:function(e,t){return r.$isEmpty(t)||L(u)||t<=u},g("max",(function(e){if(u=co(e),k(r.$modelValue))return;if(s){var n=t.val();u<n&&(t.val(u),n=u<a?a:u),r.$setViewValue(n)}else r.$validate()})));d&&(l=co(n.step),r.$validators.step=s?function(){return!c.stepMismatch}:function(e,t){return r.$isEmpty(t)||L(l)||fo(t,a||0,l)},g("step",(function(e){if(l=co(e),k(r.$modelValue))return;s?r.$viewValue!==t.val()&&r.$setViewValue(t.val()):r.$validate()})));function g(e,r){t.attr(e,n[e]);var i=n[e];n.$observe(e,(function(e){e!==i&&(i=e,r(e))}))}},checkbox:function(e,t,n,r,i,o,s,a){var u=go(a,e,"ngTrueValue",n.ngTrueValue,!0),l=go(a,e,"ngFalseValue",n.ngFalseValue,!1);t.on("change",(function(e){r.$setViewValue(t[0].checked,e&&e.type)})),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push((function(e){return ae(e,u)})),r.$parsers.push((function(e){return e?u:l}))},hidden:P,button:P,submit:P,reset:P,file:P};function io(e){e.$formatters.push((function(t){return e.$isEmpty(t)?t:t.toString()}))}function oo(e,t,n,r,i,o){var s,a=h(t[0].type);if(!i.android){var u=!1;t.on("compositionstart",(function(){u=!0})),t.on("compositionupdate",(function(e){(L(e.data)||""===e.data)&&(u=!1)})),t.on("compositionend",(function(){u=!1,l()}))}var l=function(e){if(s&&(o.defer.cancel(s),s=null),!u){var i=t.val(),l=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=Z(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,l)}};if(i.hasEvent("input"))t.on("input",l);else{var c=function(e,t,n){s||(s=o.defer((function(){s=null,t&&t.value===n||l(e)})))};t.on("keydown",(function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||c(e,this,this.value)})),i.hasEvent("paste")&&t.on("paste cut drop",c)}t.on("change",l),no[a]&&r.$$hasNativeValidators&&a===n.type&&t.on("keydown wheel mousedown",(function(e){if(!s){var t=this.validity,n=t.badInput,r=t.typeMismatch;s=o.defer((function(){s=null,t.badInput===n&&t.typeMismatch===r||l(e)}))}})),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function so(e,t){return function(n,r){var i,o;if(V(n))return n;if(H(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Gi.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n)){i.shift(),o=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},x(i,(function(e,n){n<t.length&&(o[t[n]]=+e)}));var s=new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0);return o.yyyy<100&&s.setFullYear(o.yyyy),s}}return NaN}}function ao(e,t,n,r){return function(i,o,s,a,u,l,c,h){uo(i,o,s,a,e),oo(0,o,s,a,u,l);var p,d,f="time"===e||"datetimelocal"===e;if(a.$parsers.push((function(n){return a.$isEmpty(n)?null:t.test(n)?w(n,p):void(a.$$parserName=e)})),a.$formatters.push((function(e){if(e&&!V(e))throw Uo("datefmt","Expected `{0}` to be a date",e);if(b(e)){p=e;var t=a.$options.getOption("timezone");return t&&(d=t,p=be(p,t,!0)),function(e,t){var n=r;f&&H(a.$options.getOption("timeSecondsFormat"))&&(n=r.replace("ss.sss",a.$options.getOption("timeSecondsFormat")).replace(/:$/,""));var i=c("date")(e,n,t);f&&a.$options.getOption("timeStripZeroSeconds")&&(i=i.replace(/(?::00)?(?:\.000)?$/,""));return i}(e,t)}return p=null,d=null,""})),N(s.min)||s.ngMin){var g=s.min||h(s.ngMin)(i),m=$(g);a.$validators.min=function(e){return!b(e)||L(m)||n(e)>=m},s.$observe("min",(function(e){e!==g&&(m=$(e),g=e,a.$validate())}))}if(N(s.max)||s.ngMax){var v=s.max||h(s.ngMax)(i),y=$(v);a.$validators.max=function(e){return!b(e)||L(y)||n(e)<=y},s.$observe("max",(function(e){e!==v&&(y=$(e),v=e,a.$validate())}))}function b(e){return e&&!(e.getTime&&e.getTime()!=e.getTime())}function $(e){return N(e)&&!V(e)?w(e)||void 0:e}function w(e,t){var r=a.$options.getOption("timezone");d&&d!==r&&(t=ye(t,ve(d)));var i=n(e,t);return!isNaN(i)&&r&&(i=be(i,r)),i}}}function uo(e,t,n,r,i){var o=t[0];(r.$$hasNativeValidators=M(o.validity))&&r.$parsers.push((function(e){var n=t.prop("validity")||{};if(!n.badInput&&!n.typeMismatch)return e;r.$$parserName=i}))}function lo(e){e.$parsers.push((function(t){return e.$isEmpty(t)?null:Xi.test(t)?parseFloat(t):void(e.$$parserName="number")})),e.$formatters.push((function(t){if(!e.$isEmpty(t)){if(!U(t))throw Uo("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}))}function co(e){return N(e)&&!U(e)&&(e=parseFloat(e)),k(e)?void 0:e}function ho(e){return(0|e)===e}function po(e){var t=e.toString(),n=t.indexOf(".");if(-1===n){if(-1<e&&e<1){var r=/e-(\d+)$/.exec(t);if(r)return Number(r[1])}return 0}return t.length-n-1}function fo(e,t,n){var r=Number(e),i=!ho(r),o=!ho(t),s=!ho(n);if(i||o||s){var a=i?po(r):0,u=o?po(t):0,l=s?po(n):0,c=Math.max(a,u,l),h=Math.pow(10,c);r*=h,t*=h,n*=h,i&&(r=Math.round(r)),o&&(t=Math.round(t)),s&&(n=Math.round(n))}return(r-t)%n==0}function go(e,t,n,r,i){var o;if(N(r)){if(!(o=e(r)).constant)throw Uo("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}var mo=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,s,a){a[0]&&(ro[h(s.type)]||ro.text)(i,o,s,a[0],t,e,n,r)}}}}],vo=function(){var e={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(e){this.setAttribute("value",e)}};return{restrict:"E",priority:200,compile:function(t,n){if("hidden"===h(n.type))return{pre:function(t,n,r,i){var o=n[0];o.parentNode&&o.parentNode.insertBefore(o,o.nextSibling),Object.defineProperty&&Object.defineProperty(o,"value",e)}}}}},yo=/^(true|false|\d+)$/,bo=function(){function e(e,t,n){var r=N(n)?n:9===o?"":null;e.prop("value",r),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){return yo.test(n.ngValue)?function(t,n,r){e(n,r,t.$eval(r.ngValue))}:function(t,n,r){t.$watch(r.ngValue,(function(t){e(n,r,t)}))}}}},$o=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,(function(e){n.textContent=Be(e)}))}}}}],wo=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",(function(e){r.textContent=L(e)?"":e}))}}}}],xo=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),s=t(i.ngBindHtml,(function(t){return e.valueOf(t)}));return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(s,(function(){var n=o(t);r.html(e.getTrustedHtml(n)||"")}))}}}}],So=_({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push((function(){e.$eval(n.ngChange)}))}});function Eo(e,t){var n;return e="ngClass"+e,["$parse",function(s){return{restrict:"AC",link:function(a,u,l){var c,h=u.data("$classCounts"),p=!0;function d(e,t){var n=[];return x(e,(function(e){(t>0||h[e])&&(h[e]=(h[e]||0)+t,h[e]===+(t>0)&&n.push(e))})),n.join(" ")}h||(h=Me(),u.data("$classCounts",h)),"ngClass"!==e&&(n||(n=s("$index",(function(e){return 1&e}))),a.$watch(n,(function(e){e===t?(n=d(i(n=c),1),l.$addClass(n)):function(e){e=d(i(e),-1),l.$removeClass(e)}(c);var n;p=e}))),a.$watch(s(l[e],o),(function(e){p===t&&function(e,t){var n=i(e),o=i(t),s=r(n,o),a=r(o,n),u=d(s,-1),c=d(a,1);l.$addClass(c),l.$removeClass(u)}(c,e);c=e}))}}}];function r(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i===t[o])continue e;n.push(i)}return n}function i(e){return e&&e.split(" ")}function o(e){if(!e)return e;var t=e;return q(e)?t=e.map(o).join(" "):M(e)?t=Object.keys(e).filter((function(t){return e[t]})).join(" "):H(e)||(t=e+""),t}}var Ao=Eo("",!0),Co=Eo("Odd",0),Fo=Eo("Even",1),To=ji({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Do=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ro={},ko={blur:!0,focus:!0};function Io(e,t,n,r,i,o){return{restrict:"A",compile:function(s,a){var u=e(a[r]);return function(e,r){r.on(i,(function(r){var i=function(){u(e,{$event:r})};if(t.$$phase)if(o)e.$evalAsync(i);else try{i()}catch(e){n(e)}else e.$apply(i)}))}}}}x("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),(function(e){var t=bn("ng-"+e);Ro[t]=["$parse","$rootScope","$exceptionHandler",function(n,r,i){return Io(n,r,i,t,e,ko[e])}]}));var Po=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,s){var a,u,l;n.$watch(i.ngIf,(function(n){n?u||s((function(n,o){u=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),a={clone:n},e.enter(n,r.parent(),r)})):(l&&(l.remove(),l=null),u&&(u.$destroy(),u=null),a&&(l=Ne(a.clone),e.leave(l).done((function(e){!1!==e&&(l=null)})),a=null))}))}}}],Oo=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:b.noop,compile:function(r,i){var o=i.ngInclude||i.src,s=i.onload||"",a=i.autoscroll;return function(r,i,u,l,c){var h,p,d,f=0,g=function(){p&&(p.remove(),p=null),h&&(h.$destroy(),h=null),d&&(n.leave(d).done((function(e){!1!==e&&(p=null)})),p=d,d=null)};r.$watch(o,(function(o){var u=function(e){!1===e||!N(a)||a&&!r.$eval(a)||t()},p=++f;o?(e(o,!0).then((function(e){if(!r.$$destroyed&&p===f){var t=r.$new();l.template=e;var a=c(t,(function(e){g(),n.enter(e,null,i).done(u)}));d=a,(h=t).$emit("$includeContentLoaded",o),r.$eval(s)}}),(function(){r.$$destroyed||p===f&&(g(),r.$emit("$includeContentError",o))})),r.$emit("$includeContentRequested",o)):(g(),l.template=null)}))}}}}],_o=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){if(m.call(r[0]).match(/SVG/))return r.empty(),void t(ct(o.template,e.document).childNodes)(n,(function(e){r.append(e)}),{futureParentElement:r});r.html(o.template),t(r.contents())(n)}}}],jo=ji({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Lo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var i=n.ngList||", ",o="false"!==n.ngTrim,s=o?Z(i):i;r.$parsers.push((function(e){if(!L(e)){var t=[];return e&&x(e.split(s),(function(e){e&&t.push(o?Z(e):e)})),t}})),r.$formatters.push((function(e){if(q(e))return e.join(i)})),r.$isEmpty=function(e){return!e||!e.length}}}},No="ng-valid",Mo="ng-invalid",Bo="ng-pristine",Ho="ng-dirty",Uo=i("ngModel");function Vo(e,t,n,r,i,o,s,a,u){var l;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=u(n.name||"",!1)(e),this.$$parentForm=Mi,this.$options=qo,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=e,this.$$rootScope=e.$root,this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=s,this.$$parse=i,this.$$q=a,this.$$exceptionHandler=t,qi(this),(l=this).$$scope.$watch((function(e){var t=l.$$ngModelGet(e);return t===l.$modelValue||l.$modelValue!=l.$modelValue&&t!=t||l.$$setModelValue(t),t}))}Vo.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Vo.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return K(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){K(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw Uo("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,$e(this.$$element))},$render:P,$isEmpty:function(e){return L(e)||""===e||null===e||e!=e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Ho),this.$$animate.addClass(this.$$element,Bo)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Bo),this.$$animate.addClass(this.$$element,Ho),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!k(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(t,e,(function(e){i||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==r&&o.$$writeModelToScope())}))}},$$runValidators:function(e,t,n){this.$$currentValidationRunId++;var r,i,o=this.$$currentValidationRunId,s=this;(function(){var e=s.$$parserName;if(!L(s.$$parserValid))return s.$$parserValid||(x(s.$validators,(function(e,t){a(t,null)})),x(s.$asyncValidators,(function(e,t){a(t,null)}))),a(e,s.$$parserValid),s.$$parserValid;a(e,null);return!0})()?!function(){var n=!0;if(x(s.$validators,(function(r,i){var o=Boolean(r(e,t));n=n&&o,a(i,o)})),!n)return x(s.$asyncValidators,(function(e,t){a(t,null)})),!1;return!0}()?u(!1):(r=[],i=!0,x(s.$asyncValidators,(function(n,o){var s=n(e,t);if(!J(s))throw Uo("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);a(o,void 0),r.push(s.then((function(){a(o,!0)}),(function(){i=!1,a(o,!1)})))})),r.length?s.$$q.all(r).then((function(){u(i)}),P):u(!0)):u(!1);function a(e,t){o===s.$$currentValidationRunId&&s.$setValidity(e,t)}function u(e){o===s.$$currentValidationRunId&&n(e)}},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var e=this.$$lastCommittedViewValue,t=this;if(this.$$parserValid=!L(e)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var n=0;n<this.$parsers.length;n++)if(L(e=this.$parsers[n](e))){this.$$parserValid=!1;break}k(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var r=this.$modelValue,i=this.$options.getOption("allowInvalid");function o(){t.$modelValue!==r&&t.$$writeModelToScope()}this.$$rawModelValue=e,i&&(this.$modelValue=e,o()),this.$$runValidators(e,this.$$lastCommittedViewValue,(function(n){i||(t.$modelValue=n?e:void 0,o())}))},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),x(this.$viewChangeListeners,(function(e){try{e()}catch(e){this.$$exceptionHandler(e)}}),this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");U(t[e])?t=t[e]:U(t.default)&&-1===this.$options.getOption("updateOn").indexOf(e)?t=t.default:U(t["*"])&&(t=t["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;t>0?this.$$pendingDebounce=this.$$timeout((function(){n.$commitViewValue()}),t):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply((function(){n.$commitViewValue()}))},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e),this.$$setUpdateOnEvents()},$processModelValue:function(){var e=this.$$format();this.$viewValue!==e&&(this.$$updateEmptyClasses(e),this.$viewValue=this.$$lastCommittedViewValue=e,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,P))},$$format:function(){for(var e=this.$formatters,t=e.length,n=this.$modelValue;t--;)n=e[t](n);return n},$$setModelValue:function(e){this.$modelValue=this.$$rawModelValue=e,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(e){this.$$debounceViewValueCommit(e&&e.type)}},zi({clazz:Vo,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var qo,zo=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Vo,priority:1,compile:function(t){return t.addClass(Bo).addClass("ng-untouched").addClass(No),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm,s=r[2];s&&(i.$options=s.$options),i.$$initGetterSetters(),o.$addControl(i),n.$observe("name",(function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)})),e.$on("$destroy",(function(){i.$$parentForm.$removeControl(i)}))},post:function(t,n,r,i){var o=i[0];function s(){o.$setTouched()}o.$$setUpdateOnEvents(),n.on("blur",(function(){o.$touched||(e.$$phase?t.$evalAsync(s):t.$apply(s))}))}}}}}],Ko=/(\s+|^)default(\s+|$)/;function Go(e){this.$$options=e}Go.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return x(e=T({},e),(function(n,r){"$inherit"===n?"*"===r?t=!0:(e[r]=this.$$options[r],"updateOn"===r&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(e.updateOnDefault=!1,e[r]=Z(n.replace(Ko,(function(){return e.updateOnDefault=!0," "}))))}),this),t&&(delete e["*"],Yo(e,this.$$options)),Yo(e,qo.$$options),new Go(e)}},qo=new Go({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Wo=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:qo,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}};function Yo(e,t){x(t,(function(t,n){N(e[n])||(e[n]=t)}))}var Xo=ji({terminal:!0,priority:1e3}),Jo=i("ngOptions"),Qo=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Zo=["$compile","$document","$parse",function(t,n,r){var i=e.document.createElement("option"),o=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=P},post:function(e,a,u,l){for(var c=l[0],h=l[1],p=u.multiple,d=0,f=a.children(),g=f.length;d<g;d++)if(""===f[d].value){c.hasEmptyOption=!0,c.emptyOption=f.eq(d);break}a.empty();var m,v=!!c.emptyOption;s(i.cloneNode(!1)).val("?");var y=function(e,t,n){var i=e.match(Qo);if(!i)throw Jo("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,$e(t));var o=i[5]||i[7],s=i[6],a=/ as /.test(i[0])&&i[1],u=i[9],l=r(i[2]?i[1]:o),c=a&&r(a)||l,h=u&&r(u),p=u?function(e,t){return h(n,t)}:function(e){return Nt(e)},d=function(e,t){return p(e,b(e,t))},f=r(i[2]||i[1]),g=r(i[3]||""),m=r(i[4]||""),v=r(i[8]),y={},b=s?function(e,t){return y[s]=t,y[o]=e,y}:function(e){return y[o]=e,y};function $(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function x(e){var t;if(!s&&w(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}return{trackBy:u,getTrackByValue:d,getWatchables:r(v,(function(e){for(var t=[],r=x(e=e||[]),o=r.length,s=0;s<o;s++){var a=e===r?s:r[s],u=e[a],l=b(u,a),c=p(u,l);if(t.push(c),i[2]||i[1]){var h=f(n,l);t.push(h)}if(i[4]){var d=m(n,l);t.push(d)}}return t})),getOptions:function(){for(var e=[],t={},r=v(n)||[],i=x(r),o=i.length,s=0;s<o;s++){var a=r===i?s:i[s],l=r[a],h=b(l,a),y=c(n,h),w=p(y,h),S=new $(w,y,f(n,h),g(n,h),m(n,h));e.push(S),t[w]=S}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[d(e)]},getViewValueFromOption:function(e){return u?oe(e.viewValue):e.viewValue}}}}}(u.ngOptions,a,e),b=n[0].createDocumentFragment();function $(e,t){var n=i.cloneNode(!1);t.appendChild(n),function(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label);t.value=e.selectValue}(e,n)}function S(e){var t=m.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}c.generateUnknownOptionValue=function(e){return"?"},p?(c.writeValue=function(e){if(m){var t=e&&e.map(S)||[];m.items.forEach((function(e){e.element.selected&&!re(t,e)&&(e.element.selected=!1)}))}},c.readValue=function(){var e=a.val()||[],t=[];return x(e,(function(e){var n=m.selectValueMap[e];n&&!n.disabled&&t.push(m.getViewValueFromOption(n))})),t},y.trackBy&&e.$watchCollection((function(){if(q(h.$viewValue))return h.$viewValue.map((function(e){return y.getTrackByValue(e)}))}),(function(){h.$render()}))):(c.writeValue=function(e){if(m){var t=a[0].options[a[0].selectedIndex],n=m.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),n?(a[0].value!==n.selectValue&&(c.removeUnknownOption(),a[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):c.selectUnknownOrEmptyOption(e)}},c.readValue=function(){var e=m.selectValueMap[a.val()];return e&&!e.disabled?(c.unselectEmptyOption(),c.removeUnknownOption(),m.getViewValueFromOption(e)):null},y.trackBy&&e.$watch((function(){return y.getTrackByValue(h.$viewValue)}),(function(){h.$render()}))),v&&(t(c.emptyOption)(e),a.prepend(c.emptyOption),8===c.emptyOption[0].nodeType?(c.hasEmptyOption=!1,c.registerOption=function(e,t){""===t.val()&&(c.hasEmptyOption=!0,c.emptyOption=t,c.emptyOption.removeClass("ng-scope"),h.$render(),t.on("$destroy",(function(){var e=c.$isEmptyOptionSelected();c.hasEmptyOption=!1,c.emptyOption=void 0,e&&h.$render()})))}):c.emptyOption.removeClass("ng-scope")),e.$watchCollection(y.getWatchables,(function(){var e=m&&c.readValue();if(m)for(var t=m.items.length-1;t>=0;t--){var n=m.items[t];N(n.group)?Tt(n.element.parentNode):Tt(n.element)}m=y.getOptions();var r={};if(m.items.forEach((function(e){var t;N(e.group)?((t=r[e.group])||(t=o.cloneNode(!1),b.appendChild(t),t.label=null===e.group?"null":e.group,r[e.group]=t),$(e,t)):$(e,b)})),a[0].appendChild(b),h.$render(),!h.$isEmpty(e)){var i=c.readValue();(y.trackBy||p?ae(e,i):e===i)||(h.$setViewValue(i),h.$render())}}))}}}}],es=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(o,s,a){var u,l=a.count,c=a.$attr.when&&s.attr(a.$attr.when),p=a.offset||0,d=o.$eval(c)||{},f={},g=t.startSymbol(),m=t.endSymbol(),v=g+l+"-"+p+m,y=b.noop;function $(e){s.text(e||"")}x(a,(function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+h(n[2]);d[r]=s.attr(a.$attr[t])}})),x(d,(function(e,n){f[n]=t(e.replace(r,v))})),o.$watch(l,(function(t){var r=parseFloat(t),i=k(r);if(i||r in d||(r=e.pluralCat(r-p)),!(r===u||i&&k(u))){y();var s=f[r];L(s)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+c),y=P,$()):y=o.$watch(s,$),u=r}}))}}}],ts=i("ngRef"),ns=["$parse",function(e){return{priority:-1,restrict:"A",compile:function(t,n){var r=bn(ne(t)),i=e(n.ngRef),o=i.assign||function(){throw ts("nonassign",'Expression in ngRef="{0}" is non-assignable!',n.ngRef)};return function(e,t,s){var a;if(s.hasOwnProperty("ngRefRead")){if("$element"===s.ngRefRead)a=t;else if(!(a=t.data("$"+s.ngRefRead+"Controller")))throw ts("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',s.ngRefRead,n.ngRef)}else a=t.data("$"+r+"Controller");o(e,a=a||t),t.on("$destroy",(function(){i(e)===a&&o(e,null)}))}}}}],rs=["$parse","$animate","$compile",function(e,t,n){var r=i("ngRepeat"),o=function(e,t,n,r,i,o,s){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===s-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))},s=function(e){return e.clone[0]},a=function(e){return e.clone[e.clone.length-1]},u=function(e,t,n){return Nt(n)},l=function(e,t){return t};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,h){var p=h.ngRepeat,d=n.$$createComment("end ngRepeat",p),f=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw r("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var g=f[1],m=f[2],v=f[3],y=f[4];if(!(f=g.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw r("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var b,$=f[3]||f[1],S=f[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw r("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);if(y){var E={$id:Nt},A=e(y);b=function(e,t,n,r){return S&&(E[S]=t),E[$]=n,E.$index=r,A(e,E)}}return function(e,n,i,h,f){var g=Me();e.$watchCollection(m,(function(i){var h,m,y,A,C,F,T,D,R,k,I,P,O=n[0],_=Me();if(v&&(e[v]=i),w(i))R=i,D=b||u;else for(var j in D=b||l,R=[],i)c.call(i,j)&&"$"!==j.charAt(0)&&R.push(j);for(A=R.length,I=new Array(A),h=0;h<A;h++)if(C=i===R?h:R[h],F=i[C],T=D(e,C,F,h),g[T])k=g[T],delete g[T],_[T]=k,I[h]=k;else{if(_[T])throw x(I,(function(e){e&&e.scope&&(g[e.id]=e)})),r("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,T,F);I[h]={id:T,scope:void 0,clone:void 0},_[T]=!0}for(var L in E&&(E[$]=void 0),g){if(P=Ne((k=g[L]).clone),t.leave(P),P[0].parentNode)for(h=0,m=P.length;h<m;h++)P[h].$$NG_REMOVED=!0;k.scope.$destroy()}for(h=0;h<A;h++)if(C=i===R?h:R[h],F=i[C],(k=I[h]).scope){y=O;do{y=y.nextSibling}while(y&&y.$$NG_REMOVED);s(k)!==y&&t.move(Ne(k.clone),null,O),O=a(k),o(k.scope,h,$,F,S,C,A)}else f((function(e,n){k.scope=n;var r=d.cloneNode(!1);e[e.length++]=r,t.enter(e,null,O),O=r,k.clone=e,_[k.id]=k,o(k.scope,h,$,F,S,C,A)}));g=_}))}}}}],is=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,(function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})}))}}}],os=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,(function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})}))}}}],ss=ji((function(e,t,n){e.$watchCollection(n.ngStyle,(function(e,n){n&&e!==n&&x(n,(function(e,n){t.css(n,"")})),e&&t.css(e)}))})),as=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,o){var s=i.ngSwitch||i.on,a=[],u=[],l=[],c=[],h=function(e,t){return function(n){!1!==n&&e.splice(t,1)}};n.$watch(s,(function(n){for(var r,i;l.length;)e.cancel(l.pop());for(r=0,i=c.length;r<i;++r){var s=Ne(u[r].clone);c[r].$destroy(),(l[r]=e.leave(s)).done(h(l,r))}u.length=0,c.length=0,(a=o.cases["!"+n]||o.cases["?"])&&x(a,(function(n){n.transclude((function(r,i){c.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");var s={clone:r};u.push(s),e.enter(r,o.parent(),o)}))}))}))}}}],us=ji({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){x(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter((function(e,t,n){return n[t-1]!==e})),(function(e){r.cases["!"+e]=r.cases["!"+e]||[],r.cases["!"+e].push({transclude:i,element:t})}))}}),ls=ji({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),cs=i("ngTransclude"),hs=["$compile",function(e){return{restrict:"EAC",compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,i,o){if(!o)throw cs("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",$e(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var s=r.ngTransclude||r.ngTranscludeSlot;function a(){n(e,(function(e){t.append(e)}))}o((function(e,n){e.length&&function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r.nodeType!==He||r.nodeValue.trim())return!0}}(e)?t.append(e):(a(),n.$destroy())}),null,s),s&&!o.isSlotFilled(s)&&a()}}}}],ps=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],ds={$setViewValue:P,$render:P};function fs(e,t){e.prop("selected",t),e.attr("selected",t)}var gs=["$element","$scope",function(t,n){var r=this,i=new Ht;r.selectValueMap={},r.ngModelCtrl=ds,r.multiple=!1,r.unknownOption=s(e.document.createElement("option")),r.hasEmptyOption=!1,r.emptyOption=void 0,r.renderUnknownOption=function(e){var n=r.generateUnknownOptionValue(e);r.unknownOption.val(n),t.prepend(r.unknownOption),fs(r.unknownOption,!0),t.val(n)},r.updateUnknownOption=function(e){var n=r.generateUnknownOptionValue(e);r.unknownOption.val(n),fs(r.unknownOption,!0),t.val(n)},r.generateUnknownOptionValue=function(e){return"? "+Nt(e)+" ?"},r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.selectEmptyOption=function(){r.emptyOption&&(t.val(""),fs(r.emptyOption,!0))},r.unselectEmptyOption=function(){r.hasEmptyOption&&fs(r.emptyOption,!1)},n.$on("$destroy",(function(){r.renderUnknownOption=P})),r.readValue=function(){var e=t.val(),n=e in r.selectValueMap?r.selectValueMap[e]:e;return r.hasOption(n)?n:null},r.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];if(n&&fs(s(n),!1),r.hasOption(e)){r.removeUnknownOption();var i=Nt(e);t.val(i in r.selectValueMap?i:e);var o=t[0].options[t[0].selectedIndex];fs(s(o),!0)}else r.selectUnknownOrEmptyOption(e)},r.addOption=function(e,t){if(8!==t[0].nodeType){Le(e,'"option value"'),""===e&&(r.hasEmptyOption=!0,r.emptyOption=t);var n=i.get(e)||0;i.set(e,n+1),a()}},r.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.delete(e),""===e&&(r.hasEmptyOption=!1,r.emptyOption=void 0)):i.set(e,t-1))},r.hasOption=function(e){return!!i.get(e)},r.$hasEmptyOption=function(){return r.hasEmptyOption},r.$isUnknownOptionSelected=function(){return t[0].options[0]===r.unknownOption[0]},r.$isEmptyOptionSelected=function(){return r.hasEmptyOption&&t[0].options[t[0].selectedIndex]===r.emptyOption[0]},r.selectUnknownOrEmptyOption=function(e){null==e&&r.emptyOption?(r.removeUnknownOption(),r.selectEmptyOption()):r.unknownOption.parent().length?r.updateUnknownOption(e):r.renderUnknownOption(e)};var o=!1;function a(){o||(o=!0,n.$$postDigest((function(){o=!1,r.ngModelCtrl.$render()})))}var u=!1;function l(e){u||(u=!0,n.$$postDigest((function(){n.$$destroyed||(u=!1,r.ngModelCtrl.$setViewValue(r.readValue()),e&&r.ngModelCtrl.$render())})))}r.registerOption=function(e,t,n,i,o){var s,u;n.$attr.ngValue?n.$observe("value",(function(e){var n,i=t.prop("selected");N(u)&&(r.removeOption(s),delete r.selectValueMap[u],n=!0),u=Nt(e),s=e,r.selectValueMap[u]=e,r.addOption(e,t),t.attr("value",u),n&&i&&l()})):i?n.$observe("value",(function(e){var n;r.readValue();var i=t.prop("selected");N(s)&&(r.removeOption(s),n=!0),s=e,r.addOption(e,t),n&&i&&l()})):o?e.$watch(o,(function(e,i){n.$set("value",e);var o=t.prop("selected");i!==e&&r.removeOption(i),r.addOption(e,t),i&&o&&l()})):r.addOption(n.value,t);n.$observe("disabled",(function(e){("true"===e||e&&t.prop("selected"))&&(r.multiple?l(!0):(r.ngModelCtrl.$setViewValue(null),r.ngModelCtrl.$render()))})),t.on("$destroy",(function(){var e=r.readValue(),t=n.value;r.removeOption(t),a(),(r.multiple&&e&&-1!==e.indexOf(t)||e===t)&&l(!0)}))}}],ms=function(){return{restrict:"E",require:["select","?ngModel"],controller:gs,priority:1,link:{pre:function(e,t,n,r){var i=r[0],o=r[1];if(!o)return void(i.registerOption=P);if(i.ngModelCtrl=o,t.on("change",(function(){i.removeUnknownOption(),e.$apply((function(){o.$setViewValue(i.readValue())}))})),n.multiple){i.multiple=!0,i.readValue=function(){var e=[];return x(t.find("option"),(function(t){if(t.selected&&!t.disabled){var n=t.value;e.push(n in i.selectValueMap?i.selectValueMap[n]:n)}})),e},i.writeValue=function(e){x(t.find("option"),(function(t){var n=!!e&&(re(e,t.value)||re(e,i.selectValueMap[t.value]));n!==t.selected&&fs(s(t),n)}))};var a,u=NaN;e.$watch((function(){u!==o.$viewValue||ae(a,o.$viewValue)||(a=Ue(o.$viewValue),o.$render()),u=o.$viewValue})),o.$isEmpty=function(e){return!e||0===e.length}}},post:function(e,t,n,r){var i=r[1];if(!i)return;var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}}},vs=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var r,i;return N(n.ngValue)||(N(n.value)?r=e(n.value,!0):(i=e(t.text(),!0))||n.$set("value",t.text())),function(e,t,n){var o=t.parent(),s=o.data("$selectController")||o.parent().data("$selectController");s&&s.registerOption(e,t,n,r,i)}}}}],ys=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,r,i){if(i){var o=r.hasOwnProperty("required")||e(r.ngRequired)(t);r.ngRequired||(r.required=!0),i.$validators.required=function(e,t){return!o||!i.$isEmpty(t)},r.$observe("required",(function(e){o!==e&&(o=e,i.$validate())}))}}}}],bs=["$parse",function(e){return{restrict:"A",require:"?ngModel",compile:function(t,n){var r,i;return n.ngPattern&&(r=n.ngPattern,i="/"===n.ngPattern.charAt(0)&&l.test(n.ngPattern)?function(){return n.ngPattern}:e(n.ngPattern)),function(e,t,n,o){if(o){var s=n.pattern;n.ngPattern?s=i(e):r=n.pattern;var a=xs(s,r,t);n.$observe("pattern",(function(e){var n=a;a=xs(e,r,t),(n&&n.toString())!==(a&&a.toString())&&o.$validate()})),o.$validators.pattern=function(e,t){return o.$isEmpty(t)||L(a)||a.test(t)}}}}}}],$s=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,r,i){if(i){var o=r.maxlength||e(r.ngMaxlength)(t),s=Ss(o);r.$observe("maxlength",(function(e){o!==e&&(s=Ss(e),o=e,i.$validate())})),i.$validators.maxlength=function(e,t){return s<0||i.$isEmpty(t)||t.length<=s}}}}}],ws=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,r,i){if(i){var o=r.minlength||e(r.ngMinlength)(t),s=Ss(o)||-1;r.$observe("minlength",(function(e){o!==e&&(s=Ss(e)||-1,o=e,i.$validate())})),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=s}}}}}];function xs(e,t,n){if(e){if(H(e)&&(e=new RegExp("^"+e+"$")),!e.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",t,e,$e(n));return e}}function Ss(e){var t=R(e);return k(t)?-1:t}e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load AngularJS more than once."):(!function(){var t;if(!Pe){var n=le();(a=L(n)?e.jQuery:n?e[n]:void 0)&&a.fn.on?(s=a,T(a.fn,{scope:Rt.scope,isolateScope:Rt.isolateScope,controller:Rt.controller,injector:Rt.injector,inheritedData:Rt.inheritedData})):s=pt,t=s.cleanData,s.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)(n=(s._data(r)||{}).events)&&n.$destroy&&s(r).triggerHandler("$destroy");t(e)},b.element=s,Pe=!0}}(),function(t){T(t,{errorHandlingConfig:n,bootstrap:Te,copy:oe,extend:T,merge:D,equals:ae,element:s,forEach:x,injector:Jt,noop:P,bind:pe,toJson:fe,fromJson:ge,identity:O,isUndefined:L,isDefined:N,isString:H,isFunction:K,isObject:M,isNumber:U,isElement:te,isArray:q,version:qe,isDate:V,callbacks:{$$counter:0},getTestability:Re,reloadWithDebugInfo:De,UNSAFE_restoreLegacyJqLiteXHTMLReplacement:Oe,$$minErr:i,$$csp:ue,$$encodeUriSegment:Se,$$encodeUriQuery:Ee,$$lowercase:h,$$stringify:Be,$$uppercase:p}),(u=function(e){var t=i("$injector"),n=i("ng");function r(e,t,n){return e[t]||(e[t]=n())}var o=r(e,"angular",Object);return o.$$minErr=o.$$minErr||i,r(o,"module",(function(){var e={};return function(i,o,s){var a={};return function(e,t){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid {0} name",t)}(i,"module"),o&&e.hasOwnProperty(i)&&(e[i]=null),r(e,i,(function(){if(!o)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var e=[],r=[],u=[],l=h("$injector","invoke","push",r),c={_invokeQueue:e,_configBlocks:r,_runBlocks:u,info:function(e){if(N(e)){if(!M(e))throw n("aobj","Argument '{0}' must be an object","value");return a=e,this}return a},requires:o,name:i,provider:p("$provide","provider"),factory:p("$provide","factory"),service:p("$provide","service"),value:h("$provide","value"),constant:h("$provide","constant","unshift"),decorator:p("$provide","decorator",r),animation:p("$animateProvider","register"),filter:p("$filterProvider","register"),controller:p("$controllerProvider","register"),directive:p("$compileProvider","directive"),component:p("$compileProvider","component"),config:l,run:function(e){return u.push(e),this}};return s&&l(s),c;function h(t,n,r,i){return i||(i=e),function(){return i[r||"push"]([t,n,arguments]),c}}function p(t,n,r){return r||(r=e),function(e,o){return o&&K(o)&&(o.$$moduleName=i),r.push([t,n,arguments]),c}}}))}}))}(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Ur}),e.provider("$compile",gn).directive({a:Li,input:mo,textarea:mo,form:Ui,script:ps,select:ms,option:vs,ngBind:$o,ngBindHtml:xo,ngBindTemplate:wo,ngClass:Ao,ngClassEven:Fo,ngClassOdd:Co,ngCloak:To,ngController:Do,ngForm:Vi,ngHide:os,ngIf:Po,ngInclude:Oo,ngInit:jo,ngNonBindable:Xo,ngPluralize:es,ngRef:ns,ngRepeat:rs,ngShow:is,ngStyle:ss,ngSwitch:as,ngSwitchWhen:us,ngSwitchDefault:ls,ngOptions:Zo,ngTransclude:hs,ngModel:zo,ngList:Lo,ngChange:So,pattern:bs,ngPattern:bs,required:ys,ngRequired:ys,minlength:ws,ngMinlength:ws,maxlength:$s,ngMaxlength:$s,ngValue:bo,ngModelOptions:Wo}).directive({ngInclude:_o,input:vo}).directive(Ni).directive(Ro),e.provider({$anchorScroll:Qt,$animate:on,$animateCss:un,$$animateJs:nn,$$animateQueue:rn,$$AnimateRunner:an,$$animateAsyncRun:sn,$browser:cn,$cacheFactory:hn,$controller:An,$document:Cn,$$isDocumentHidden:Fn,$exceptionHandler:Tn,$filter:di,$$forceReflow:Dn,$interpolate:Gn,$interval:Yn,$$intervalFactory:Xn,$http:Vn,$httpParamSerializer:jn,$httpParamSerializerJQLike:Ln,$httpBackend:zn,$xhrFactory:qn,$jsonpCallbacks:Jn,$location:fr,$log:gr,$parse:Pr,$rootScope:Hr,$q:Or,$$q:_r,$sce:Yr,$sceDelegate:Wr,$sniffer:Xr,$$taskTrackerFactory:Jr,$templateCache:pn,$templateRequest:ei,$$testability:ti,$timeout:ri,$window:ci,$$rAF:Br,$$jqLite:Lt,$$Map:Ut,$$cookieReader:pi})}]).info({angularVersion:"1.8.3"})}(b),b.module("ngLocale",[],["$provide",function(e){var t="one",n="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-Â¤",negSuf:"",posPre:"Â¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,r){var i=0|e,o=function(e,t){var n=t;void 0===n&&(n=Math.min(function(e){var t=(e+="").indexOf(".");return-1==t?0:e.length-t-1}(e),3));var r=Math.pow(10,n);return{v:n,f:(e*r|0)%r}}(e,r);return 1==i&&0==o.v?t:n}})}]),s((function(){Fe(e.document,Te)})))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend(window.angular.element("<style>").text('@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}'))},37:function(e,t){angular.module("graphdb.framework.rest.plugins.service",[]).factory("PluginsRestService",n);function n(e){return{togglePlugin:function(t,n,r){return n?e.post(`repositories/${t}/statements`,void 0,{params:{update:`INSERT DATA { <u:a> <http://www.ontotext.com/owlim/system#stopplugin> "${r}".}`}}):e.post(`repositories/${t}/statements`,void 0,{params:{update:`INSERT DATA { <u:a> <http://www.ontotext.com/owlim/system#startplugin> "${r}".}`}})},getPlugins:function(t){return e.get("repositories/"+t,{params:{query:"select ?s ?o where { ?s <http://www.ontotext.com/owlim/system#listplugins> ?o .}"}})}}}n.$inject=["$http"]},370:function(e,t,n){
/**
 * oclazyload - Load modules on demand (lazy load) with angularJS
 * @version v1.0.10
 * @link https://github.com/ocombe/ocLazyLoad
 * @license MIT
 * @author Olivier Combe <olivier.combe@gmail.com>
 */
!function(n,r){"use strict";var i=["ng","oc.lazyLoad"],o={},s=[],a=[],u=[],l=[],c=n.noop,h={},p=[];n.module("oc.lazyLoad",["ng"]).provider("$ocLazyLoad",["$controllerProvider","$provide","$compileProvider","$filterProvider","$injector","$animateProvider",function(e,t,d,m,v,y){var b={},$={$controllerProvider:e,$compileProvider:d,$filterProvider:m,$provide:t,$injector:v,$animateProvider:y},w=!1,x=!1,S=[],E={};S.push=function(e){-1===this.indexOf(e)&&Array.prototype.push.apply(this,arguments)},this.config=function(e){n.isDefined(e.modules)&&(n.isArray(e.modules)?n.forEach(e.modules,(function(e){b[e.name]=e})):b[e.modules.name]=e.modules),n.isDefined(e.debug)&&(w=e.debug),n.isDefined(e.events)&&(x=e.events)},this._init=function(e){if(0===a.length){var t=[e],o=["ng:app","ng-app","x-ng-app","data-ng-app"],s=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,u=function(e){return e&&t.push(e)};n.forEach(o,(function(t){o[t]=!0,u(document.getElementById(t)),t=t.replace(":","\\:"),void 0!==e[0]&&e[0].querySelectorAll&&(n.forEach(e[0].querySelectorAll("."+t),u),n.forEach(e[0].querySelectorAll("."+t+"\\:"),u),n.forEach(e[0].querySelectorAll("["+t+"]"),u))})),n.forEach(t,(function(t){if(0===a.length){var r=" "+e.className+" ",i=s.exec(r);i?a.push((i[2]||"").replace(/\s+/g,",")):n.forEach(t.attributes,(function(e){0===a.length&&o[e.name]&&a.push(e.value)}))}}))}0!==a.length||(r.jasmine||r.mocha)&&n.isDefined(n.mock)||console.error("No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad.");n.forEach(a,(function(e){!function e(t){if(-1===i.indexOf(t)){i.push(t);var r=n.module(t);D(null,r._invokeQueue,t),D(null,r._configBlocks,t),n.forEach(r.requires,e)}}(e)})),a=[],l.pop()};var A=function(e){try{return JSON.stringify(e)}catch(r){var t=[];return JSON.stringify(e,(function(e,r){if(n.isObject(r)&&null!==r){if(-1!==t.indexOf(r))return;t.push(r)}return r}))}},C=function(e){var t,n,r=0;if(0==e.length)return r;for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r};function F(e,t,r){if(t){var o,s,a,l=[];for(o=t.length-1;o>=0;o--)if(s=t[o],n.isString(s)||(s=R(s)),s&&-1===p.indexOf(s)&&(!b[s]||-1!==u.indexOf(s))){var d=-1===i.indexOf(s);if(a=g(s),d&&(i.push(s),F(e,a.requires,r)),a._runBlocks.length>0)for(h[s]=[];a._runBlocks.length>0;)h[s].push(a._runBlocks.shift());n.isDefined(h[s])&&(d||r.rerun)&&(l=l.concat(h[s])),D(e,a._invokeQueue,s,r.reconfig),D(e,a._configBlocks,s,r.reconfig),c(d?"ocLazyLoad.moduleLoaded":"ocLazyLoad.moduleReloaded",s),t.pop(),p.push(s)}var f=e.getInstanceInjector();n.forEach(l,(function(e){f.invoke(e)}))}}function T(e,t){var r=e[2][0],i=e[1],s=!1;n.isUndefined(o[t])&&(o[t]={}),n.isUndefined(o[t][i])&&(o[t][i]={});var a=function(e,r){o[t][i].hasOwnProperty(e)||(o[t][i][e]=[]),function(e,t){var r,i=!0;t.length&&(r=u(e),n.forEach(t,(function(e){i=i&&u(e)!==r})));return i}(r,o[t][i][e])&&(s=!0,o[t][i][e].push(r),c("ocLazyLoad.componentLoaded",[t,i,e]))};function u(e){return n.isArray(e)?C(e.toString()):n.isObject(e)?C(A(e)):n.isDefined(e)&&null!==e?C(e.toString()):e}if(n.isString(r))a(r,e[2][1]);else{if(!n.isObject(r))return!1;n.forEach(r,(function(e,t){n.isString(e)?a(e,r[1]):a(t,e)}))}return s}function D(e,t,r,i){var o,a,u,l;if(t)for(o=0,a=t.length;o<a;o++)if(u=t[o],n.isArray(u)){if(null!==e){if(!e.hasOwnProperty(u[0]))throw new Error("unsupported provider "+u[0]);l=e[u[0]]}var c=T(u,r);if("invoke"!==u[1])c&&n.isDefined(l)&&l[u[1]].apply(l,u[2]);else{var h=function(e){var t=s.indexOf(r+"-"+e);(-1===t||i)&&(-1===t&&s.push(r+"-"+e),n.isDefined(l)&&l[u[1]].apply(l,u[2]))};if(n.isFunction(u[2][0]))h(u[2][0]);else if(n.isArray(u[2][0]))for(var p=0,d=u[2][0].length;p<d;p++)n.isFunction(u[2][0][p])&&h(u[2][0][p])}}}function R(e){var t=null;return n.isString(e)?t=e:n.isObject(e)&&e.hasOwnProperty("name")&&n.isString(e.name)&&(t=e.name),t}function k(e){if(!n.isString(e))return!1;try{return g(e)}catch(e){if(/No module/.test(e)||e.message.indexOf("$injector:nomod")>-1)return!1}}this.$get=["$log","$rootElement","$rootScope","$cacheFactory","$q",function(e,t,r,s,u){var h,d=s("ocLazyLoad");function m(t){var n=u.defer();return e.error(t.message),n.reject(t),n.promise}return w||((e={}).error=n.noop,e.warn=n.noop,e.info=n.noop),$.getInstanceInjector=function(){return h||(h=t.data("$injector")||n.injector())},{_broadcast:c=function(t,n){x&&r.$broadcast(t,n),w&&e.info(t,n)},_$log:e,_getFilesCache:function(){return d},toggleWatch:function(e){e?l.push(!0):l.pop()},getModuleConfig:function(e){if(!n.isString(e))throw new Error("You need to give the name of the module to get");return b[e]?n.copy(b[e]):null},setModuleConfig:function(e){if(!n.isObject(e))throw new Error("You need to give the module config object to set");return b[e.name]=e,e},getModules:function(){return i},isLoaded:function(e){var t=function(e){var t=i.indexOf(e)>-1;return t||(t=!!k(e)),t};if(n.isString(e)&&(e=[e]),n.isArray(e)){var r,o;for(r=0,o=e.length;r<o;r++)if(!t(e[r]))return!1;return!0}throw new Error("You need to define the module(s) name(s)")},_getModuleName:R,_getModule:function(e){try{return g(e)}catch(t){throw(/No module/.test(t)||t.message.indexOf("$injector:nomod")>-1)&&(t.message='The module "'+A(e)+'" that you are trying to load does not exist. '+t.message),t}},moduleExists:k,_loadDependencies:function(e,t){var r,i,o,s=[],a=this;if(null===(e=a._getModuleName(e)))return u.when();try{r=a._getModule(e)}catch(e){return m(e)}return i=a.getRequires(r),n.forEach(i,(function(r){if(n.isString(r)){var i=a.getModuleConfig(r);if(null===i)return void S.push(r);r=i,i.name=void 0}if(a.moduleExists(r.name))return 0!==(o=r.files.filter((function(e){return a.getModuleConfig(r.name).files.indexOf(e)<0}))).length&&a._$log.warn('Module "',e,'" attempted to redefine configuration for dependency. "',r.name,'"\n Additional Files Loaded:',o),n.isDefined(a.filesLoader)?void s.push(a.filesLoader(r,t).then((function(){return a._loadDependencies(r)}))):m(new Error("Error: New dependencies need to be loaded from external files ("+r.files+"), but no loader has been defined."));if(n.isArray(r)){var u=[];n.forEach(r,(function(e){var t=a.getModuleConfig(e);null===t?u.push(e):t.files&&(u=u.concat(t.files))})),u.length>0&&(r={files:u})}else n.isObject(r)&&r.hasOwnProperty("name")&&r.name&&(a.setModuleConfig(r),S.push(r.name));if(n.isDefined(r.files)&&0!==r.files.length){if(!n.isDefined(a.filesLoader))return m(new Error('Error: the module "'+r.name+'" is defined in external files ('+r.files+"), but no loader has been defined."));s.push(a.filesLoader(r,t).then((function(){return a._loadDependencies(r)})))}})),u.all(s)},inject:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],i=this,o=u.defer();if(n.isDefined(e)&&null!==e){if(n.isArray(e)){var s=[];return n.forEach(e,(function(e){s.push(i.inject(e,t,r))})),u.all(s)}i._addToLoadList(i._getModuleName(e),!0,r)}if(a.length>0){var l=a.slice(),c=function e(n){S.push(n),E[n]=o.promise,i._loadDependencies(n,t).then((function(){try{p=[],F($,S,t)}catch(e){return i._$log.error(e.message),void o.reject(e)}a.length>0?e(a.shift()):o.resolve(l)}),(function(e){o.reject(e)}))};c(a.shift())}else{if(t&&t.name&&E[t.name])return E[t.name];o.resolve()}return o.promise},getRequires:function(e){var t=[];return n.forEach(e.requires,(function(e){-1===i.indexOf(e)&&t.push(e)})),t},_invokeQueue:D,_registerInvokeList:T,_register:F,_addToLoadList:f,_unregister:function(e){n.isDefined(e)&&n.isArray(e)&&n.forEach(e,(function(e){o[e]=void 0}))}}}],this._init(n.element(r.document))}]);var d=n.bootstrap;n.bootstrap=function(e,t,r){return i=["ng","oc.lazyLoad"],o={},s=[],a=[],u=[],l=[],c=n.noop,h={},p=[],n.forEach(t.slice(),(function(e){f(e,!0,!0)})),d(e,t,r)};var f=function(e,t,r){(l.length>0||t)&&n.isString(e)&&-1===a.indexOf(e)&&(a.push(e),r&&u.push(e))},g=n.module;n.module=function(e,t,n){return f(e,!1,!0),g(e,t,n)},e.exports===t&&(e.exports="oc.lazyLoad")}(angular,window),function(e){"use strict";e.module("oc.lazyLoad").directive("ocLazyLoad",["$ocLazyLoad","$compile","$animate","$parse","$timeout",function(t,n,r,i,o){return{restrict:"A",terminal:!0,priority:1e3,compile:function(o,s){var a=o[0].innerHTML;return o.html(""),function(o,s,u){var l=i(u.ocLazyLoad);o.$watch((function(){return l(o)||u.ocLazyLoad}),(function(i){e.isDefined(i)&&t.load(i).then((function(){r.enter(a,s),n(s.contents())(o)}))}),!0)}}}}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q","$window","$interval",function(t,n,r,i){var o=!1,s=r.document.getElementsByTagName("head")[0]||r.document.getElementsByTagName("body")[0];return t.buildElement=function(a,u,l){var c,h,p=n.defer(),d=t._getFilesCache(),f=function(e){var t=(new Date).getTime();return e.indexOf("?")>=0?"&"===e.substring(0,e.length-1)?e+"_dc="+t:e+"&_dc="+t:e+"?_dc="+t};switch(e.isUndefined(d.get(u))&&d.put(u,p.promise),a){case"css":(c=r.document.createElement("link")).type="text/css",c.rel="stylesheet",c.href=!1===l.cache?f(u):u;break;case"js":(c=r.document.createElement("script")).src=!1===l.cache?f(u):u;break;default:d.remove(u),p.reject(new Error('Requested type "'+a+'" is not known. Could not inject "'+u+'"'))}c.onload=c.onreadystatechange=function(e){c.readyState&&!/^c|loade/.test(c.readyState)||h||(c.onload=c.onreadystatechange=null,h=1,t._broadcast("ocLazyLoad.fileLoaded",u),p.resolve(c))},c.onerror=function(){d.remove(u),p.reject(new Error("Unable to load "+u))},c.async=l.serie?0:1;var g=s.lastChild;if(l.insertBefore){var m=e.element(e.isDefined(window.jQuery)?l.insertBefore:document.querySelector(l.insertBefore));m&&m.length>0&&(g=m[0])}if(g.parentNode.insertBefore(c,g),"css"==a){var v=r.navigator.userAgent.toLowerCase();if(v.indexOf("phantomjs/1.9")>-1)o=!0;else if(/iP(hone|od|ad)/.test(r.navigator.platform)){var y=r.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),b=parseFloat([parseInt(y[1],10),parseInt(y[2],10),parseInt(y[3]||0,10)].join("."));o=b<6}else if(v.indexOf("android")>-1){var $=parseFloat(v.slice(v.indexOf("android")+8));o=$<4.4}else if(v.indexOf("safari")>-1){var w=v.match(/version\/([\.\d]+)/i);o=w&&w[1]&&parseFloat(w[1])<6}if(o)var x=1e3,S=i((function(){try{c.sheet.cssRules,i.cancel(S),c.onload()}catch(e){--x<=0&&c.onerror()}}),20)}return p.promise},t}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,n){return t.filesLoader=function(r){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=[],s=[],a=[],u=[],l=null,c=t._getFilesCache();t.toggleWatch(!0),e.extend(i,r);var h=function(n){var r,h=null;if(e.isObject(n)&&(h=n.type,n=n.path),l=c.get(n),e.isUndefined(l)||!1===i.cache){if(null!==(r=/^(css|less|html|htm|js)?(?=!)/.exec(n))&&(h=r[1],n=n.substr(r[1].length+1,n.length)),!h)if(null!==(r=/[.](css|less|html|htm|js)?((\?|#).*)?$/.exec(n)))h=r[1];else{if(t.jsLoader.hasOwnProperty("ocLazyLoadLoader")||!t.jsLoader.hasOwnProperty("requirejs"))return void t._$log.error("File type could not be determined. "+n);h="js"}"css"!==h&&"less"!==h||-1!==o.indexOf(n)?"html"!==h&&"htm"!==h||-1!==s.indexOf(n)?"js"===h||-1===a.indexOf(n)?a.push(n):t._$log.error("File type is not valid. "+n):s.push(n):o.push(n)}else l&&u.push(l)};if(i.serie?h(i.files.shift()):e.forEach(i.files,(function(e){h(e)})),o.length>0){var p=n.defer();t.cssLoader(o,(function(n){e.isDefined(n)&&t.cssLoader.hasOwnProperty("ocLazyLoadLoader")?(t._$log.error(n),p.reject(n)):p.resolve()}),i),u.push(p.promise)}if(s.length>0){var d=n.defer();t.templatesLoader(s,(function(n){e.isDefined(n)&&t.templatesLoader.hasOwnProperty("ocLazyLoadLoader")?(t._$log.error(n),d.reject(n)):d.resolve()}),i),u.push(d.promise)}if(a.length>0){var f=n.defer();t.jsLoader(a,(function(n){e.isDefined(n)&&(t.jsLoader.hasOwnProperty("ocLazyLoadLoader")||t.jsLoader.hasOwnProperty("requirejs"))?(t._$log.error(n),f.reject(n)):f.resolve()}),i),u.push(f.promise)}if(0===u.length){var g=n.defer(),m="Error: no file to load has been found, if you're trying to load an existing module you should use the 'inject' method instead of 'load'.";return t._$log.error(m),g.reject(m),g.promise}return i.serie&&i.files.length>0?n.all(u).then((function(){return t.filesLoader(r,i)})):n.all(u).finally((function(e){return t.toggleWatch(!1),e}))},t.load=function(r){var i,o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=this,a=null,u=[],l=n.defer(),c=e.copy(r),h=e.copy(o);if(e.isArray(c))return e.forEach(c,(function(e){u.push(s.load(e,h))})),n.all(u).then((function(e){l.resolve(e)}),(function(e){l.reject(e)})),l.promise;if(e.isString(c)?(a=s.getModuleConfig(c))||(a={files:[c]}):e.isObject(c)&&(a=e.isDefined(c.path)&&e.isDefined(c.type)?{files:[c]}:s.setModuleConfig(c)),null===a){var p=s._getModuleName(c);return i='Module "'+(p||"unknown")+'" is not configured, cannot load.',t._$log.error(i),l.reject(new Error(i)),l.promise}e.isDefined(a.template)&&(e.isUndefined(a.files)&&(a.files=[]),e.isString(a.template)?a.files.push(a.template):e.isArray(a.template)&&a.files.concat(a.template));var d=e.extend({},h,a);return e.isUndefined(a.files)&&e.isDefined(a.name)&&t.moduleExists(a.name)?t.inject(a.name,d,!0):(t.filesLoader(a,d).then((function(){t.inject(null,d).then((function(e){l.resolve(e)}),(function(e){l.reject(e)}))}),(function(e){l.reject(e)})),l.promise)},t}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,n){return t.cssLoader=function(r,i,o){var s=[];e.forEach(r,(function(e){s.push(t.buildElement("css",e,o))})),n.all(s).then((function(){i()}),(function(e){i(e)}))},t.cssLoader.ocLazyLoadLoader=!0,t}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,n){return t.jsLoader=function(r,i,o){var s=[];e.forEach(r,(function(e){s.push(t.buildElement("js",e,o))})),n.all(s).then((function(){i()}),(function(e){i(e)}))},t.jsLoader.ocLazyLoadLoader=!0,t}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$templateCache","$q","$http",function(t,n,r,i){return t.templatesLoader=function(o,s,a){var u=[],l=t._getFilesCache();return e.forEach(o,(function(t){var o=r.defer();u.push(o.promise),i.get(t,a).then((function(r){var i=r.data;e.isString(i)&&i.length>0&&e.forEach(e.element(i),(function(e){"SCRIPT"===e.nodeName&&"text/ng-template"===e.type&&n.put(e.id,e.innerHTML)})),e.isUndefined(l.get(t))&&l.put(t,!0),o.resolve()})).catch((function(e){o.reject(new Error('Unable to load template file "'+t+'": '+e.data))}))})),r.all(u).then((function(){s()}),(function(e){s(e)}))},t.templatesLoader.ocLazyLoadLoader=!0,t}])}])}(angular),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),i=r.length>>>0;if(0===i)return-1;var o=+t||0;if(Math.abs(o)===1/0&&(o=0),o>=i)return-1;for(n=Math.max(o>=0?o:i-Math.abs(o),0);n<i;){if(n in r&&r[n]===e)return n;n++}return-1})},371:function(e,t,n){var r;
/*!
 * angular-translate - v2.19.0 - 2021-09-02
 * 
 * Copyright (c) 2021 The angular-translate team, Pascal Precht; Licensed MIT
 */void 0===(r=function(){return function(){function e(e,t){"use strict";return function(n){if(!n||!(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix)))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var r=function(r){if(!r||!angular.isString(r.prefix)||!angular.isString(r.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var i=[r.prefix,n.key,r.suffix].join("");return angular.isObject(n.fileMap)&&n.fileMap[i]&&(i=n.fileMap[i]),t(angular.extend({url:i,method:"GET"},n.$http)).then((function(e){return e.data}),(function(){return e.reject(n.key)}))},i=[],o=n.files.length,s=0;s<o;s++)i.push(r({prefix:n.files[s].prefix,key:n.key,suffix:n.files[s].suffix}));return e.all(i).then((function(e){for(var t=e.length,n={},r=0;r<t;r++)for(var i in e[r])n[i]=e[r][i];return n}))}}return e.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",e),e.displayName="$translateStaticFilesLoader","pascalprecht.translate"}()}.apply(t,[]))||(e.exports=r)},372:function(e,t,n){var r={"./alert-box.entry.js":[374,345],"./confirmation-dialog_9.entry.js":[375,281],"./copy-resource-link-button.entry.js":[376,282],"./keyboard-shortcuts-dialog.entry.js":[377,346],"./loader-component.entry.js":[378,285],"./ontotext-download-as.entry.js":[379,283],"./ontotext-dropdown.entry.js":[380,284],"./ontotext-editable-text-field.entry.js":[381,347],"./ontotext-pagination.entry.js":[382,348]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id=372,e.exports=i},373:function(e,t,n){var r={"./aclmanagement/app":[249,9,5,14,59],"./aclmanagement/app.js":[249,9,5,14,59],"./aclmanagement/controllers":[240,9,14],"./aclmanagement/controllers.js":[240,9,14],"./aclmanagement/directives/custom-role-prefix.directive":[109,7,95],"./aclmanagement/directives/custom-role-prefix.directive.js":[109,7,95],"./aclmanagement/model":[101,9,96],"./aclmanagement/model.js":[101,9,96],"./aclmanagement/plugin":[250,7,97],"./aclmanagement/plugin.js":[250,7,97],"./autocomplete/app":[251,9,48],"./autocomplete/app.js":[251,9,48],"./autocomplete/controllers":[146,9,61],"./autocomplete/controllers.js":[146,9,61],"./autocomplete/plugin":[252,7,98],"./autocomplete/plugin.js":[252,7,98],"./autocomplete/templates/modal/add-label.html":[383,7,286],"./backup-and-restore/app":[253,9,62],"./backup-and-restore/app.js":[253,9,62],"./backup-and-restore/controllers":[147,7,99],"./backup-and-restore/controllers.js":[147,7,99],"./backup-and-restore/plugin":[254,7,100],"./backup-and-restore/plugin.js":[254,7,100],"./chatgpt/app":[255,9,63],"./chatgpt/app.js":[255,9,63],"./chatgpt/controllers":[148,7,101],"./chatgpt/controllers.js":[148,7,101],"./chatgpt/plugin":[256,7,102],"./chatgpt/plugin.js":[256,7,102],"./chatgpt/templates/chat.html":[384,7,287],"./chatgpt/templates/chatInfo.html":[385,7,288],"./chatgpt/templates/modal/settings.html":[386,7,289],"./clustermanagement/app":[257,9,3,7,9,38],"./clustermanagement/app.js":[257,9,3,7,9,38],"./clustermanagement/controllers/add-location.controller":[154,7,103],"./clustermanagement/controllers/add-location.controller.js":[154,7,103],"./clustermanagement/controllers/add-nodes.controller":[155,9,64],"./clustermanagement/controllers/add-nodes.controller.js":[155,9,64],"./clustermanagement/controllers/cluster-management.controller":[241,9,9,155],"./clustermanagement/controllers/cluster-management.controller.js":[241,9,9,155],"./clustermanagement/controllers/create-cluster.controller":[151,9,65],"./clustermanagement/controllers/create-cluster.controller.js":[151,9,65],"./clustermanagement/controllers/delete-cluster.controller":[153,7,104],"./clustermanagement/controllers/delete-cluster.controller.js":[153,7,104],"./clustermanagement/controllers/edit-cluster.controller":[152,9,66],"./clustermanagement/controllers/edit-cluster.controller.js":[152,9,66],"./clustermanagement/controllers/remove-nodes.controller":[150,7,105],"./clustermanagement/controllers/remove-nodes.controller.js":[150,7,105],"./clustermanagement/controllers/replace-nodes.controller":[156,9,49],"./clustermanagement/controllers/replace-nodes.controller.js":[156,9,49],"./clustermanagement/directives/cluster-configuration.directive":[160,9,67],"./clustermanagement/directives/cluster-configuration.directive.js":[160,9,67],"./clustermanagement/directives/cluster-graphical-view.directive":[157,9,7,68],"./clustermanagement/directives/cluster-graphical-view.directive.js":[157,9,7,68],"./clustermanagement/directives/cluster-legend.directive":[158,9,7],"./clustermanagement/directives/cluster-legend.directive.js":[158,9,7],"./clustermanagement/events":[82,9,106],"./clustermanagement/events.js":[82,9,106],"./clustermanagement/plugin":[258,7,107],"./clustermanagement/plugin.js":[258,7,107],"./clustermanagement/services/cluster-drawing.service":[87,9,69],"./clustermanagement/services/cluster-drawing.service.js":[87,9,69],"./clustermanagement/services/cluster-view-context.service":[149,7,108],"./clustermanagement/services/cluster-view-context.service.js":[149,7,108],"./clustermanagement/services/remote-locations.service":[81,9,109],"./clustermanagement/services/remote-locations.service.js":[81,9,109],"./clustermanagement/templates/cluster-configuration.html":[387,7,290],"./clustermanagement/templates/cluster-legend.html":[388,7,291],"./clustermanagement/templates/modal/add-nodes-dialog.html":[389,7,292],"./clustermanagement/templates/modal/cluster-create-dialog.html":[390,7,293],"./clustermanagement/templates/modal/cluster-delete-dialog.html":[391,7,294],"./clustermanagement/templates/modal/cluster-edit-dialog.html":[392,7,295],"./clustermanagement/templates/modal/remove-nodes-dialog.html":[393,7,296],"./clustermanagement/templates/modal/replace-nodes-dialog.html":[394,7,297],"./controllers":[46,9],"./controllers.js":[46,9],"./core/angularCancelOnNavigateModule":[53,7],"./core/angularCancelOnNavigateModule.js":[53,7],"./core/components/export-settings-modal/controller":[88,9,110],"./core/components/export-settings-modal/controller.js":[88,9,110],"./core/components/export-settings-modal/exportSettingsModal.html":[395,7,298],"./core/controllers":[34,7],"./core/controllers.js":[34,7],"./core/directives":[28,9],"./core/directives.js":[28,9],"./core/directives/angulartooltips/angular-tooltips":[57,7],"./core/directives/angulartooltips/angular-tooltips.js":[57,7],"./core/directives/autocomplete/autocomplete.directive":[60,9],"./core/directives/autocomplete/autocomplete.directive.js":[60,9],"./core/directives/autocomplete/templates/autocomplete.html":[396,7,299],"./core/directives/copy-to-clipboard/copy-to-clipboard.directive":[56,7],"./core/directives/copy-to-clipboard/copy-to-clipboard.directive.js":[56,7],"./core/directives/fit-text.directive":[161,7,111],"./core/directives/fit-text.directive.js":[161,7,111],"./core/directives/languageselector/language-selector.directive":[55,9],"./core/directives/languageselector/language-selector.directive.js":[55,9],"./core/directives/languageselector/templates/languageSelector.html":[397,7,300],"./core/directives/operations-statuses-monitor/operations-statuses-monitor.directive":[59,9],"./core/directives/operations-statuses-monitor/operations-statuses-monitor.directive.js":[59,9],"./core/directives/operations-statuses-monitor/templates/operations-statuses-monitor.html":[398,7,301],"./core/directives/paginations":[83,7,112],"./core/directives/paginations.js":[83,7,112],"./core/directives/prop-indeterminate/prop-indeterminate.directive":[61,7],"./core/directives/prop-indeterminate/prop-indeterminate.directive.js":[61,7],"./core/directives/rdfresourcesearch/rdf-resource-search.directive":[54,9],"./core/directives/rdfresourcesearch/rdf-resource-search.directive.js":[54,9],"./core/directives/rdfresourcesearch/templates/rdfResourceSearchTemplate.html":[399,7,302],"./core/directives/uppercased.directive":[58,7],"./core/directives/uppercased.directive.js":[58,7],"./core/directives/yasgui-component/templates/yasgui-component.html":[400,7,303],"./core/directives/yasgui-component/yasgui-component-directive.util":[14,9],"./core/directives/yasgui-component/yasgui-component-directive.util.js":[14,9],"./core/directives/yasgui-component/yasgui-component.directive":[93,9,1,2],"./core/directives/yasgui-component/yasgui-component.directive.js":[93,9,1,2],"./core/directives/yasgui-component/yasgui-persistence-migration.service":[167,9,72],"./core/directives/yasgui-component/yasgui-persistence-migration.service.js":[167,9,72],"./core/interceptors/authentication.interceptor":[41,9],"./core/interceptors/authentication.interceptor.js":[41,9],"./core/interceptors/unauthorized.interceptor":[40,9],"./core/interceptors/unauthorized.interceptor.js":[40,9],"./core/loading-hint":[42,7,113],"./core/loading-hint.js":[42,7,113],"./core/services":[7,9],"./core/services.js":[7,9],"./core/services/autocomplete-status.service":[51,7],"./core/services/autocomplete-status.service.js":[51,7],"./core/services/event-emitter-service":[15,7],"./core/services/event-emitter-service.js":[15,7],"./core/services/jwt-auth.service":[30,9],"./core/services/jwt-auth.service.js":[30,9],"./core/services/license.service":[49,7],"./core/services/license.service.js":[49,7],"./core/services/openid-auth.service":[43,9],"./core/services/openid-auth.service.js":[43,9],"./core/services/repositories.service":[29,9],"./core/services/repositories.service.js":[29,9],"./core/services/theme-service":[47,7],"./core/services/theme-service.js":[47,7],"./core/services/translation.service":[162,7,114],"./core/services/translation.service.js":[162,7,114],"./core/templates/core-errors.html":[401,7,304],"./core/templates/inactive-plugin-warning-page.html":[402,7,305],"./core/templates/modal/copy-to-clipboard-modal.html":[403,7,306],"./core/templates/modal/modal-simple.html":[404,7,307],"./core/templates/modal/modal-warning.html":[405,7,308],"./core/templates/search-resource-input.html":[406,7,309],"./explore/app":[259,9,1,8,16,2,18],"./explore/app.js":[259,9,1,8,16,2,18],"./explore/controllers":[169,9,8,19],"./explore/controllers.js":[169,9,8,19],"./explore/directives":[170,9,115],"./explore/directives.js":[170,9,115],"./explore/plugin":[260,7,116],"./explore/plugin.js":[260,7,116],"./explore/statements.service":[168,7,117],"./explore/statements.service.js":[168,7,117],"./explore/templates/viewTrig.html":[407,7,310],"./export/app":[261,9,11,70],"./export/app.js":[261,9,11,70],"./export/controllers":[242,9,11],"./export/controllers.js":[242,9,11],"./export/plugin":[262,7,118],"./export/plugin.js":[262,7,118],"./externalsync/app":[263,9,40],"./externalsync/app.js":[263,9,40],"./externalsync/controllers":[125,9,73],"./externalsync/controllers.js":[125,9,73],"./externalsync/directives":[172,9,119],"./externalsync/directives.js":[172,9,119],"./externalsync/plugin":[264,7,120],"./externalsync/plugin.js":[264,7,120],"./externalsync/templates/deleteConnector.html":[408,7,311],"./graphexplore/app":[265,9,1,3,47,2,17],"./graphexplore/app.js":[265,9,1,3,47,2,17],"./graphexplore/controllers/dependencies-chord.controller":[179,7,121],"./graphexplore/controllers/dependencies-chord.controller.js":[179,7,121],"./graphexplore/controllers/domain-range-graph.controller":[178,9,122],"./graphexplore/controllers/domain-range-graph.controller.js":[178,9,122],"./graphexplore/controllers/graphs-config.controller":[181,9,27],"./graphexplore/controllers/graphs-config.controller.js":[181,9,27],"./graphexplore/controllers/graphs-visualizations.controller":[180,9,3,28],"./graphexplore/controllers/graphs-visualizations.controller.js":[180,9,3,28],"./graphexplore/controllers/rdf-class-hierarchy.controller":[177,9,123],"./graphexplore/controllers/rdf-class-hierarchy.controller.js":[177,9,123],"./graphexplore/directives/dependencies-chord.directive":[186,9,3,41],"./graphexplore/directives/dependencies-chord.directive.js":[186,9,3,41],"./graphexplore/directives/domain-range-graph.directive":[183,9,3,42],"./graphexplore/directives/domain-range-graph.directive.js":[183,9,3,42],"./graphexplore/directives/list-items-search-filter.directive":[187,7,124],"./graphexplore/directives/list-items-search-filter.directive.js":[187,7,124],"./graphexplore/directives/rdf-class-hierarchy.directive":[182,9,3,29],"./graphexplore/directives/rdf-class-hierarchy.directive.js":[182,9,3,29],"./graphexplore/directives/rdfs-comment-label.directive":[185,7,125],"./graphexplore/directives/rdfs-comment-label.directive.js":[185,7,125],"./graphexplore/directives/search-icon-input.directive":[188,7,126],"./graphexplore/directives/search-icon-input.directive.js":[188,7,126],"./graphexplore/directives/system-repo-warning.directive":[184,7,127],"./graphexplore/directives/system-repo-warning.directive.js":[184,7,127],"./graphexplore/plugin":[266,7,128],"./graphexplore/plugin.js":[266,7,128],"./graphexplore/services/rdfs-label-comment.service":[174,7,129],"./graphexplore/services/rdfs-label-comment.service.js":[174,7,129],"./graphexplore/services/ui-scroll.service":[173,7,130],"./graphexplore/services/ui-scroll.service.js":[173,7,130],"./graphexplore/templates/listItemsSearchFilterTemplate.html":[409,7,312],"./graphexplore/templates/modal/save-graph.html":[410,7,313],"./graphexplore/templates/rdfClassHierarchyClassCountSliderHelpTemplate.html":[411,7,314],"./graphexplore/templates/rdfsCommentLabelTemplate.html":[412,7,315],"./graphexplore/templates/searchIconInputTemplate.html":[413,7,316],"./graphexplore/templates/systemRepoWarningTemplate.html":[414,7,317],"./guides/app":[267,9,50],"./guides/app.js":[267,9,50],"./guides/controllers":[189,9,71],"./guides/controllers.js":[189,9,71],"./guides/directives":[52,7],"./guides/directives.js":[52,7],"./guides/guide-utils":[2,9],"./guides/guide-utils.js":[2,9],"./guides/guides.service":[39,9],"./guides/guides.service.js":[39,9],"./guides/plugin":[268,7,131],"./guides/plugin.js":[268,7,131],"./guides/steps/complex/class-hierarchy/plugin":[269,7,132],"./guides/steps/complex/class-hierarchy/plugin.js":[269,7,132],"./guides/steps/complex/create-repository/plugin":[270,7,133],"./guides/steps/complex/create-repository/plugin.js":[270,7,133],"./guides/steps/complex/download-guide-resource/plugin":[271,7,134],"./guides/steps/complex/download-guide-resource/plugin.js":[271,7,134],"./guides/steps/complex/enable-autocomplete/plugin":[272,7,135],"./guides/steps/complex/enable-autocomplete/plugin.js":[272,7,135],"./guides/steps/complex/execute-sparql-query/plugin":[273,7,136],"./guides/steps/complex/execute-sparql-query/plugin.js":[273,7,136],"./guides/steps/complex/import-rdf-file/plugin":[274,7,137],"./guides/steps/complex/import-rdf-file/plugin.js":[274,7,137],"./guides/steps/complex/main-menu/plugin":[275,7,138],"./guides/steps/complex/main-menu/plugin.js":[275,7,138],"./guides/steps/complex/select-repository/plugin":[276,7,139],"./guides/steps/complex/select-repository/plugin.js":[276,7,139],"./guides/steps/complex/table-graph/plugin":[277,7,140],"./guides/steps/complex/table-graph/plugin.js":[277,7,140],"./guides/steps/complex/visual-graph/plugin":[278,7,141],"./guides/steps/complex/visual-graph/plugin.js":[278,7,141],"./guides/steps/complex/welcome/plugin":[279,7,142],"./guides/steps/complex/welcome/plugin.js":[279,7,142],"./guides/steps/core/plugin":[280,7,143],"./guides/steps/core/plugin.js":[280,7,143],"./guides/tour-lib-services/shepherd.service":[13,9],"./guides/tour-lib-services/shepherd.service.js":[13,9],"./import/app":[281,9,6,13,51],"./import/app.js":[281,9,6,13,51],"./import/controllers/file-override-confirmation.controller":[197,9,144],"./import/controllers/file-override-confirmation.controller.js":[197,9,144],"./import/controllers/import-resource-message-dialog.controller":[128,7,145],"./import/controllers/import-resource-message-dialog.controller.js":[128,7,145],"./import/controllers/import-text-snippet.controller":[196,7,146],"./import/controllers/import-text-snippet.controller.js":[196,7,146],"./import/controllers/import-url.controller":[195,7,147],"./import/controllers/import-url.controller.js":[195,7,147],"./import/controllers/import-view.controller":[190,9,6],"./import/controllers/import-view.controller.js":[190,9,6],"./import/controllers/settings-modal.controller":[194,9,6],"./import/controllers/settings-modal.controller.js":[194,9,6],"./import/controllers/tab.controller":[193,9,52],"./import/controllers/tab.controller.js":[193,9,52],"./import/directives/import-progress-indicator.directive":[203,7,148],"./import/directives/import-progress-indicator.directive.js":[203,7,148],"./import/directives/import-resource-message.directive":[204,9,43],"./import/directives/import-resource-message.directive.js":[204,9,43],"./import/directives/import-resource-status-info.directive":[205,7,149],"./import/directives/import-resource-status-info.directive.js":[205,7,149],"./import/directives/import-resource-tree.directive":[243,9,13,35],"./import/directives/import-resource-tree.directive.js":[243,9,13,35],"./import/directives/validate-uri.directive":[202,7,150],"./import/directives/validate-uri.directive.js":[202,7,150],"./import/plugin":[282,7,151],"./import/plugin.js":[282,7,151],"./import/services/file-prefix-registry":[201,9,74],"./import/services/file-prefix-registry.js":[201,9,74],"./import/services/import-context.service":[78,9,75],"./import/services/import-context.service.js":[78,9,75],"./import/services/import-resource-tree.service":[206,9,44],"./import/services/import-resource-tree.service.js":[206,9,44],"./import/templates/file-override-confirmation.html":[415,7,318],"./import/templates/fileSizeLimitInfo.html":[416,7,319],"./import/templates/import-resource-message-dialog.html":[417,7,320],"./import/templates/import-resource-message.html":[418,7,321],"./import/templates/import-resource-status-info.html":[419,7,322],"./import/templates/import-resource-tree.html":[420,7,323],"./import/templates/settingsModal.html":[421,7,324],"./import/templates/textSnippet.html":[422,7,325],"./import/templates/urlImport.html":[423,7,326],"./jdbc/app":[283,9,0,1,2,4,22],"./jdbc/app.js":[283,9,0,1,2,4,22],"./jdbc/controllers":[216,9,25],"./jdbc/controllers.js":[216,9,25],"./jdbc/plugin":[284,7,152],"./jdbc/plugin.js":[284,7,152],"./models/clustermanagement/cluster-management-constants":[159,9,53],"./models/clustermanagement/cluster-management-constants.js":[159,9,53],"./models/clustermanagement/node-state":[110,9,153],"./models/clustermanagement/node-state.js":[110,9,153],"./models/clustermanagement/recovery-status-state":[285,9,154],"./models/clustermanagement/recovery-status-state.js":[285,9,154],"./models/clustermanagement/states":[75,9,156],"./models/clustermanagement/states.js":[75,9,156],"./models/connectors/connector-command":[218,9,157],"./models/connectors/connector-command.js":[218,9,157],"./models/graphs/graphs-config":[76,9,158],"./models/graphs/graphs-config.js":[76,9,158],"./models/import/file-formats":[198,9,159],"./models/import/file-formats.js":[198,9,159],"./models/import/import-parsing-settings":[100,9,160],"./models/import/import-parsing-settings.js":[100,9,160],"./models/import/import-resource":[126,9,45],"./models/import/import-resource-format":[286,9,161],"./models/import/import-resource-format.js":[286,9,161],"./models/import/import-resource-status":[68,9,162],"./models/import/import-resource-status.js":[68,9,162],"./models/import/import-resource-tree-element":[104,9,77],"./models/import/import-resource-tree-element.js":[104,9,77],"./models/import/import-resource-type":[77,9,163],"./models/import/import-resource-type.js":[77,9,163],"./models/import/import-resource.js":[126,9,45],"./models/import/import-settings":[287,9,164],"./models/import/import-settings.js":[287,9,164],"./models/import/sorting-type":[127,9,165],"./models/import/sorting-type.js":[127,9,165],"./models/jdbc/jdbc-column":[131,9,167],"./models/jdbc/jdbc-column-type":[288,9,166],"./models/jdbc/jdbc-column-type.js":[288,9,166],"./models/jdbc/jdbc-column.js":[131,9,167],"./models/jdbc/jdbc-configuration-error":[130,9,168],"./models/jdbc/jdbc-configuration-error.js":[130,9,168],"./models/jdbc/jdbc-configuration-info":[129,9,169],"./models/jdbc/jdbc-configuration-info.js":[129,9,169],"./models/monitoring/backup-and-restore-info":[21,9],"./models/monitoring/backup-and-restore-info.js":[21,9],"./models/monitoring/backup-and-restore-operation-type":[289,9,170],"./models/monitoring/backup-and-restore-operation-type.js":[289,9,170],"./models/monitoring/cluster-status":[290,9,171],"./models/monitoring/cluster-status.js":[290,9,171],"./models/monitoring/operations/active-operation-input":[291,9,172],"./models/monitoring/operations/active-operation-input.js":[291,9,172],"./models/monitoring/operations/active-operation-model":[8,9],"./models/monitoring/operations/active-operation-model.js":[8,9],"./models/monitoring/operations/active-operations-input":[292,9,173],"./models/monitoring/operations/active-operations-input.js":[292,9,173],"./models/monitoring/operations/active-operations-model":[24,9],"./models/monitoring/operations/active-operations-model.js":[24,9],"./models/monitoring/operations/operation-group":[1,9],"./models/monitoring/operations/operation-group.js":[1,9],"./models/monitoring/operations/operation-monitoring-constants":[9,9],"./models/monitoring/operations/operation-monitoring-constants.js":[9,9],"./models/monitoring/operations/operation-status":[4,9],"./models/monitoring/operations/operation-status.js":[4,9],"./models/monitoring/operations/operation-type":[3,9],"./models/monitoring/operations/operation-type.js":[3,9],"./models/monitoring/snapshot-option-info":[22,9],"./models/monitoring/snapshot-option-info.js":[22,9],"./models/ontop/jdbc-driver-type":[85,9,174],"./models/ontop/jdbc-driver-type.js":[85,9,174],"./models/ontop/ontop-connection-information":[132,9,175],"./models/ontop/ontop-connection-information.js":[132,9,175],"./models/ontop/ontop-driver-data":[133,9,78],"./models/ontop/ontop-driver-data.js":[133,9,78],"./models/ontop/ontop-file-info":[134,9,176],"./models/ontop/ontop-file-info.js":[134,9,176],"./models/ontop/ontop-file-type":[135,9,177],"./models/ontop/ontop-file-type.js":[135,9,177],"./models/ontop/ontop-repository-error":[136,9,178],"./models/ontop/ontop-repository-error.js":[136,9,178],"./models/ontotext-yasgui/before-update-query-result":[219,9,179],"./models/ontotext-yasgui/before-update-query-result.js":[219,9,179],"./models/ontotext-yasgui/count-query-request-event":[115,9,180],"./models/ontotext-yasgui/count-query-request-event.js":[115,9,180],"./models/ontotext-yasgui/count-query-response-event":[114,9,181],"./models/ontotext-yasgui/count-query-response-event.js":[114,9,181],"./models/ontotext-yasgui/download-as-event":[116,9,182],"./models/ontotext-yasgui/download-as-event.js":[116,9,182],"./models/ontotext-yasgui/event-data":[112,9,184],"./models/ontotext-yasgui/event-data-type":[89,9,183],"./models/ontotext-yasgui/event-data-type.js":[89,9,183],"./models/ontotext-yasgui/event-data.js":[112,9,184],"./models/ontotext-yasgui/keyboard-shortcut-name":[166,9,185],"./models/ontotext-yasgui/keyboard-shortcut-name.js":[166,9,185],"./models/ontotext-yasgui/notification-message-event":[117,9,186],"./models/ontotext-yasgui/notification-message-event.js":[117,9,186],"./models/ontotext-yasgui/notification-message-type":[293,9,187],"./models/ontotext-yasgui/notification-message-type.js":[293,9,187],"./models/ontotext-yasgui/ongoing-requests-info":[294,9,188],"./models/ontotext-yasgui/ongoing-requests-info.js":[294,9,188],"./models/ontotext-yasgui/ontotext-yasgui-config":[295,9,31],"./models/ontotext-yasgui/ontotext-yasgui-config.js":[295,9,31],"./models/ontotext-yasgui/query-executed-event":[118,9,189],"./models/ontotext-yasgui/query-executed-event.js":[118,9,189],"./models/ontotext-yasgui/query-mode":[12,9],"./models/ontotext-yasgui/query-mode.js":[12,9],"./models/ontotext-yasgui/query-request-event":[113,9,190],"./models/ontotext-yasgui/query-request-event.js":[113,9,190],"./models/ontotext-yasgui/query-type":[96,9,191],"./models/ontotext-yasgui/query-type.js":[96,9,191],"./models/ontotext-yasgui/rendering-mode":[67,9,193],"./models/ontotext-yasgui/rendering-mode.js":[67,9,193],"./models/ontotext-yasgui/request-aborted-event":[120,9,194],"./models/ontotext-yasgui/request-aborted-event.js":[120,9,194],"./models/ontotext-yasgui/save-query-opened":[119,9,195],"./models/ontotext-yasgui/save-query-opened.js":[119,9,195],"./models/ontotext-yasgui/tab":[296,9,196],"./models/ontotext-yasgui/tab.js":[296,9,196],"./models/ontotext-yasgui/yasgui-orientation":[220,9,197],"./models/ontotext-yasgui/yasgui-orientation.js":[220,9,197],"./models/ontotext-yasgui/yasgui-query-http-method":[221,9,198],"./models/ontotext-yasgui/yasgui-query-http-method.js":[221,9,198],"./models/ontotext-yasgui/yasgui-reset-flags":[297,9,199],"./models/ontotext-yasgui/yasgui-reset-flags.js":[297,9,199],"./models/ontotext-yasgui/yasqe-action-button-definition":[298,9,200],"./models/ontotext-yasgui/yasqe-action-button-definition.js":[298,9,200],"./models/ontotext-yasgui/yasqe-mode":[69,9,201],"./models/ontotext-yasgui/yasqe-mode.js":[69,9,201],"./models/ontotext-yasgui/yasr-before-update-query-result":[299,9,202],"./models/ontotext-yasgui/yasr-before-update-query-result.js":[299,9,202],"./models/ontotext-yasgui/yasr-plugin-name":[121,9,203],"./models/ontotext-yasgui/yasr-plugin-name.js":[121,9,203],"./models/ontotext-yasgui/yasr-query-response-status":[300,9,204],"./models/ontotext-yasgui/yasr-query-response-status.js":[300,9,204],"./models/ontotext-yasgui/yasr-toolbar-plugin":[301,9,205],"./models/ontotext-yasgui/yasr-toolbar-plugin.js":[301,9,205],"./models/product-info":[302,9,206],"./models/product-info.js":[302,9,206],"./models/repository/repository":[303,9,207],"./models/repository/repository.js":[303,9,207],"./models/resource/context-type":[84,9,208],"./models/resource/context-type.js":[84,9,208],"./models/resource/resource-details":[99,9,209],"./models/resource/resource-details.js":[99,9,209],"./models/resource/resource-graph-response":[304,9,210],"./models/resource/resource-graph-response.js":[304,9,210],"./models/resource/resource-info":[123,9,55],"./models/resource/resource-info.js":[123,9,55],"./models/resource/role-type":[124,9,211],"./models/resource/role-type.js":[124,9,211],"./models/settings/workbench-settings":[305,9,212],"./models/settings/workbench-settings.js":[305,9,212],"./models/similarity/similarity-index":[79,9,56],"./models/similarity/similarity-index-error":[222,9,213],"./models/similarity/similarity-index-error.js":[222,9,213],"./models/similarity/similarity-index-info":[223,9,33],"./models/similarity/similarity-index-info.js":[223,9,33],"./models/similarity/similarity-index-status":[74,9,214],"./models/similarity/similarity-index-status.js":[74,9,214],"./models/similarity/similarity-index-type":[72,9,215],"./models/similarity/similarity-index-type.js":[72,9,215],"./models/similarity/similarity-index.js":[79,9,56],"./models/similarity/similarity-query-type":[106,9,216],"./models/similarity/similarity-query-type.js":[106,9,216],"./models/similarity/similarity-result-type":[137,9,217],"./models/similarity/similarity-result-type.js":[137,9,217],"./models/similarity/similarity-search":[138,9,79],"./models/similarity/similarity-search-type":[86,9,218],"./models/similarity/similarity-search-type.js":[86,9,218],"./models/similarity/similarity-search.js":[138,9,79],"./models/similarity/similarity-view-mode":[224,9,219],"./models/similarity/similarity-view-mode.js":[224,9,219],"./models/sparql-template/sparql-template-error":[139,9,220],"./models/sparql-template/sparql-template-error.js":[139,9,220],"./models/sparql-template/sparql-template-info":[140,9,221],"./models/sparql-template/sparql-template-info.js":[140,9,221],"./models/sparql/cancel-aborting-query":[225,9,222],"./models/sparql/cancel-aborting-query.js":[225,9,222],"./models/sparql/constants":[97,9,223],"./models/sparql/constants.js":[97,9,223],"./models/sparql/sparql-query-error-info":[306,9,224],"./models/sparql/sparql-query-error-info.js":[306,9,224],"./models/sparql/tab-query-model":[95,9,225],"./models/sparql/tab-query-model.js":[95,9,225],"./models/themes/theme":[307,9,226],"./models/themes/theme.js":[307,9,226],"./models/yasgui-component":[165,9,227],"./models/yasgui-component.js":[165,9,227],"./namespaces/app":[308,9,16,39],"./namespaces/app.js":[308,9,16,39],"./namespaces/controllers":[226,9,228],"./namespaces/controllers.js":[226,9,228],"./namespaces/directives":[227,7,229],"./namespaces/directives.js":[227,7,229],"./namespaces/plugin":[309,7,230],"./namespaces/plugin.js":[309,7,230],"./plugin":[311,7,232],"./plugin-registry":[310,7,231],"./plugin-registry.js":[310,7,231],"./plugin.js":[311,7,232],"./plugins/app":[312,9,81],"./plugins/app.js":[312,9,81],"./plugins/controllers":[228,9,233],"./plugins/controllers.js":[228,9,233],"./plugins/plugin":[313,7,234],"./plugins/plugin.js":[313,7,234],"./queries/app":[314,9,82],"./queries/app.js":[314,9,82],"./queries/controllers":[229,9,235],"./queries/controllers.js":[229,9,235],"./queries/plugin":[315,7,236],"./queries/plugin.js":[315,7,236],"./rdfrank/app":[316,9,37],"./rdfrank/app.js":[316,9,37],"./rdfrank/plugin":[317,7,237],"./rdfrank/plugin.js":[317,7,237],"./rdfrank/templates/filter-list.html":[424,7,327],"./repositories/app":[318,9,5,20],"./repositories/app.js":[318,9,5,20],"./repositories/controllers":[108,9,5],"./repositories/controllers.js":[108,9,5],"./repositories/fedx-repo.directive":[232,7,238],"./repositories/fedx-repo.directive.js":[232,7,238],"./repositories/ontop-repo.directive":[231,9,5,26],"./repositories/ontop-repo.directive.js":[231,9,5,26],"./repositories/plugin":[319,7,239],"./repositories/plugin.js":[319,7,239],"./repositories/repository.constants":[92,9,240],"./repositories/repository.constants.js":[92,9,240],"./repositories/templates/fedx-repo.html":[425,7,328],"./repositories/templates/ontop-repo.html":[426,7,329],"./resources/app":[320,9,0,4,83],"./resources/app.js":[320,9,0,4,83],"./resources/chart-models/chart-data":[66,9,0,241],"./resources/chart-models/chart-data.js":[66,9,0,241],"./resources/chart-models/cluster-health/cluster-health-chart":[214,9,0,84],"./resources/chart-models/cluster-health/cluster-health-chart.js":[214,9,0,84],"./resources/chart-models/performance/connections-chart":[213,9,0,85],"./resources/chart-models/performance/connections-chart.js":[213,9,0,85],"./resources/chart-models/performance/epool-chart":[215,9,0,86],"./resources/chart-models/performance/epool-chart.js":[215,9,0,86],"./resources/chart-models/performance/queries-chart":[211,9,0,87],"./resources/chart-models/performance/queries-chart.js":[211,9,0,87],"./resources/chart-models/resource/cpu-load-chart":[209,9,0,88],"./resources/chart-models/resource/cpu-load-chart.js":[209,9,0,88],"./resources/chart-models/resource/disk-storage-chart":[210,9,0,89],"./resources/chart-models/resource/disk-storage-chart.js":[210,9,0,89],"./resources/chart-models/resource/file-descriptors-chart":[207,9,0,90],"./resources/chart-models/resource/file-descriptors-chart.js":[207,9,0,90],"./resources/chart-models/resource/global-cache-chart":[212,9,0,91],"./resources/chart-models/resource/global-cache-chart.js":[212,9,0,91],"./resources/chart-models/resource/heap-memory-chart":[105,9,0,92],"./resources/chart-models/resource/heap-memory-chart.js":[105,9,0,92],"./resources/chart-models/resource/non-heap-memory-chart":[208,9,0,57],"./resources/chart-models/resource/non-heap-memory-chart.js":[208,9,0,57],"./resources/controllers":[142,9,0,4],"./resources/controllers.js":[142,9,0,4],"./resources/directives":[234,9,0,242],"./resources/directives.js":[234,9,0,242],"./resources/plugin":[321,7,243],"./resources/plugin.js":[321,7,243],"./rest/aclmanagement.rest.service":[144,7,244],"./rest/aclmanagement.rest.service.js":[144,7,244],"./rest/autocomplete.rest.service":[38,7],"./rest/autocomplete.rest.service.js":[38,7],"./rest/cluster.rest.service":[71,7,245],"./rest/cluster.rest.service.js":[71,7,245],"./rest/connectors.rest.service":[90,7,246],"./rest/connectors.rest.service.js":[90,7,246],"./rest/explore.rest.service":[122,7,247],"./rest/explore.rest.service.js":[122,7,247],"./rest/export.rest.service":[171,7,248],"./rest/export.rest.service.js":[171,7,248],"./rest/graph-config.rest.service":[176,9,54],"./rest/graph-config.rest.service.js":[176,9,54],"./rest/graph-data.rest.service":[102,7,249],"./rest/graph-data.rest.service.js":[102,7,249],"./rest/import.rest.service":[191,7,250],"./rest/import.rest.service.js":[191,7,250],"./rest/jdbc.rest.service":[217,7,251],"./rest/jdbc.rest.service.js":[217,7,251],"./rest/license.rest.service":[16,7],"./rest/license.rest.service.js":[16,7],"./rest/locations.rest.service":[36,7],"./rest/locations.rest.service.js":[36,7],"./rest/mappers/aclmanagement-mapper":[145,9,60],"./rest/mappers/aclmanagement-mapper.js":[145,9,60],"./rest/mappers/active-operations-mapper":[23,9],"./rest/mappers/active-operations-mapper.js":[23,9],"./rest/mappers/autocomplete-mapper":[26,9],"./rest/mappers/autocomplete-mapper.js":[26,9],"./rest/mappers/graphs-config-mapper":[91,9,76],"./rest/mappers/graphs-config-mapper.js":[91,9,76],"./rest/mappers/import-mapper":[200,9,36],"./rest/mappers/import-mapper.js":[200,9,36],"./rest/mappers/monitor-backup-and-restore-mapper":[20,9],"./rest/mappers/monitor-backup-and-restore-mapper.js":[20,9],"./rest/mappers/namespaces-mapper":[80,9,252],"./rest/mappers/namespaces-mapper.js":[80,9,252],"./rest/mappers/saved-query-mapper":[111,9,80],"./rest/mappers/saved-query-mapper.js":[111,9,80],"./rest/mappers/similarity-index-mapper":[107,9,46],"./rest/mappers/similarity-index-mapper.js":[107,9,46],"./rest/monitoring.rest.service":[31,9],"./rest/monitoring.rest.service.js":[31,9],"./rest/plugins.rest.service":[37,7],"./rest/plugins.rest.service.js":[37,7],"./rest/rdf4j.repositories.rest.service":[35,7],"./rest/rdf4j.repositories.rest.service.js":[35,7],"./rest/rdfrank.rest.service":[230,7,253],"./rest/rdfrank.rest.service.js":[230,7,253],"./rest/repositories.rest.service":[18,7],"./rest/repositories.rest.service.js":[18,7],"./rest/saved-graphs.rest.service":[175,7,254],"./rest/saved-graphs.rest.service.js":[175,7,254],"./rest/security.rest.service":[44,7],"./rest/security.rest.service.js":[44,7],"./rest/similarity.rest.service":[235,7,255],"./rest/similarity.rest.service.js":[235,7,255],"./rest/sparql-templates.rest.service":[236,7,256],"./rest/sparql-templates.rest.service.js":[236,7,256],"./rest/sparql.rest.service":[48,7],"./rest/sparql.rest.service.js":[48,7],"./rest/upload.rest.service":[192,7,257],"./rest/upload.rest.service.js":[192,7,257],"./security/app":[322,9,15,58],"./security/app.js":[322,9,15,58],"./security/controllers":[244,9,15],"./security/controllers.js":[244,9,15],"./security/plugin":[323,7,258],"./security/plugin.js":[323,7,258],"./security/templates/modal/default-authorities.html":[427,7,330],"./security/templates/roles.html":[428,7,331],"./security/templates/user.html":[429,7,332],"./security/templates/users.html":[430,7,333],"./settings/app":[233,9,93],"./settings/app.js":[233,9,93],"./settings/controllers":[141,9,259],"./settings/controllers.js":[141,9,259],"./settings/modal/location-settings.html":[431,7,334],"./settings/modal/validate-license.html":[432,7,335],"./settings/plugin":[324,7,260],"./settings/plugin.js":[324,7,260],"./similarity/app":[325,9,1,2,10,34],"./similarity/app.js":[325,9,1,2,10,34],"./similarity/controllers/create-index.controller":[245,9,10,192],"./similarity/controllers/create-index.controller.js":[245,9,10,192],"./similarity/controllers/similarity-list.controller":[237,9,23],"./similarity/controllers/similarity-list.controller.js":[237,9,23],"./similarity/plugin":[326,7,261],"./similarity/plugin.js":[326,7,261],"./sparql-editor/app":[327,9,1,2,12,262],"./sparql-editor/app.js":[327,9,1,2,12,262],"./sparql-editor/controllers":[246,9,12,30],"./sparql-editor/controllers.js":[246,9,12,30],"./sparql-editor/plugin":[328,7,263],"./sparql-editor/plugin.js":[328,7,263],"./sparql-editor/share-query-link.service":[163,9,94],"./sparql-editor/share-query-link.service.js":[163,9,94],"./sparql-template/app":[329,9,0,1,2,4,24],"./sparql-template/app.js":[329,9,0,1,2,4,24],"./sparql-template/controllers":[238,9,32],"./sparql-template/controllers.js":[238,9,32],"./sparql-template/plugin":[330,7,264],"./sparql-template/plugin.js":[330,7,264],"./stats/app":[331,9,265],"./stats/app.js":[331,9,265],"./stats/plugin":[332,7,266],"./stats/plugin.js":[332,7,266],"./templates/graphdb-small.svg":[433,7,343],"./templates/loader/ot-loader.svg":[434,7,344],"./templates/modal/add-fedx-remote-repo.html":[435,7,336],"./templates/modal/add-location.html":[436,7,337],"./templates/modal/edit-location.html":[437,7,338],"./templates/modal/editRepoFile.html":[438,7,339],"./templates/modal/upload-repository-config.html":[439,7,340],"./templates/repositorySize.html":[440,7,341],"./templates/titlePopoverTemplate.html":[441,7,342],"./treeview/ng-tree":[333,7,267],"./treeview/ng-tree.js":[333,7,267],"./utils/date-utils":[199,9,268],"./utils/date-utils.js":[199,9,268],"./utils/error-utils":[45,7],"./utils/error-utils.js":[45,7],"./utils/file-types":[98,7,269],"./utils/file-types.js":[98,7,269],"./utils/file-utils":[103,9,270],"./utils/file-utils.js":[103,9,270],"./utils/hash-utils":[17,9],"./utils/hash-utils.js":[17,9],"./utils/local-storage-adapter":[10,7],"./utils/local-storage-adapter.js":[10,7],"./utils/notifications":[70,7,271],"./utils/notifications.js":[70,7,271],"./utils/role-name-prefix-utils":[334,9,272],"./utils/role-name-prefix-utils.js":[334,9,272],"./utils/route-constants":[94,9,273],"./utils/route-constants.js":[94,9,273],"./utils/sequence-generator-util":[25,9],"./utils/sequence-generator-util.js":[25,9],"./utils/size-util":[19,9],"./utils/size-util.js":[19,9],"./utils/string-utils":[73,9,274],"./utils/string-utils.js":[73,9,274],"./utils/uri-utils":[32,7],"./utils/uri-utils.js":[32,7],"./utils/user-utils":[6,9],"./utils/user-utils.js":[6,9],"./utils/workbench-settings-storage-service":[50,7],"./utils/workbench-settings-storage-service.js":[50,7],"./utils/yasgui-utils":[164,9,21],"./utils/yasgui-utils.js":[164,9,21],"./utils/yasr-utils":[335,9,275],"./utils/yasr-utils.js":[335,9,275]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(i,t[1])}))}i.keys=function(){return Object.keys(r)},i.id=373,e.exports=i},38:function(e,t){angular.module("graphdb.framework.rest.autocomplete.service",[]).factory("AutocompleteRestService",n);function n(e){return{checkAutocompleteStatus:function(){return e.get("rest/autocomplete/enabled")},refreshIndexStatus:function(){return e.get("rest/autocomplete/status")},refreshLabelConfig:function(){return e.get("rest/autocomplete/labels")},addLabelConfig:function(t){return e.put("rest/autocomplete/labels",t)},removeLabelConfig:function(t){return e.delete("rest/autocomplete/labels",{data:t,headers:{"Content-Type":"application/json;charset=utf-8"}})},toggleAutocomplete:function(t){return e.post("rest/autocomplete/enabled?enabled="+t)},refreshIndexIRIs:function(){return e.get("rest/autocomplete/iris")},toggleIndexIRIs:function(t){return e.post("rest/autocomplete/iris?enabled="+t)},buildIndex:function(){return e.post("rest/autocomplete/reindex")},interruptIndexing:function(){return e.post("rest/autocomplete/interrupt")},checkForPlugin:function(){return e.get("rest/autocomplete/plugin-found")},getAutocompleteSuggestions:function(t,n){return e.get("rest/autocomplete/query",{params:{q:t},timeout:n})}}}n.$inject=["$http"]},39:function(e,t,n){"use strict";n.r(t);n(10),n(13);var r=n(2),i=n(14);function o(e,t,n,o,s,a,u,l,c,h,p){this.guideResumeSubscription=void 0,this.languageChangeSubscription=void 0,this.guideCancelSubscription=void 0,this.init=()=>{this._subscribeToGuideResumed(),this._subscribeToGuideCancel(),this._subscribeToGuidePause()},this.startGuide=(e,i)=>{if(e&&e.options&&e.options.repositoryIdBase){const t=a.getRepositories();e.options.repositoryId=e.options.repositoryIdBase;for(let n=2;t.find(t=>t.id===e.options.repositoryId);n++)e.options.repositoryId=e.options.repositoryIdBase+n;e.options.translatedGuideName=r.GuideUtils.translateLocalMessage(n,o,e.guideName,{}),e.options.translatedGuideDescription=r.GuideUtils.translateLocalMessage(n,o,e.guideDescription,{})}const u=this._toStepsDescriptions(e);for(let e=0;e<u.length;e++)u[e].id=e;angular.isDefined(i)?s.resumeGuide(e.guideId,u,i):s.startGuide(e.guideId,u,i),t.$broadcast("guideStarted")},this.getGuides=()=>new Promise(t=>{e.get(r.GuideUtils.GUIDES_LIST_URL).success((function(e){angular.forEach(e,(e,t)=>{void 0===e.guideId&&(e.guideId=t)}),t(e)}))}),this.isActive=()=>s.isActive(),this._toStepsDescriptions=e=>{if(!e)return[];let t=[];return e.steps.forEach(n=>{t=t.concat(this._getSteps(n,e.options))}),t},this._getSteps=(e,d)=>{const f={$translate:n,$interpolate:o,GuideUtils:r.GuideUtils,$rootScope:t,toastr:u,$location:l,$route:c,$timeout:h,ShepherdService:s,$repositories:a,YasguiComponentDirectiveUtil:i.YasguiComponentDirectiveUtil,EventEmitterService:p};let g=[];if(angular.isArray(e))e.forEach(t=>{g=g.concat(this._getSteps(t,angular.extend({},e.options,d)))});else{const t=PluginRegistry.get("guide.step").find(t=>t.guideBlockName===e.guideBlockName);if(t){const n=angular.extend({},t.options,e.options,d);t.getSteps?g=g.concat(this._getSteps(_.cloneDeep(t.getSteps(n,f)),d)):t.getStep?g.push(_.cloneDeep(t.getStep(n,f))):g=g.concat(this._getSteps(_.cloneDeep(t,t.options),d))}}return g.forEach((e,t)=>{e.stepN=t,e.stepsTotalN=g.length,!e.title&&e.mainAction&&(e.title="guide.step-action."+e.mainAction)}),g},this._subscribeToGuideResumed=()=>{this.guideResumeSubscription||(this.guideResumeSubscription=t.$on("guideResume",()=>{const e=s.getGuideId();this.getGuides().then(t=>{const n=t.find(t=>t.guideId===e),r=s.getCurrentStepId();this.startGuide(n,r)})}))},this._subscribeToGuideCancel=()=>{s.subscribeToGuideCancel(()=>t.$broadcast("guideReset"))},this._subscribeToGuidePause=()=>{s.subscribeToGuidePause(()=>t.$broadcast("guidePaused"))}}angular.module("graphdb.framework.guides.services",["graphdb.framework.guides.shepherd.services"]).service("GuidesService",o),o.$inject=["$http","$rootScope","$translate","$interpolate","ShepherdService","$repositories","toastr","$location","$route","$timeout","EventEmitterService"]},4:function(e,t,n){"use strict";n.r(t),n.d(t,"OPERATION_STATUS",(function(){return r})),n.d(t,"OPERATION_STATUS_SORT_ORDER",(function(){return i}));const r={CRITICAL:"CRITICAL",WARNING:"WARNING",INFORMATION:"INFORMATION"},i={INFORMATION:0,WARNING:1,CRITICAL:2,getOrder:e=>{switch(e){case r.WARNING:return i.WARNING;case r.CRITICAL:return i.CRITICAL;default:return i.INFORMATION}}}},40:function(e,t,n){"use strict";n.r(t);n(7);angular.module("graphdb.framework.core.interceptors.unauthorized",["ngCookies"]).factory("$unauthorizedInterceptor",["$q","$location","$rootScope","$translate",function(e,t,n,r){return{responseError:function(i){let o=!1;return 401===i.status?i.config.url.indexOf("rest/security/authenticated-user")<0&&!n.hasExternalAuthUser()&&(o=!0):403===i.status&&(n.setPermissionDenied(t.path())?console.log(r.instant("unauthorized.console.warning")):o=!0),o?Promise.resolve(n.redirectToLogin()).then(()=>e.reject(i)):e.reject(i)}}}])},41:function(e,t,n){"use strict";n.r(t);n(7);angular.module("graphdb.framework.core.interceptors.authentication",["ngCookies"]).factory("$authenticationInterceptor",["AuthTokenService","LocalStorageAdapter","LSKeys",function(e,t,n){return{request:function(r){const i=r.headers||{};if([e.OPENID_CONFIG.openIdKeysUri,e.OPENID_CONFIG.openIdTokenUrl].some(e=>r.url.indexOf(e)>-1))return r;i["X-Requested-With"]="XMLHttpRequest";e.getAuthToken()&&(i.Authorization=e.getAuthToken());const o=t.get(n.REPOSITORY_ID),s=t.get(n.REPOSITORY_LOCATION);return i["X-GraphDB-Repository"]=o||void 0,i["X-GraphDB-Repository-Location"]=s||void 0,r.headers=i,r}}}])},43:function(e,t,n){"use strict";n.r(t);var r=n(5);const i={headers:{"X-GraphDB-Repository-Location":void 0,"X-GraphDB-Repository":void 0,"X-Requested-With":void 0,Authorization:void 0}};angular.module("graphdb.framework.core.services.openIDService",["toastr"]).service("$openIDAuth",["$http","$location","$window","toastr","$translate","AuthTokenService",function(e,t,n,o,s,a){const u="com.ontotext.graphdb.openid.",l=this;function c(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push(`${n}=${encodeURIComponent(e[n])}`);return t.join("&")}this.login=function(e,t){const r=l.generateRandomString(),i=e.authFlow;if("code"===i){l.setStorageItem("pkce_state",r);const i=l.generateRandomString();l.setStorageItem("pkce_code_verifier",i);const o=l.pkceChallengeFromVerifier(i);n.location.href=l.getLoginUrl(r,o,t,e)}else"code_no_pkce"===i?(l.removeStorageItem("pkce_code_verifier"),n.location.href=l.getLoginUrl(r,"",t,e)):"implicit"===i?(l.setStorageItem("nonce",r),n.location.href=l.getLoginUrl(r,"",t,e)):(console.log("oidc: unknown auth flow: "+i),o.error(s.instant("openid.auth.unknown.flow",{authFlow:i})))},this.getLoginUrl=function(e,t,n,r){const i=[];let o="";switch(r.authFlow){case"code":o="code",i.push("state="+encodeURIComponent(e)),i.push("code_challenge="+encodeURIComponent(t)),i.push("code_challenge_method=S256");break;case"code_no_pkce":o="code";break;case"implicit":o="token id_token",i.push("nonce="+encodeURIComponent(e));break;default:throw new Error(s.instant("openid.auth.unknown.flow",{authFlow:r.authFlow}))}return i.unshift("response_type="+encodeURIComponent(o),"scope="+encodeURIComponent(l.getScope(r.extraScopes)),"client_id="+encodeURIComponent(r.clientId),"redirect_uri="+encodeURIComponent(n)),r.oracleDomain&&i.push("domain="+encodeURIComponent(r.oracleDomain)),r.authorizeParameters&&i.push(r.authorizeParameters),`${r.oidcAuthorizationEndpoint}?${i.join("&")}`},this.withOpenIdKeys=function(t,n){e.get(t,i).success((function(e){a.OPENID_CONFIG.openIdKeys={},e.keys.forEach((function(e){a.OPENID_CONFIG.openIdKeys[e.kid]=e})),n()}))},this.initOpenId=function(e,t,r,u){l.clientId=e.clientId,l.tokenType=e.tokenType,l.idTokenAudience=e.clientId,l.idTokenIssuer=e.issuer,l.accessTokenAudience=e.tokenAudience,l.accessTokenIssuer=e.tokenIssuer,a.OPENID_CONFIG.openIdTokenUrl=e.oidcTokenEndpoint,a.OPENID_CONFIG.openIdKeysUri=e.oidcJwksUri,e.proxyOidc&&(a.OPENID_CONFIG.openIdKeysUri="rest/openid/jwks",a.OPENID_CONFIG.openIdTokenUrl="rest/openid/token"),a.OPENID_CONFIG.openIdEndSessionUrl=e.oidcEndSessionEndpoint,a.OPENID_CONFIG.supportsOfflineAccess=e.oidcScopesSupported.includes("offline_access"),e.oracleDomain&&(i.headers["X-OAuth-Identity-Domain-Name"]=e.oracleDomain),l.withOpenIdKeys(a.OPENID_CONFIG.openIdKeysUri,(function(){if(l.isLoggedIn=l.hasValidIdToken(),l.isLoggedIn)l.setupTokensRefresh(!1,r,u);else if(l.hasValidRefreshToken())l.refreshTokens(r,u);else{const i=r;r=function(){l.isLoggedIn=!0,i(!0)},l.softLogout();const a=l.parseQueryString(n.location.search.substring(1));if(a.code)"code"===e.authFlow?l.getStorageItem("pkce_state")!==a.state?(o.error(s.instant("openid.auth.invalid.pkce.state")),console.log("oidc: PKCE state mismatch "+l.getStorageItem("pkce_state")+" != "+a.state),u()):l.retrieveTokensByCode(a.code,t,r,u):"code_no_pkce"===e.authFlow&&l.retrieveTokensByCode(a.code,t,r,u);else{const e=l.parseQueryString(n.location.pathname.substring(1));e.id_token?l.saveTokens(e,!0,!1,r):u()}}}))},this.authHeaderGraphDB=function(){return"id"===l.getStorageItem("token_type")?"Bearer "+l.getToken("id"):"Bearer "+l.getToken("access")},this.softLogout=function(){l.isLoggedIn=!1,l.setToken("id",null),l.setToken("access",null),l.setToken("refresh",null)},this.hardLogout=function(e){l.softLogout(),a.OPENID_CONFIG.openIdEndSessionUrl&&(n.location.href=`${a.OPENID_CONFIG.openIdEndSessionUrl}?client_id=${encodeURIComponent(l.clientId)}&post_logout_redirect_uri=${encodeURIComponent(e)}`)},this.getToken=function(e){return l.getStorageItem(e+"_token")},this.setToken=function(e,t){t?l.setStorageItem(e+"_token",t):l.removeStorageItem(e+"_token")},this.tokenHeader=function(e){const t=l.getToken(e);if(t){try{const e=r.KJUR.jws.JWS.readSafeJSONString(Object(r.b64utoutf8)(t.split(".")[0]));if(e)return e}catch(e){}return{error:s.instant("openid.auth.not.jwt.token",{token:t})}}return{}},this.verifyToken=function(e){const t=l.getToken(e),n=l.tokenHeader(e);if(!n.kid)return"id"!==e?n.error?(console.log(`oidc: token ${e} is not a JWT token (token considered valid)`),!0):(console.log(`oidc: invalid token ${e} (token is empty)`),!1):(console.log("oidc: invalid token id (not a JWT token)"),!1);const i=a.OPENID_CONFIG.openIdKeys[n.kid];if(!i)return console.log("oidc: no key to verify JWT token (token considered invalid)"),!1;const o=r.KEYUTIL.getKey(i),s={alg:[n.alg],iss:[l.idTokenIssuer]};return"id"===e?(s.aud=[l.idTokenAudience,l.idTokenIssuer],s.nonce=[l.getStorageItem("nonce")]):"access"===e&&(s.aud=[l.accessTokenAudience],s.iss=[l.accessTokenIssuer]),r.KJUR.jws.JWS.verifyJWT(t,o,s)},this.hasValidIdToken=function(){return l.getToken("id")?l.verifyToken("id")?(console.log("oidc: valid id token found"),!0):(console.log("oidc: stale id token"),!1):(console.log("oidc: no id token"),!1)},this.tokenPayload=function(e){const t=l.getToken(e);if(t){try{const e=r.KJUR.jws.JWS.readSafeJSONString(Object(r.b64utoutf8)(t.split(".")[1]));if(e)return e}catch(e){}return{error:s.instant("openid.auth.not.jwt.token",{token:t})}}return{}},this.saveTokens=function(e,n,r,i){(n||e.refresh_token)&&l.setToken("refresh",e.refresh_token),l.setToken("access",e.access_token),l.setToken("id",e.id_token),l.setStorageItem("token_type",l.tokenType),console.log("oidc: saved tokens"),l.setupTokensRefresh(n||r,i),l.removeStorageItem("pkce_state"),l.removeStorageItem("pkce_code_verifier"),n&&t.url("/")},this.retrieveTokensByCode=function(t,n,r,u){const h={grant_type:"authorization_code",client_id:l.clientId,redirect_uri:n,code:t},p=l.getStorageItem("pkce_code_verifier");p&&(h.code_verifier=p);const d={...i.headers,"Content-type":"application/x-www-form-urlencoded; charset=utf-8"};e({method:"POST",url:a.OPENID_CONFIG.openIdTokenUrl,headers:d,transformRequest:c,data:h}).success((function(e){l.saveTokens(e,!0,!1,r)})).error((function(e){o.error(s.instant("openid.auth.cannot.retrieve.token.msg",{error:getError(e)})),u()}))},this.refreshTokens=function(t,n){if(l.hasValidRefreshToken()){const r={grant_type:"refresh_token",client_id:l.clientId,refresh_token:l.getToken("refresh")},u={...i.headers,"Content-type":"application/x-www-form-urlencoded; charset=utf-8"};e({method:"POST",url:a.OPENID_CONFIG.openIdTokenUrl,headers:u,transformRequest:c,data:r}).success((function(e){console.log("oidc: refreshed tokens"),l.saveTokens(e,!1,!0,t),l.isLoggedIn=!0})).error((function(e){console.log("oidc: could not refresh tokens"),o.error(s.instant("openid.auth.cannot.refresh.token.msg",{error:getError(e)})),n&&n()}))}else console.log("oidc: refresh requested without a valid refresh token")},this.hasValidRefreshToken=function(){const e=l.tokenPayload("refresh");return!(e.nbf&&1e3*e.nbf-Date.now()>5e3)&&(!(e.exp&&Date.now()-1e3*e.exp>5e3)&&!(!e.iat&&!e.error))},this.setupTokensRefresh=function(e,t,n){if(l.hasValidRefreshToken()){clearTimeout(l.previousTimer);const r=l.tokenPayload("id");if(r.exp>0){const i=1e3*r.exp-Date.now()-6e4;if(!(e||i>1e3))return l.previousTimer=null,console.log("oidc: tokens will refresh now, "+i+"; "+e),void l.refreshTokens(t,n);l.previousTimer=setTimeout((function(){l.refreshTokens(t)}),i),console.log("oidc: tokens will refresh in "+i/1e3+" seconds at "+new Date(Date.now()+i))}}else console.log("oidc: no valid refresh token");t()},this.parseQueryString=function(e){const t={access_token:null,code:null,id_token:null,state:null};if(""===e)return t;return e.split("&").map((function(e){return e.split("=")})).forEach((function(e){t[e[0]]=decodeURIComponent(e[1])})),t},this.generateRandomString=function(){const e=new Uint32Array(28);return window.crypto.getRandomValues(e),Array.from(e,(function(e){return("0"+e.toString(16)).substr(-2)})).join("")},this.pkceChallengeFromVerifier=function(e){const t=new r.KJUR.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"});return Object(r.hextob64u)(t.digestString(e))},this.getScope=function(e){let t="openid"+(a.OPENID_CONFIG.supportsOfflineAccess?" offline_access":"");return e&&(t+=" "+e),console.log(`oidc: requesting scopes '${t}'`),t},this.setStorageItem=function(e,t){localStorage.setItem(u+e,t)},this.getStorageItem=function(e){return localStorage.getItem(u+e)},this.removeStorageItem=function(e){localStorage.removeItem(u+e)}}])},44:function(e,t){angular.module("graphdb.framework.rest.security.service",[]).factory("SecurityRestService",n),n.$inject=["$http"];function n(e){return{getUser:function(n){return e.get("rest/security/users/"+t(n))},getAdminUser:function(){return e.get("rest/security/users/admin")},getUsers:function(){return e.get("rest/security/users")},createUser:function(n){return e({method:"POST",url:"rest/security/users/"+t(n.username),data:{password:n.pass,appSettings:n.appSettings,grantedAuthorities:n.grantedAuthorities}})},updateUser:function(n){return e({method:"PUT",url:"rest/security/users/"+t(n.username),data:{password:n.pass,appSettings:n.appSettings,grantedAuthorities:n.grantedAuthorities}})},updateUserData:function(n){return e({method:"PATCH",url:"rest/security/users/"+t(n.username),data:{password:n.pass,appSettings:n.appSettings}})},deleteUser:function(n){return e.delete("rest/security/users/"+t(n))},getFreeAccess:function(){return e.get("rest/security/free-access")},setFreeAccess:function(t){return e.post("rest/security/free-access",t)},getSecurityConfig:function(){return e.get("rest/security/all")},toggleSecurity:function(t){return e.post("rest/security",t?"true":"false")},getRoles:function(){return e.get("rest/roles")},getRolesMapping:function(t){return e.get("rest/roles/mapping",{params:t})},getAuthenticatedUser:function(){return e.get("rest/security/authenticated-user")}};function t(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}}},45:function(e,t){!function(e){e.getError=function(e,t,n){if(angular.isObject(e)&&e.status&&e.data)return getError(e.data,t,n);if(t&&403===t)return"Access is restricted";if(e){let r="Generic error";if(angular.isString(e))-1===e.indexOf("<html>")&&(r=e,r=r.replace(/^(([a-z0-9_]+\.)+[a-zA-Z0-9_]+: )+/,""));else if(angular.isObject(e)){if("message"in e&&(r=e.message),"error"in e&&(r=e.error.message),"responseJSON"in e&&"message"in e.responseJSON)return getError(e.responseJSON,t,n);"responseText"in e&&(r=e.responseText)}return n>0&&r.length>n&&(r=r.substr(0,n)+"..."),r}return"There is an error"}}(window)},46:function(e,t,n){"use strict";n.r(t);n(7),n(47),n(48),n(38),n(37),n(31),n(16),n(18),n(35),n(62),n(63),n(30),n(29),n(49);var r=n(6),i=(n(10),n(50),n(32),n(51),n(0)),o=(n(39),n(52),n(13)),s=(n(239),n(248),n(27));function a(e,t,n,r,i,o,s,a,u,l,c){function h(){e.getActiveRepository()&&(e.getNamespacesPromise=l.getNamespaces(e.getActiveRepository()).success((function(){p()})),e.getActiveRepositorySize())}function p(){o.isLicenseValid()&&(e.getAutocompletePromise=s.checkAutocompleteStatus())}e.doClear=!1,e.getActiveRepositorySize=function(){const t=r.getActiveRepositoryObject();t&&(e.activeRepositorySizeError=void 0,u.getSize(t).then((function(t){e.activeRepositorySize=t.data})).catch((function(t){e.activeRepositorySizeError=t.data.message})))},e.$on("autocompleteStatus",(function(){p()})),e.$on("repositoryIsSet",h),e.$on("$routeChangeSuccess",(function(e,n,r){r&&(i.isAuthenticated()||i.isFreeAccessEnabled()?h():t.redirectToLogin())})),e.onKeyDown=function(t){27===t.keyCode&&(e.doClear=!0)}}function u(e,t,n,a,u,l,c,h,p,d,f,g,m,v,y,b,w,x,S,E,A,C,F,T,D,R,k,I){e.descr=C.instant("main.gdb.description"),e.documentation="",e.menu=t,e.tutorialState=1!==E.get(A.TUTORIAL_STATE),e.userLoggedIn=!1,e.embedded=l.search().embedded,e.productInfo=d,e.guidePaused="true"===E.get(o.GUIDE_PAUSE);!function(){const t=new Date;e.currentYear=t.getFullYear(),e.previousYear=2002}(),$("#repositorySelectDropdown").on("hide.bs.dropdown",(function(e){D.isActive()&&$("#repositorySelectDropdown.autoCloseOff").length>0&&e.preventDefault()})),e.$on("$routeChangeSuccess",(function(t,n,r){e.clicked=!1,$(".menu-element-root").removeClass("active"),f((function(){$(".menu-element.open a.menu-element-root").addClass("active"),$(".main-menu.collapsed .menu-element.open .menu-element-root").addClass("active")}),400),r&&h.checkLicenseStatus()})),e.resumeGuide=function(){p.$broadcast("guideResume")},p.$on("guideReset",(function(){e.guidePaused=!1,p.guidePaused=!1})),p.$on("guideStarted",(function(){e.guidePaused=!1,p.guidePaused=!1})),p.$on("guidePaused",(function(){e.guidePaused=!0,p.guidePaused=!0})),p.$on("$translateChangeSuccess",(function(){e.menu.forEach((function(e){e.label=C.instant(e.labelKey),e.children&&e.children.forEach((function(e){e.label=C.instant(e.labelKey)}))})),p.helpInfo=S.trustAsHtml(Object(i.decodeHTML)(C.instant(p.helpInfo))),p.title=Object(i.decodeHTML)(C.instant(p.title)),e.initTutorial()})),e.checkMenu=Object(s.debounce)((function(){return $(".main-menu").hasClass("collapsed")}),250,{trailing:!1}),e.copyToClipboard=function(e){g.openCopyToClipboardModal(e)},e.goToAddRepo=function(){l.path("/repository/create").search({previous:"home"})},e.goToEditRepo=function(e){l.path("repository/edit/"+e.id).search({previous:"home",location:e.location})},e.getLocationFromUri=function(e){return c.getLocationFromUri(e)},e.$on("$locationChangeSuccess",(function(){e.showFooter=!0})),e.$on("repositoryIsSet",(function(){e.setRestricted(),E.clearClassHieararchyState()})),e.graphdbVersion=e.engineVersion=d.productVersion,e.workbenchVersion=d.Workbench,e.connectorsVersion=d.connectors,e.sesameVersion=d.sesame,e.select=function(t,n,r){$(".main-menu").hasClass("collapsed")?$(n.target).parents(".menu-element").children(".menu-element-root").hasClass("active")?(e.selected=t,e.clicked=!r):(!$(n.target).parents(".menu-element").hasClass("open")&&r?e.clicked=!0:e.clicked=!r,e.selected===t?e.selected=-1:e.selected=t):(!$(n.target).parents(".menu-element").hasClass("open")&&r?e.clicked=!0:e.clicked=!r,0!==$(n.target).parent(".menu-element").find(".sub-menu").length?($(n.target).parents(".menu-element").children(".menu-element-root").hasClass("active")?$(".sub-menu li.active").parents(".menu-element").children(".menu-element-root").removeClass("active"):$(".sub-menu li.active").parents(".menu-element").children(".menu-element-root").addClass("active"),e.selected===t?e.selected=-1:e.selected=t):(f((function(){$(n.target).parents(".menu-element").children(".menu-element-root").addClass("active")}),50),e.selected=t))},$("body").bind("click",(function(t){!$(t.target).parents(".main-menu").length&&$(".main-menu").hasClass("collapsed")&&(e.clicked=!1,e.selected=-1)})),e.isCurrentPath=function(e){return l.path()==="/"+e},e.isCurrentSubmenuChildPath=function(t){return 0!==t.children.length&&t.children.some((function(t){return e.isCurrentPath(t.href)}))},"/"===l.path()?e.selected=-1:(f((function(){const t=l.path().replace("/",""),n=$('a[href^="'+t+'"]');e.selected=n.closest(".menu-element").index()-1}),200),e.isCurrentPath(l.path())),e.popoverTemplate="js/angular/templates/repositorySize.html",e.securityEnabled=!0,e.isSecurityEnabled=function(){return n.isSecurityEnabled()},e.isFreeAccessEnabled=function(){return n.isFreeAccessEnabled()},e.hasExternalAuthUser=function(){return n.hasExternalAuthUser()},e.isDefaultAuthEnabled=function(){return n.isDefaultAuthEnabled()},e.isUserLoggedIn=function(){return e.userLoggedIn},e.hasActiveLocation=function(){return c.hasActiveLocation()},e.getActiveLocation=function(){return c.getActiveLocation()},e.isLoadingLocation=function(){return c.isLoadingLocation()},e.getRepositories=function(){return c.getRepositories()},e.getReadableRepositories=function(){return c.getReadableRepositories()},e.getWritableRepositories=function(){return c.getWritableRepositories()},e.getActiveRepository=function(){return c.getActiveRepository()},e.canWriteRepoInLocation=function(e){return n.canWriteRepo(e)},e.canWriteActiveRepo=function(e){const t=c.getActiveRepositoryObject();return!!t&&(n.canWriteRepo(t)&&("SYSTEM"!==t.id||!e))},e.getActiveRepositoryObject=function(){return c.getActiveRepositoryObject()},e.getActiveRepositoryShortLocation=function(){const e=c.getActiveRepositoryObject();if(e){const t=e.location;if(t)return"@"+F.shortenIri(t)}return""},e.isActiveRepoOntopType=function(){return c.isActiveRepoOntopType()},e.isActiveRepoFedXType=function(){return c.isActiveRepoFedXType()},e.isLicenseValid=function(){return h.isLicenseValid()},e.setAttrs=function(t){e.attrs=t},e.setRestricted=function(){e.attrs&&(e.isRestricted=e.attrs.hasOwnProperty("license")&&!h.isLicenseValid()||e.attrs.hasOwnProperty("write")&&e.isSecurityEnabled()&&!e.canWriteActiveRepo()||e.attrs.hasOwnProperty("ontop")&&e.isActiveRepoOntopType()||e.attrs.hasOwnProperty("fedx")&&e.isActiveRepoFedXType())},e.toHumanReadableType=function(e){switch(e){case"graphdb":return"Graphdb";case"system":return"System";case"ontop":return"Ontop";case"fedx":return"FedX";default:return"Unknown"}},e.setRepository=function(e){c.setRepository(e)},e.logout=function(){n.clearAuthentication(),u.success("Signed out"),n.freeAccess?(c.resetActiveRepository(),n.updateReturnUrl()):n.isSecurityEnabled()&&p.redirectToLogin()},e.showMainManuAndStatusBar=()=>n.isAuthenticated()||e.isSecurityEnabled()&&e.isFreeAccessEnabled();const P=()=>{setTimeout(()=>{k.location.reload()},0)};let O=void 0;const j=e=>{if(I.AUTH_STORAGE_NAME===e.key){const e=n.isAuthenticated();n.updateReturnUrl(),O!==e&&(O=e,O?(l.url(p.returnToUrl||"/"),R.reload(),P()):(p.redirectToLogin(),P()))}};function L(e){e?$(":root").addClass("menu-collapsed"):$(":root").removeClass("menu-collapsed")}function N(){$(window).width()<=720?($(".container-fluid.main-container").addClass("expanded"),L(!0),$(".main-menu").addClass("collapsed"),$(".main-menu .icon-caret-left").toggleClass("icon-caret-left").toggleClass("icon-caret-right"),$(".toggle-menu").hide()):$(window).width()>720&&"collapsedMenu"===E.get(A.MENU_STATE)?($(".container-fluid.main-container").addClass("expanded"),L(!0),$(".main-menu").addClass("collapsed"),$(".toggle-menu").show(),$(".main-menu .icon-caret-left").toggleClass("icon-caret-left").toggleClass("icon-caret-right")):($(".container-fluid.main-container").removeClass("expanded"),L(!1),$(".main-menu").removeClass("collapsed"),$(".toggle-menu").show(),$(".main-menu .icon-caret-right").toggleClass("icon-caret-right").toggleClass("icon-caret-left"))}window.addEventListener("storage",j),e.$on("$destroy",()=>{window.removeEventListener("storage",j),e.checkMenu&&f.cancel(e.checkMenu)}),e.isAdmin=function(){return e.hasRole(r.UserRole.ROLE_ADMIN)},e.isUser=function(){return e.hasRole(r.UserRole.ROLE_USER)},e.hasRole=function(e){return!!angular.isUndefined(e)||n.hasRole(e)},e.hasPermission=function(){return p.hasPermission()},e.canReadRepo=function(e){return n.canReadRepo(e)},e.checkForWrite=function(e,t){return n.checkForWrite(e,t)},e.setPopoverRepo=function(t){e.popoverRepo=t},e.isRepoActive=function(e){return c.isRepoActive(e)},e.getRepositorySize=function(){e.repositorySize={},e.popoverRepo&&(e.repositorySize.loading=!0,b.getSize(e.popoverRepo).then((function(t){e.repositorySize=t.data})))},e.getDegradedReason=function(){return c.getDegradedReason()},e.canManageRepositories=function(){return n.hasRole(r.UserRole.ROLE_REPO_MANAGER)&&!c.getDegradedReason()},e.getSavedQueries=function(){x.getSavedQueries().success((function(t){e.sampleQueries=t})).error((function(e){const t=getError(e);u.error(t,C.instant("query.editor.get.saved.queries.error"))}))},e.goToSparqlEditor=function(e){l.path("/sparql").search({savedQueryName:e.name,owner:e.owner,execute:!0})},e.declineTutorial=function(){E.set(A.TUTORIAL_STATE,1),e.tutorialState=!1},e.showTutorial=function(){e.tutorialState=!0,E.remove(A.TUTORIAL_STATE)},e.initTutorial=function(){if(!e.tutorialState&&"/"!==l.path())return;e.tutorialInfo=[{title:C.instant("main.info.title.welcome.page"),info:"<p>"+Object(i.decodeHTML)(C.instant("main.info.welcome.page"))+"</p><p>"+Object(i.decodeHTML)(C.instant("main.info.welcome.page.guides"))+"</p><p>"+Object(i.decodeHTML)(C.instant("main.info.welcome.page.footer"))+"</p>"},{title:C.instant("main.info.title.create.repo.page"),info:Object(i.decodeHTML)(C.instant("main.info.create.repo.page",{link:'<a href="https://graphdb.ontotext.com/documentation/'+d.productShortVersion+'/configuring-a-repository.html" target="_blank">'}))},{title:C.instant("main.info.title.load.sample.dataset"),info:C.instant("main.info.load.sample.dataset")},{title:C.instant("main.info.title.run.sparql.query"),info:Object(i.decodeHTML)(C.instant("main.info.run.sparql.query"))},{title:C.instant("menu.rest.api.label"),info:Object(i.decodeHTML)(C.instant("main.info.rest.api"))}],e.activePage=0,$(".pages-wrapper .page-slide").css("opacity",100);const t=$(".main-container")[0].offsetWidth+200;f((function(){const n=$(".pages-wrapper .page-slide");n.css("left",t+"px"),$(n[e.activePage]).css("left","0px"),$($(".btn-toolbar.pull-right .btn-group .btn")[0]).focus()}),50)},e.getTutorialPageHtml=function(e){return S.trustAsHtml(e.info)},e.checkSubMenuPosition=function(e){0===e?$(".main-menu.collapsed .sub-menu").removeClass("align-bottom"):$(window).height()<735?$(".main-menu.collapsed .sub-menu").addClass("align-bottom"):$(".main-menu.collapsed .sub-menu").removeClass("align-bottom")},N(),$(window).resize((function(){angular.isDefined(e.menuState)?$(window).width()<=720?($(".container-fluid.main-container").addClass("expanded"),L(!0),$(".main-menu").addClass("collapsed"),$(".toggle-menu").hide(),$(".main-menu .icon-caret-left").toggleClass("icon-caret-left").toggleClass("icon-caret-right")):$(window).width()>720&&e.menuState?$(".toggle-menu").show():($(".container-fluid.main-container").removeClass("expanded"),L(!1),$(".main-menu").removeClass("collapsed"),$(".toggle-menu").show(),$(".main-menu .icon-caret-right").toggleClass("icon-caret-right").toggleClass("icon-caret-left")):N(),e.tutorialState&&"/"===l.path()&&e.initTutorial(),$(window).height()<735?($(".sub-menu").addClass("align-bottom"),$(".main-menu.collapsed li:nth-child(2) .sub-menu").removeClass("align-bottom")):$(".sub-menu").removeClass("align-bottom")})),e.slideToPage=function(t){const n=$(".main-container")[0].offsetWidth,r=$(".pages-wrapper .page-slide");r.css("opacity","0").delay(200).css("left",n+"px"),e.activePage=t,$(r[e.activePage]).css("opacity","100").css("left","0px")},e.slideNext=function(){let t=++e.activePage;t>=e.tutorialInfo.length&&(t=0),e.slideToPage(t),$($(".btn-toolbar.pull-right .btn-group .btn")[e.activePage]).focus()},e.toggleNavigation=function(){const t=$(".main-menu"),n=$(".sub-menu li.active");if(t.hasClass("collapsed"))n.parents(".menu-element").hasClass("open")?n.parents(".menu-element").children(".menu-element-root").removeClass("active"):n.parents(".menu-element").children(".menu-element-root").addClass("active"),$(".container-fluid.main-container").removeClass("expanded"),L(!1),t.removeClass("collapsed"),$(".main-menu .icon-caret-right").toggleClass("icon-caret-right").toggleClass("icon-caret-left"),p.$broadcast("onToggleNavWidth",!1);else{n.parents(".menu-element").children(".menu-element-root").addClass("active");const r=$(".menu-element");r.hasClass("open")&&(r.removeClass("open"),e.clicked=!1,e.selected=-1),$(".container-fluid.main-container").addClass("expanded"),L(!0),t.addClass("collapsed"),$(".main-menu .icon-caret-left").toggleClass("icon-caret-left").toggleClass("icon-caret-right"),$(".main-menu.collapsed .menu-element.clicked").removeClass("clicked"),p.$broadcast("onToggleNavWidth",!0)}},e.$on("onToggleNavWidth",(function(t,n){if(e.menuState=n,n?E.set(A.MENU_STATE,"collapsedMenu"):E.set(A.MENU_STATE,"expandedMenu"),e.tutorialState&&"/"===l.path()){const t=$(".pages-wrapper")[0].offsetWidth+200;f((function(){const n=$(".pages-wrapper .page-slide");n.css("left",t+"px"),$(n[e.activePage]).css("left","0px")}),50)}})),n.securityInitialized&&e.getSavedQueries(),e.$on("securityInit",(function(t,r,i,o){e.securityEnabled=r,e.userLoggedIn=i,!r||i||o?(T.when(n.getPrincipal()).then(t=>{e.principal=t,e.isIgnoreSharedQueries=t&&t.appSettings.IGNORE_SHARED_QUERIES}).then(()=>{setTimeout(()=>e.getSavedQueries(),500)}),h.checkLicenseStatus()):"/login"!==l.path()&&p.redirectToLogin()})),e.isEnterprise=function(){return"enterprise"===e.getProductType()},e.isFreeEdition=function(){return"free"===e.getProductType()},e.checkEdition=function(t){return null==t||_.indexOf(t,e.getProductType())>=0},e.showLicense=function(){return h.showLicense},e.getLicense=function(){return h.license},e.isLicenseHardcoded=function(){return h.isLicenseHardcoded},e.getProductType=function(){return h.productType},e.getProductTypeHuman=function(){return h.productTypeHuman},e.getHumanReadableSeconds=function(e,t){const n=Math.floor(e/86400),r=Math.floor(e%86400/3600),i=Math.floor(e%3600/60);let o;o=t&&e<10?e<1?_.ceil(e%60,1):_.round(e%60,1):_.round(e%60,0);let s="";return n&&(s+=n+"d "),(n||r)&&(s+=r+"h "),(n||r||i)&&(s+=i+"m "),s+=o+"s",s.replace(/( 0[a-z])+$/,"")},e.getHumanReadableTimestamp=function(e){const t=Date.now(),n=(t-e)/1e3;if(n<60)return C.instant("timestamp.moments.ago");if(n<600)return C.instant("timestamp.minutes.ago");{const r=new Date(t),i=new Date(e);if(r.getYear()===i.getYear()&&r.getMonth()===i.getMonth()&&r.getDate()===i.getDate())return v("date")(e,"'"+C.instant("timestamp.today.at")+"' HH:mm");if(n<86400)return v("date")(e,"'"+C.instant("timestamp.yesterday.at")+"' HH:mm")}return v("date")(e,"'"+C.instant("timestamp.on")+"' yyyy-MM-dd '"+C.instant("timestamp.at")+"' HH:mm")}}function l(e,t,n){e.getRepositorySize=function(t){n.getSize(t).then((function(t){e.size=t.data}))}}function c(e,t,n,r){e.colors=[{name:"black",shade:"dark"},{name:"white",shade:"light"},{name:"red",shade:"dark"},{name:"blue",shade:"dark"},{name:"yellow",shade:"light"}],e.myColor=e.colors[2],e.specialValue={id:"12345",value:"green"},e.checkedItem={name:"black",shade:"dark"},e.toggleOn=!0,e.toggleSwitch=function(){e.toggleOn=!e.toggleOn},e.repositories=["Repo1","Repo2","Repo3"],e.formats=["JSON","JSON-LD","Turtle"],e.onopen=e.onclose=()=>angular.noop(),e.openInfoPanel=!1,e.showInfoPanel=function(){e.openInfoPanel=!0},e.closeInfoPanel=function(){e.openInfoPanel=!1},e.slideOpen=!1,e.toggleSlide=function(){e.slideOpen=!e.slideOpen},e.slider={value:10,minValue:10,maxValue:90,options:{floor:0,ceil:100,step:1}},e.openModal=function(){const e=r.openSimpleModal({title:"Confirm",message:"Lorem ipsum dolor sit amet.",warning:!0});e.result.then((function(){e.dismiss("cancel")}))},e.demoToast=function(e,t=!0){n[e]("Consectetur adipiscing elit. Sic transit gloria mundi.",t?"Lorem ipsum dolor sit amet":void 0,{timeOut:3e5,extendedTimeOut:3e5})},e.clearToasts=function(){n.clear()},e.clearRepo=function(){t.setRepository("")}}angular.module("graphdb.workbench.se.controllers",["graphdb.framework.core.services.jwtauth","graphdb.framework.core.services.repositories","graphdb.framework.core.services.licenseService","graphdb.framework.core.services.theme-service","ngCookies","ngFileUpload","graphdb.framework.core","graphdb.framework.core.controllers","graphdb.framework.core.directives","graphdb.framework.rest.license.service","graphdb.framework.rest.autocomplete.service","graphdb.framework.rest.repositories.service","graphdb.framework.rest.sparql.service","graphdb.framework.rest.plugins.service","graphdb.framework.rest.monitoring.service","graphdb.framework.rest.rdf4j.repositories.service","graphdb.framework.utils.localstorageadapter","graphdb.framework.utils.workbenchsettingsstorageservice","graphdb.framework.core.services.autocompleteStatus","graphdb.framework.utils.uriutils","graphdb.framework.guides.directives","graphdb.framework.guides.services","pageslide-directive","rzSlider"]).controller("mainCtrl",u).controller("homeCtrl",a).controller("repositorySizeCtrl",l).controller("uxTestCtrl",c),a.$inject=["$scope","$rootScope","$http","$repositories","$jwtAuth","$licenseService","AutocompleteRestService","LicenseRestService","RepositoriesRestService","RDF4JRepositoriesRestService","toastr"],u.$inject=["$scope","$menuItems","$jwtAuth","$http","toastr","$location","$repositories","$licenseService","$rootScope","productInfo","$timeout","ModalService","$interval","$filter","LicenseRestService","RepositoriesRestService","MonitoringRestService","SparqlRestService","$sce","LocalStorageAdapter","LSKeys","$translate","UriUtils","$q","GuidesService","$route","$window","AuthTokenService"],l.$inject=["$scope","$http","RepositoriesRestService"],c.$inject=["$scope","$repositories","toastr","ModalService"]},47:function(e,t){angular.module("graphdb.framework.core.services.theme-service",[]).factory("ThemeService",r),r.$inject=["WorkbenchSettingsStorageService","$translate","toastr"];const n={name:null,label:null,variables:{"primary-color-hue":null,"primary-color-saturation":null,"primary-color-lightness":null,"secondary-color-hue":null,"secondary-color-saturation":null,"secondary-color-lightness":null,"tertiary-color-hue":null,"tertiary-color-saturation":null,"tertiary-color-lightness":null,"icon-on-primary-color":null,"gray-color":null,"gray-color-dark":null,"color-danger-dark":null,"color-success-dark":null,"color-warning-dark":null,"color-info-dark":null,"color-danger-light":null,"color-success-light":null,"color-warning-light":null,"color-info-light":null,"color-help-light":null,"logo-color":null,"logo-text-color":null,"logo-background-color":null}};function r(e,t,r){const i=()=>{const e=s();return{name:e.name,label:t.instant(e.label)||e.label}},o=e=>{const t=PluginRegistry.findPlugin("themes",t=>t.name===e);return t||("default-theme"!==e?s():void 0)},s=()=>o("default-theme"),a=e=>{const i=function e(t,n,r,i){return Object.keys(t).forEach(o=>{o in n?angular.isObject(t[o])&&e(t[o],n[o],r+o+".",i):i.push(r+o)}),i}(n,e,"",[]);return!i.length||(r.error(t.instant("security.workbench.settings.theme.validation.missing-fields")),console.error(`\n            Color theme validation error. Missing definitions in plugin theme: ${i.join(", ")}.\n            Check the developers guide how to create a valid color theme.`),!1)},u=e=>{function t(e,t,n){e[t]||(e[t]=n)}function n(e,n=!0){const r={};for(const[t,n]of Object.entries(e.variables))r["--"+t]=n;if("properties"in e)for(const[t,n]of Object.entries(e.properties))r[t]=n;if(n)for(const e of["primary","secondary","tertiary"])t(r,`--${e}-color-hsl`,`var(--${e}-color-hue), var(--${e}-color-saturation), var(--${e}-color-lightness)`),t(r,`--${e}-color`,`hsl(var(--${e}-color-hsl))`),t(r,`--${e}-color-light`,`hsl(var(--${e}-color-hue), var(--${e}-color-saturation), calc(var(--${e}-color-lightness)*1.2))`),t(r,`--${e}-color-dark`,`hsl(var(--${e}-color-hue), var(--${e}-color-saturation), calc(var(--${e}-color-lightness)*0.8))`);return i=r,Object.entries(i).map(e=>e[0]+": "+e[1]+";").join("\n");var i}const r=e.dark;return`\n            :root {\n                ${n(e)}\n            }\n\n            :root.dark {\n                ${r?n(r,!1):""}\n            }\n        `};return{applyDarkThemeMode:()=>{if("dark"===e.getWorkbenchSettings().mode){document.querySelector(":root").classList.add("dark")}},toggleThemeMode:e=>{const t=document.querySelector(":root");"dark"===e?t.classList.add("dark"):t.classList.remove("dark")},getDefaultTheme:i,getThemeDefinition:()=>{const t=e.getThemeName();let n=PluginRegistry.findPlugin("themes",e=>e.name===t);return n||(n=s()),n},getTheme:()=>{let n;const r=(()=>{const t=e.getThemeName();return o(t)})();return n=r?{name:r.name,label:t.instant(r.label)||r.label}:i(),n},getThemes:()=>PluginRegistry.get("themes").filter(a).map(e=>({name:e.name,label:t.instant(e.label)||e.label})),applyTheme:e=>{const t=(e=>{const t=u(e),n=new CSSStyleSheet;return n.title=e.name,n.replaceSync(t),n})(o(e));document.adoptedStyleSheets=[t]}}}},48:function(e,t){angular.module("graphdb.framework.rest.sparql.service",[]).factory("SparqlRestService",n),n.$inject=["$http"];function n(e){return{getSavedQueries:function(){return e.get("rest/sparql/saved-queries")},getSavedQuery:function(t,n){let r="";null!=n&&(r="&owner="+encodeURIComponent(n));return e.get(`rest/sparql/saved-queries?name=${encodeURIComponent(t)}${r}`)},addKnownPrefixes:function(t){return e.post("rest/sparql/add-known-prefixes",t)},editSavedQuery:function(t){return e.put("rest/sparql/saved-queries",t)},deleteSavedQuery:function(t){return e.delete("rest/sparql/saved-queries?name="+encodeURIComponent(t))},addNewSavedQuery:function(t){return e.post("rest/sparql/saved-queries",t)},getQueryResult:function(t,n,r){return e.get("repositories/"+t,{params:n,headers:{Accept:r}})}}}},49:function(e,t){angular.module("graphdb.framework.core.services.licenseService",[]).service("$licenseService",["$rootScope","LicenseRestService","$translate",function(e,t,n){const r=this;this.checkLicenseStatus=function(){r.loadingLicense=!0,t.getHardcodedLicense().success((function(e){r.isLicenseHardcoded="true"===e})).error((function(){r.isLicenseHardcoded=!0})).then((function(){t.getLicenseInfo().then((function(e){r.license=e.data,r.showLicense=!0,r.loadingLicense=!1,i(r.license)}),(function(){r.license={message:n.instant("no.license.set.msg"),valid:!1},r.showLicense=!0,r.loadingLicense=!1,i(r.license)}))}))};const i=function(e){r.productType=e.productType,"standard"===r.productType?r.productTypeHuman="Standard":"enterprise"===r.productType?r.productTypeHuman="Enterprise":"free"===r.productType?r.productTypeHuman="Free":"graphdb"===r.productType&&(r.productTypeHuman="GraphDB")};this.checkLicenseStatus(),this.isLicenseValid=function(){return r.license&&r.license.valid}}])},5:function(e,t,n){(function(e){var n,r,i,o,s,a,u,l,c,h,p,d={userAgent:!1},f={},g=g||(n=Math,i=(r={}).lib={},o=i.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=n.ceil(t/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(4294967296*n.random()|0);return new s.init(t,e)}}),a=r.enc={},u=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new s.init(n,t/2)}},l=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new s.init(n,t)}},c=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},h=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,r=t.words,i=t.sigBytes,o=this.blockSize,a=i/(4*o),u=(a=e?n.ceil(a):n.max((0|a)-this._minBufferSize,0))*o,l=n.min(4*u,i);if(u){for(var c=0;c<u;c+=o)this._doProcessBlock(r,c);var h=r.splice(0,u);t.sigBytes-=l}return new s.init(h,l)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),i.Hasher=h.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}}),p=r.algo={},r);!function(e){var t,n=(t=g).lib,r=n.Base,i=n.WordArray;(t=t.x64={}).Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var o=e[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),g.lib.Cipher||function(e){var t=(d=g).lib,n=t.Base,r=t.WordArray,i=t.BufferedBlockAlgorithm,o=d.enc.Base64,s=d.algo.EvpKDF,a=t.Cipher=i.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,r){return("string"==typeof n?f:p).encrypt(e,t,n,r)},decrypt:function(t,n,r){return("string"==typeof n?f:p).decrypt(e,t,n,r)}}}});t.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var u=d.mode={},l=function(e,t,n){var r=this._iv;r?this._iv=void 0:r=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=r[i]},c=(t.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();c.Encryptor=c.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;l.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),c.Decryptor=c.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=e.slice(t,t+r);n.decryptBlock(e,t),l.call(this,e,t,r),this._prevBlock=i}}),u=u.CBC=c,c=(d.pad={}).Pkcs7={pad:function(e,t){for(var n,i=(n=(n=4*t)-e.sigBytes%n)<<24|n<<16|n<<8|n,o=[],s=0;s<n;s+=4)o.push(i);n=r.create(o,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=a.extend({cfg:a.cfg.extend({mode:u,padding:c}),reset:function(){a.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var h=t.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),p=(u=(d.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?r.create([1398893684,1701076831]).concat(e).concat(t):t).toString(o)},parse:function(e){var t=(e=o.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=r.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return h.create({ciphertext:e,salt:n})}},t.SerializableCipher=n.extend({cfg:n.extend({format:u}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r);return t=i.finalize(t),i=i.cfg,h.create({ciphertext:t,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),d=(d.kdf={}).OpenSSL={execute:function(e,t,n,i){return i||(i=r.random(8)),e=s.create({keySize:t+n}).compute(e,i),n=r.create(e.words.slice(t),4*n),e.sigBytes=4*t,h.create({key:e,iv:n,salt:i})}},f=t.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:d}),encrypt:function(e,t,n,r){return n=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,(e=p.encrypt.call(this,e,t,n.key,r)).mixIn(n),e},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,p.decrypt.call(this,e,t,n.key,r)}})}(),function(){for(var e=g,t=e.lib.BlockCipher,n=e.algo,r=[],i=[],o=[],s=[],a=[],u=[],l=[],c=[],h=[],p=[],d=[],f=0;256>f;f++)d[f]=128>f?f<<1:f<<1^283;var m=0,v=0;for(f=0;256>f;f++){var y=(y=v^v<<1^v<<2^v<<3^v<<4)>>>8^255&y^99;r[m]=y,i[y]=m;var b=d[m],$=d[b],w=d[$],x=257*d[y]^16843008*y;o[m]=x<<24|x>>>8,s[m]=x<<16|x>>>16,a[m]=x<<8|x>>>24,u[m]=x,x=16843009*w^65537*$^257*b^16843008*m,l[y]=x<<24|x>>>8,c[y]=x<<16|x>>>16,h[y]=x<<8|x>>>24,p[y]=x,m?(m=b^d[d[d[w^b]]],v^=d[d[v]]):m=v=1}var S=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){for(var e=(n=this._key).words,t=n.sigBytes/4,n=4*((this._nRounds=t+6)+1),i=this._keySchedule=[],o=0;o<n;o++)if(o<t)i[o]=e[o];else{var s=i[o-1];o%t?6<t&&4==o%t&&(s=r[s>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s]):(s=r[(s=s<<8|s>>>24)>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s],s^=S[o/t|0]<<24),i[o]=i[o-t]^s}for(e=this._invKeySchedule=[],t=0;t<n;t++)o=n-t,s=t%4?i[o]:i[o-4],e[t]=4>t||4>=o?s:l[r[s>>>24]]^c[r[s>>>16&255]]^h[r[s>>>8&255]]^p[r[255&s]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,a,u,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,c,h,p,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,s,a){for(var u=this._nRounds,l=e[t]^n[0],c=e[t+1]^n[1],h=e[t+2]^n[2],p=e[t+3]^n[3],d=4,f=1;f<u;f++){var g=r[l>>>24]^i[c>>>16&255]^o[h>>>8&255]^s[255&p]^n[d++],m=r[c>>>24]^i[h>>>16&255]^o[p>>>8&255]^s[255&l]^n[d++],v=r[h>>>24]^i[p>>>16&255]^o[l>>>8&255]^s[255&c]^n[d++];p=r[p>>>24]^i[l>>>16&255]^o[c>>>8&255]^s[255&h]^n[d++],l=g,c=m,h=v}g=(a[l>>>24]<<24|a[c>>>16&255]<<16|a[h>>>8&255]<<8|a[255&p])^n[d++],m=(a[c>>>24]<<24|a[h>>>16&255]<<16|a[p>>>8&255]<<8|a[255&l])^n[d++],v=(a[h>>>24]<<24|a[p>>>16&255]<<16|a[l>>>8&255]<<8|a[255&c])^n[d++],p=(a[p>>>24]<<24|a[l>>>16&255]<<16|a[c>>>8&255]<<8|a[255&h])^n[d++],e[t]=g,e[t+1]=m,e[t+2]=v,e[t+3]=p},keySize:8});e.AES=t._createHelper(n)}(),function(){function e(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function t(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}var n=g,r=(i=n.lib).WordArray,i=i.BlockCipher,o=n.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;56>n;n++){var r=s[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(e=this._subKeys=[],r=0;16>r;r++){var i=e[r]=[],o=u[r];for(n=0;24>n;n++)i[n/6|0]|=t[(a[n]-1+o)%28]<<31-n%6,i[4+(n/6|0)]|=t[28+(a[n+24]-1+o)%28]<<31-n%6;for(i[0]=i[0]<<1|i[0]>>>31,n=1;7>n;n++)i[n]>>>=4*(n-1)+3;i[7]=i[7]<<5|i[7]>>>27}for(t=this._invSubKeys=[],n=0;16>n;n++)t[n]=e[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(n,r,i){this._lBlock=n[r],this._rBlock=n[r+1],e.call(this,4,252645135),e.call(this,16,65535),t.call(this,2,858993459),t.call(this,8,16711935),e.call(this,1,1431655765);for(var o=0;16>o;o++){for(var s=i[o],a=this._lBlock,u=this._rBlock,h=0,p=0;8>p;p++)h|=l[p][((u^s[p])&c[p])>>>0];this._lBlock=u,this._rBlock=a^h}i=this._lBlock,this._lBlock=this._rBlock,this._rBlock=i,e.call(this,1,1431655765),t.call(this,8,16711935),t.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),n[r]=this._lBlock,n[r+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});n.DES=i._createHelper(h),o=o.TripleDES=i.extend({_doReset:function(){var e=this._key.words;this._des1=h.createEncryptor(r.create(e.slice(0,2))),this._des2=h.createEncryptor(r.create(e.slice(2,4))),this._des3=h.createEncryptor(r.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2}),n.TripleDES=i._createHelper(o)}(),function(){var e=g,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;4>s&&i+.75*s<n;s++)e.push(r.charAt(o>>>6*(3-s)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,r=this._map;(i=r.charAt(64))&&(-1!=(i=e.indexOf(i))&&(n=i));for(var i=[],o=0,s=0;s<n;s++)if(s%4){var a=r.indexOf(e.charAt(s-1))<<s%4*2,u=r.indexOf(e.charAt(s))>>>6-s%4*2;i[o>>>2]|=(a|u)<<24-o%4*8,o++}return t.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,n,r,i,o,s){return((e=e+(t&n|~t&r)+i+s)<<o|e>>>32-o)+t}function n(e,t,n,r,i,o,s){return((e=e+(t&r|n&~r)+i+s)<<o|e>>>32-o)+t}function r(e,t,n,r,i,o,s){return((e=e+(t^n^r)+i+s)<<o|e>>>32-o)+t}function i(e,t,n,r,i,o,s){return((e=e+(n^(t|~r))+i+s)<<o|e>>>32-o)+t}for(var o=g,s=(u=o.lib).WordArray,a=u.Hasher,u=o.algo,l=[],c=0;64>c;c++)l[c]=4294967296*e.abs(e.sin(c+1))|0;u=u.MD5=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,o){for(var s=0;16>s;s++){var a=e[u=o+s];e[u]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}s=this._hash.words;var u=e[o+0],c=(a=e[o+1],e[o+2]),h=e[o+3],p=e[o+4],d=e[o+5],f=e[o+6],g=e[o+7],m=e[o+8],v=e[o+9],y=e[o+10],b=e[o+11],$=e[o+12],w=e[o+13],x=e[o+14],S=e[o+15],E=t(E=s[0],F=s[1],C=s[2],A=s[3],u,7,l[0]),A=t(A,E,F,C,a,12,l[1]),C=t(C,A,E,F,c,17,l[2]),F=t(F,C,A,E,h,22,l[3]);E=t(E,F,C,A,p,7,l[4]),A=t(A,E,F,C,d,12,l[5]),C=t(C,A,E,F,f,17,l[6]),F=t(F,C,A,E,g,22,l[7]),E=t(E,F,C,A,m,7,l[8]),A=t(A,E,F,C,v,12,l[9]),C=t(C,A,E,F,y,17,l[10]),F=t(F,C,A,E,b,22,l[11]),E=t(E,F,C,A,$,7,l[12]),A=t(A,E,F,C,w,12,l[13]),C=t(C,A,E,F,x,17,l[14]),E=n(E,F=t(F,C,A,E,S,22,l[15]),C,A,a,5,l[16]),A=n(A,E,F,C,f,9,l[17]),C=n(C,A,E,F,b,14,l[18]),F=n(F,C,A,E,u,20,l[19]),E=n(E,F,C,A,d,5,l[20]),A=n(A,E,F,C,y,9,l[21]),C=n(C,A,E,F,S,14,l[22]),F=n(F,C,A,E,p,20,l[23]),E=n(E,F,C,A,v,5,l[24]),A=n(A,E,F,C,x,9,l[25]),C=n(C,A,E,F,h,14,l[26]),F=n(F,C,A,E,m,20,l[27]),E=n(E,F,C,A,w,5,l[28]),A=n(A,E,F,C,c,9,l[29]),C=n(C,A,E,F,g,14,l[30]),E=r(E,F=n(F,C,A,E,$,20,l[31]),C,A,d,4,l[32]),A=r(A,E,F,C,m,11,l[33]),C=r(C,A,E,F,b,16,l[34]),F=r(F,C,A,E,x,23,l[35]),E=r(E,F,C,A,a,4,l[36]),A=r(A,E,F,C,p,11,l[37]),C=r(C,A,E,F,g,16,l[38]),F=r(F,C,A,E,y,23,l[39]),E=r(E,F,C,A,w,4,l[40]),A=r(A,E,F,C,u,11,l[41]),C=r(C,A,E,F,h,16,l[42]),F=r(F,C,A,E,f,23,l[43]),E=r(E,F,C,A,v,4,l[44]),A=r(A,E,F,C,$,11,l[45]),C=r(C,A,E,F,S,16,l[46]),E=i(E,F=r(F,C,A,E,c,23,l[47]),C,A,u,6,l[48]),A=i(A,E,F,C,g,10,l[49]),C=i(C,A,E,F,x,15,l[50]),F=i(F,C,A,E,d,21,l[51]),E=i(E,F,C,A,$,6,l[52]),A=i(A,E,F,C,h,10,l[53]),C=i(C,A,E,F,y,15,l[54]),F=i(F,C,A,E,a,21,l[55]),E=i(E,F,C,A,m,6,l[56]),A=i(A,E,F,C,S,10,l[57]),C=i(C,A,E,F,f,15,l[58]),F=i(F,C,A,E,w,21,l[59]),E=i(E,F,C,A,p,6,l[60]),A=i(A,E,F,C,b,10,l[61]),C=i(C,A,E,F,c,15,l[62]),F=i(F,C,A,E,v,21,l[63]);s[0]=s[0]+E|0,s[1]=s[1]+F|0,s[2]=s[2]+C|0,s[3]=s[3]+A|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296);for(n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(n.length+1),this._process(),n=(t=this._hash).words,r=0;4>r;r++)i=n[r],n[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return t},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),o.MD5=a._createHelper(u),o.HmacMD5=a._createHmacHelper(u)}(Math),function(){var e=g,t=(i=e.lib).WordArray,n=i.Hasher,r=[],i=e.algo.SHA1=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],o=n[1],s=n[2],a=n[3],u=n[4],l=0;80>l;l++){if(16>l)r[l]=0|e[t+l];else{var c=r[l-3]^r[l-8]^r[l-14]^r[l-16];r[l]=c<<1|c>>>31}c=(i<<5|i>>>27)+u+r[l],c=20>l?c+(1518500249+(o&s|~o&a)):40>l?c+(1859775393+(o^s^a)):60>l?c+((o&s|o&a|s&a)-1894007588):c+((o^s^a)-899497514),u=a,a=s,s=o<<30|o>>>2,o=i,i=c}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=n._createHelper(i),e.HmacSHA1=n._createHmacHelper(i)}(),function(e){for(var t=g,n=(i=t.lib).WordArray,r=i.Hasher,i=t.algo,o=[],s=[],a=function(e){return 4294967296*(e-(0|e))|0},u=2,l=0;64>l;){var c;e:{c=u;for(var h=e.sqrt(c),p=2;p<=h;p++)if(!(c%p)){c=!1;break e}c=!0}c&&(8>l&&(o[l]=a(e.pow(u,.5))),s[l]=a(e.pow(u,1/3)),l++),u++}var d=[];i=i.SHA256=r.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],l=n[5],c=n[6],h=n[7],p=0;64>p;p++){if(16>p)d[p]=0|e[t+p];else{var f=d[p-15],g=d[p-2];d[p]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+d[p-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+d[p-16]}f=h+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&l^~u&c)+s[p]+d[p],g=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&o^i&o),h=c,c=l,l=u,u=a+f|0,a=o,o=i,i=r,r=f+g|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0,n[5]=n[5]+l|0,n[6]=n[6]+c|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=r._createHelper(i),t.HmacSHA256=r._createHmacHelper(i)}(Math),function(){var e=g,t=e.lib.WordArray,n=(r=e.algo).SHA256,r=r.SHA224=n.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=n._createHelper(r),e.HmacSHA224=n._createHmacHelper(r)}(),function(){function e(){return r.create.apply(r,arguments)}for(var t=g,n=t.lib.Hasher,r=(o=t.x64).Word,i=o.WordArray,o=t.algo,s=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],a=[],u=0;80>u;u++)a[u]=e();o=o.SHA512=n.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=(h=this._hash.words)[0],r=h[1],i=h[2],o=h[3],u=h[4],l=h[5],c=h[6],h=h[7],p=n.high,d=n.low,f=r.high,g=r.low,m=i.high,v=i.low,y=o.high,b=o.low,$=u.high,w=u.low,x=l.high,S=l.low,E=c.high,A=c.low,C=h.high,F=h.low,T=p,D=d,R=f,k=g,I=m,P=v,O=y,_=b,j=$,L=w,N=x,M=S,B=E,H=A,U=C,V=F,q=0;80>q;q++){var z=a[q];if(16>q)var K=z.high=0|e[t+2*q],G=z.low=0|e[t+2*q+1];else{K=((G=(K=a[q-15]).high)>>>1|(W=K.low)<<31)^(G>>>8|W<<24)^G>>>7;var W=(W>>>1|G<<31)^(W>>>8|G<<24)^(W>>>7|G<<25),Y=((G=(Y=a[q-2]).high)>>>19|(X=Y.low)<<13)^(G<<3|X>>>29)^G>>>6,X=(X>>>19|G<<13)^(X<<3|G>>>29)^(X>>>6|G<<26),J=(G=a[q-7]).high,Q=(Z=a[q-16]).high,Z=Z.low;K=(K=(K=K+J+((G=W+G.low)>>>0<W>>>0?1:0))+Y+((G=G+X)>>>0<X>>>0?1:0))+Q+((G=G+Z)>>>0<Z>>>0?1:0);z.high=K,z.low=G}J=j&N^~j&B,Z=L&M^~L&H,z=T&R^T&I^R&I;var ee=D&k^D&P^k&P,te=(W=(T>>>28|D<<4)^(T<<30|D>>>2)^(T<<25|D>>>7),Y=(D>>>28|T<<4)^(D<<30|T>>>2)^(D<<25|T>>>7),(X=s[q]).high),ne=X.low;Q=U+((j>>>14|L<<18)^(j>>>18|L<<14)^(j<<23|L>>>9))+((X=V+((L>>>14|j<<18)^(L>>>18|j<<14)^(L<<23|j>>>9)))>>>0<V>>>0?1:0),U=B,V=H,B=N,H=M,N=j,M=L,j=O+(Q=(Q=(Q=Q+J+((X=X+Z)>>>0<Z>>>0?1:0))+te+((X=X+ne)>>>0<ne>>>0?1:0))+K+((X=X+G)>>>0<G>>>0?1:0))+((L=_+X|0)>>>0<_>>>0?1:0)|0,O=I,_=P,I=R,P=k,R=T,k=D,T=Q+(z=W+z+((G=Y+ee)>>>0<Y>>>0?1:0))+((D=X+G|0)>>>0<X>>>0?1:0)|0}d=n.low=d+D,n.high=p+T+(d>>>0<D>>>0?1:0),g=r.low=g+k,r.high=f+R+(g>>>0<k>>>0?1:0),v=i.low=v+P,i.high=m+I+(v>>>0<P>>>0?1:0),b=o.low=b+_,o.high=y+O+(b>>>0<_>>>0?1:0),w=u.low=w+L,u.high=$+j+(w>>>0<L>>>0?1:0),S=l.low=S+M,l.high=x+N+(S>>>0<M>>>0?1:0),A=c.low=A+H,c.high=E+B+(A>>>0<H>>>0?1:0),F=h.low=F+V,h.high=C+U+(F>>>0<V>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=n._createHelper(o),t.HmacSHA512=n._createHmacHelper(o)}(),function(){var e=g,t=(i=e.x64).Word,n=i.WordArray,r=(i=e.algo).SHA512,i=i.SHA384=r.extend({_doReset:function(){this._hash=new n.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=r._createHelper(i),e.HmacSHA384=r._createHmacHelper(i)}(),function(){var e=g,t=(r=e.lib).WordArray,n=r.Hasher,r=e.algo,i=t.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),o=t.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),s=t.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),a=t.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=t.create([0,1518500249,1859775393,2400959708,2840853838]),l=t.create([1352829926,1548603684,1836072691,2053994217,0]);r=r.RIPEMD160=n.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;16>n;n++){var r=e[$=t+n];e[$]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var c,h,p,d,f,g,m,v,y,b,$=this._hash.words,w=(r=u.words,l.words),x=i.words,S=o.words,E=s.words,A=a.words;g=c=$[0],m=h=$[1],v=p=$[2],y=d=$[3],b=f=$[4];var C;for(n=0;80>n;n+=1)C=c+e[t+x[n]]|0,C=16>n?C+((h^p^d)+r[0]):32>n?C+((h&p|~h&d)+r[1]):48>n?C+(((h|~p)^d)+r[2]):64>n?C+((h&d|p&~d)+r[3]):C+((h^(p|~d))+r[4]),C=(C=(C|=0)<<E[n]|C>>>32-E[n])+f|0,c=f,f=d,d=p<<10|p>>>22,p=h,h=C,C=g+e[t+S[n]]|0,C=16>n?C+((m^(v|~y))+w[0]):32>n?C+((m&y|v&~y)+w[1]):48>n?C+(((m|~v)^y)+w[2]):64>n?C+((m&v|~m&y)+w[3]):C+((m^v^y)+w[4]),C=(C=(C|=0)<<A[n]|C>>>32-A[n])+b|0,g=b,b=y,y=v<<10|v>>>22,v=m,m=C;C=$[1]+p+y|0,$[1]=$[2]+d+b|0,$[2]=$[3]+f+g|0,$[3]=$[4]+c+m|0,$[4]=$[0]+h+v|0,$[0]=C},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;for(t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),t=(e=this._hash).words,n=0;5>n;n++)r=t[n],t[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return e},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.RIPEMD160=n._createHelper(r),e.HmacRIPEMD160=n._createHmacHelper(r)}(Math),function(){var e=g,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=t.parse(n));var r=e.blockSize,i=4*r;n.sigBytes>i&&(n=e.finalize(n)),n.clamp();for(var o=this._oKey=n.clone(),s=this._iKey=n.clone(),a=o.words,u=s.words,l=0;l<r;l++)a[l]^=1549556828,u[l]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e,t=g,n=(e=t.lib).Base,r=e.WordArray,i=(e=t.algo).HMAC,o=e.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:e.SHA1,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var n=this.cfg,o=i.create(n.hasher,e),s=r.create(),a=r.create([1]),u=s.words,l=a.words,c=n.keySize;for(n=n.iterations;u.length<c;){var h=o.update(t).finalize(a);o.reset();for(var p=h.words,d=p.length,f=h,g=1;g<n;g++){f=o.finalize(f),o.reset();for(var m=f.words,v=0;v<d;v++)p[v]^=m[v]}s.concat(h),l[0]++}return s.sigBytes=4*c,s}});t.PBKDF2=function(e,t,n){return o.create(n).compute(e,t)}}();
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
var m,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function y(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=v.charAt(n>>6)+v.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=v.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=v.charAt(n>>2)+v.charAt((3&n)<<4)),"=";(3&r.length)>0;)r+="=";return r}function b(e){var t,n,r,i="",o=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t)(r=v.indexOf(e.charAt(t)))<0||(0==o?(i+=C(r>>2),n=3&r,o=1):1==o?(i+=C(n<<2|r>>4),n=15&r,o=2):2==o?(i+=C(n),i+=C(r>>2),n=3&r,o=3):(i+=C(n<<2|r>>4),i+=C(15&r),o=0));return 1==o&&(i+=C(n<<2)),i}function $(e){var t,n=b(e),r=new Array;for(t=0;2*t<n.length;++t)r[t]=parseInt(n.substring(2*t,2*t+2),16);return r}function w(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function x(){return new w(null)}"Microsoft Internet Explorer"==d.appName?(w.prototype.am=function(e,t,n,r,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var u=32767&this[e],l=this[e++]>>15,c=a*u+l*s;i=((u=s*u+((32767&c)<<15)+n[r]+(1073741823&i))>>>30)+(c>>>15)+a*l+(i>>>30),n[r++]=1073741823&u}return i},m=30):"Netscape"!=d.appName?(w.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var s=t*this[e++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},m=26):(w.prototype.am=function(e,t,n,r,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var u=16383&this[e],l=this[e++]>>14,c=a*u+l*s;i=((u=s*u+((16383&c)<<14)+n[r]+i)>>28)+(c>>14)+a*l,n[r++]=268435455&u}return i},m=28),w.prototype.DB=m,w.prototype.DM=(1<<m)-1,w.prototype.DV=1<<m;w.prototype.FV=Math.pow(2,52),w.prototype.F1=52-m,w.prototype.F2=2*m-52;var S,E,A=new Array;for(S="0".charCodeAt(0),E=0;E<=9;++E)A[S++]=E;for(S="a".charCodeAt(0),E=10;E<36;++E)A[S++]=E;for(S="A".charCodeAt(0),E=10;E<36;++E)A[S++]=E;function C(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function F(e,t){var n=A[e.charCodeAt(t)];return null==n?-1:n}function T(e){var t=x();return t.fromInt(e),t}function D(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function R(e){this.m=e}function k(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function I(e,t){return e&t}function P(e,t){return e|t}function O(e,t){return e^t}function _(e,t){return e&~t}function j(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function L(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function N(){}function M(e){return e}function B(e){this.r2=x(),this.q3=x(),w.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}R.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},R.prototype.revert=function(e){return e},R.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},R.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},R.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},k.prototype.convert=function(e){var t=x();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(w.ZERO)>0&&this.m.subTo(t,t),t},k.prototype.revert=function(e){var t=x();return e.copyTo(t),this.reduce(t),t},k.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},k.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},k.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},w.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},w.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},w.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var s=8==n?255&e[r]:F(e,r);s<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=n)>=this.DB&&(o-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&w.ZERO.subTo(this,this)},w.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},w.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},w.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},w.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},w.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&o)<<i,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},w.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},w.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&w.ZERO.subTo(t,t)},w.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},w.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=x());var o=x(),s=this.s,a=e.s,u=this.DB-D(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,n)):(r.copyTo(o),i.copyTo(n));var l=o.t,c=o[l-1];if(0!=c){var h=c*(1<<this.F1)+(l>1?o[l-2]>>this.F2:0),p=this.FV/h,d=(1<<this.F1)/h,f=1<<this.F2,g=n.t,m=g-l,v=null==t?x():t;for(o.dlShiftTo(m,v),n.compareTo(v)>=0&&(n[n.t++]=1,n.subTo(v,n)),w.ONE.dlShiftTo(l,v),v.subTo(o,o);o.t<l;)o[o.t++]=0;for(;--m>=0;){var y=n[--g]==c?this.DM:Math.floor(n[g]*p+(n[g-1]+f)*d);if((n[g]+=o.am(0,y,n,m,0,l))<y)for(o.dlShiftTo(m,v),n.subTo(v,n);n[g]<--y;)n.subTo(v,n)}null!=t&&(n.drShiftTo(l,t),s!=a&&w.ZERO.subTo(t,t)),n.t=l,n.clamp(),u>0&&n.rShiftTo(u,n),s<0&&w.ZERO.subTo(n,n)}}},w.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},w.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},w.prototype.exp=function(e,t){if(e>4294967295||e<1)return w.ONE;var n=x(),r=x(),i=t.convert(this),o=D(e)-1;for(i.copyTo(n);--o>=0;)if(t.sqrTo(n,r),(e&1<<o)>0)t.mulTo(r,i,n);else{var s=n;n=r,r=s}return t.revert(n)},w.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=C(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=C(n));return i?o:"0"},w.prototype.negate=function(){var e=x();return w.ZERO.subTo(this,e),e},w.prototype.abs=function(){return this.s<0?this.negate():this},w.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},w.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+D(this[this.t-1]^this.s&this.DM)},w.prototype.mod=function(e){var t=x();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(w.ZERO)>0&&e.subTo(t,t),t},w.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new R(t):new k(t),this.exp(e,n)},w.ZERO=T(0),w.ONE=T(1),N.prototype.convert=M,N.prototype.revert=M,N.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},N.prototype.sqrTo=function(e,t){e.squareTo(t)},B.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=x();return e.copyTo(t),this.reduce(t),t},B.prototype.revert=function(e){return e},B.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},B.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},B.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var H=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],U=(1<<26)/H[H.length-1];
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function V(){this.i=0,this.j=0,this.S=new Array}w.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},w.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=T(n),i=x(),o=x(),s="";for(this.divRemTo(r,i,o);i.signum()>0;)s=(n+o.intValue()).toString(e).substr(1)+s,i.divRemTo(r,i,o);return o.intValue().toString(e)+s},w.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,o=0,s=0,a=0;a<e.length;++a){var u=F(e,a);u<0?"-"==e.charAt(a)&&0==this.signum()&&(i=!0):(s=t*s+u,++o>=n&&(this.dMultiply(r),this.dAddOffset(s,0),o=0,s=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(s,0)),i&&w.ZERO.subTo(this,this)},w.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(w.ONE.shiftLeft(e-1),P,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(w.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=1+(e>>3),t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},w.prototype.bitwiseTo=function(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;r<o;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=o;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},w.prototype.changeBit=function(e,t){var n=w.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},w.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},w.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},w.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},w.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()},w.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},w.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},w.prototype.millerRabin=function(e){var t=this.subtract(w.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var r=t.shiftRight(n);(e=e+1>>1)>H.length&&(e=H.length);for(var i=x(),o=0;o<e;++o){i.fromInt(H[Math.floor(Math.random()*H.length)]);var s=i.modPow(r,this);if(0!=s.compareTo(w.ONE)&&0!=s.compareTo(t)){for(var a=1;a++<n&&0!=s.compareTo(t);)if(0==(s=s.modPowInt(2,this)).compareTo(w.ONE))return!1;if(0!=s.compareTo(t))return!1}}return!0},w.prototype.clone=
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function(){var e=x();return this.copyTo(e),e},w.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},w.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},w.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},w.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},w.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},w.prototype.equals=function(e){return 0==this.compareTo(e)},w.prototype.min=function(e){return this.compareTo(e)<0?this:e},w.prototype.max=function(e){return this.compareTo(e)>0?this:e},w.prototype.and=function(e){var t=x();return this.bitwiseTo(e,I,t),t},w.prototype.or=function(e){var t=x();return this.bitwiseTo(e,P,t),t},w.prototype.xor=function(e){var t=x();return this.bitwiseTo(e,O,t),t},w.prototype.andNot=function(e){var t=x();return this.bitwiseTo(e,_,t),t},w.prototype.not=function(){for(var e=x(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},w.prototype.shiftLeft=function(e){var t=x();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},w.prototype.shiftRight=function(e){var t=x();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},w.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+j(this[e]);return this.s<0?this.t*this.DB:-1},w.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=L(this[n]^t);return e},w.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},w.prototype.setBit=function(e){return this.changeBit(e,P)},w.prototype.clearBit=function(e){return this.changeBit(e,_)},w.prototype.flipBit=function(e){return this.changeBit(e,O)},w.prototype.add=function(e){var t=x();return this.addTo(e,t),t},w.prototype.subtract=function(e){var t=x();return this.subTo(e,t),t},w.prototype.multiply=function(e){var t=x();return this.multiplyTo(e,t),t},w.prototype.divide=function(e){var t=x();return this.divRemTo(e,t,null),t},w.prototype.remainder=function(e){var t=x();return this.divRemTo(e,null,t),t},w.prototype.divideAndRemainder=function(e){var t=x(),n=x();return this.divRemTo(e,t,n),new Array(t,n)},w.prototype.modPow=function(e,t){var n,r,i=e.bitLength(),o=T(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new R(t):t.isEven()?new B(t):new k(t);var s=new Array,a=3,u=n-1,l=(1<<n)-1;if(s[1]=r.convert(this),n>1){var c=x();for(r.sqrTo(s[1],c);a<=l;)s[a]=x(),r.mulTo(c,s[a-2],s[a]),a+=2}var h,p,d=e.t-1,f=!0,g=x();for(i=D(e[d])-1;d>=0;){for(i>=u?h=e[d]>>i-u&l:(h=(e[d]&(1<<i+1)-1)<<u-i,d>0&&(h|=e[d-1]>>this.DB+i-u)),a=n;0==(1&h);)h>>=1,--a;if((i-=a)<0&&(i+=this.DB,--d),f)s[h].copyTo(o),f=!1;else{for(;a>1;)r.sqrTo(o,g),r.sqrTo(g,o),a-=2;a>0?r.sqrTo(o,g):(p=o,o=g,g=p),r.mulTo(g,s[h],o)}for(;d>=0&&0==(e[d]&1<<i);)r.sqrTo(o,g),p=o,o=g,g=p,--i<0&&(i=this.DB-1,--d)}return r.revert(o)},w.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return w.ZERO;for(var n=e.clone(),r=this.clone(),i=T(1),o=T(0),s=T(0),a=T(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),t?(s.isEven()&&a.isEven()||(s.addTo(this,s),a.subTo(e,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(s,i),o.subTo(a,o)):(r.subTo(n,r),t&&s.subTo(i,s),a.subTo(o,a))}return 0!=r.compareTo(w.ONE)?w.ZERO:a.compareTo(e)>=0?a.subtract(e):a.signum()<0?(a.addTo(e,a),a.signum()<0?a.add(e):a):a},w.prototype.pow=function(e){return this.exp(e,new N)},w.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},w.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=H[H.length-1]){for(t=0;t<H.length;++t)if(n[0]==H[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<H.length;){for(var r=H[t],i=t+1;i<H.length&&r<U;)r*=H[i++];for(r=n.modInt(r);t<i;)if(r%H[t++]==0)return!1}return n.millerRabin(e)},w.prototype.square=function(){var e=x();return this.squareTo(e),e},V.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},V.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var q,z,K;
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function G(){!function(e){z[K++]^=255&e,z[K++]^=e>>8&255,z[K++]^=e>>16&255,z[K++]^=e>>24&255,K>=256&&(K-=256)}((new Date).getTime())}if(null==z){var W;if(z=new Array,K=0,void 0!==f&&(void 0!==f.crypto||void 0!==f.msCrypto)){var Y=f.crypto||f.msCrypto;if(Y.getRandomValues){var X=new Uint8Array(32);for(Y.getRandomValues(X),W=0;W<32;++W)z[K++]=X[W]}else if("Netscape"==d.appName&&d.appVersion<"5"){var J=f.crypto.random(32);for(W=0;W<J.length;++W)z[K++]=255&J.charCodeAt(W)}}for(;K<256;)W=Math.floor(65536*Math.random()),z[K++]=W>>>8,z[K++]=255&W;K=0,G()}function Q(){if(null==q){for(G(),(q=new V).init(z),K=0;K<z.length;++K)z[K]=0;K=0}return q.next()}function Z(){}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function ee(e,t){return new w(e,t)}function te(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function ne(e,t){this.x=t,this.q=e}function re(e,t,n,r){this.curve=e,this.x=t,this.y=n,this.z=null==r?w.ONE:r,this.zinv=null}function ie(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new re(this,null,null)}Z.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=Q()},te.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},te.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=ee(e,16),this.e=parseInt(t,16)}},te.prototype.type="RSA",te.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(n)<0;)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},te.prototype.setPrivate=function(e,t,n){if(this.isPrivate=!0,"string"!=typeof e)this.n=e,this.e=t,this.d=n;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key";this.n=ee(e,16),this.e=parseInt(t,16),this.d=ee(n,16)}},te.prototype.setPrivateEx=function(e,t,n,r,i,o,s,a){if(this.isPrivate=!0,this.isPublic=!1,null==e)throw"RSASetPrivateEx N == null";if(null==t)throw"RSASetPrivateEx E == null";if(0==e.length)throw"RSASetPrivateEx N.length == 0";if(0==t.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=ee(e,16),this.e=parseInt(t,16),this.d=ee(n,16),this.p=ee(r,16),this.q=ee(i,16),this.dmp1=ee(o,16),this.dmq1=ee(s,16),this.coeff=ee(a,16)},te.prototype.generate=function(e,t){var n=new Z,r=e>>1;this.e=parseInt(t,16);for(var i=new w(t,16),o=e/2-100,s=w.ONE.shiftLeft(o);;){for(;this.p=new w(e-r,1,n),0!=this.p.subtract(w.ONE).gcd(i).compareTo(w.ONE)||!this.p.isProbablePrime(10););for(;this.q=new w(r,1,n),0!=this.q.subtract(w.ONE).gcd(i).compareTo(w.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var a=this.p;this.p=this.q,this.q=a}var u=this.q.subtract(this.p).abs();if(!(u.bitLength()<o||u.compareTo(s)<=0)){var l=this.p.subtract(w.ONE),c=this.q.subtract(w.ONE),h=l.multiply(c);if(0==h.gcd(i).compareTo(w.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==e)){this.d=i.modInverse(h),this.dmp1=this.d.mod(l),this.dmq1=this.d.mod(c),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0},ne.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},ne.prototype.toBigInteger=function(){return this.x},ne.prototype.negate=function(){return new ne(this.q,this.x.negate().mod(this.q))},ne.prototype.add=function(e){return new ne(this.q,this.x.add(e.toBigInteger()).mod(this.q))},ne.prototype.subtract=function(e){return new ne(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},ne.prototype.multiply=function(e){return new ne(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},ne.prototype.square=function(){return new ne(this.q,this.x.square().mod(this.q))},ne.prototype.divide=function(e){return new ne(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},ne.prototype.sqrt=function(){return new ne(this.q,this.x.sqrt().mod(this.q))},re.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},re.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},re.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(w.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(w.ZERO))},re.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(w.ZERO)&&!this.y.toBigInteger().equals(w.ZERO)},re.prototype.negate=function(){return new re(this.curve,this.x,this.y.negate(),this.z)},re.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(w.ZERO.equals(n))return w.ZERO.equals(t)?this.twice():this.curve.getInfinity();var r=new w("3"),i=this.x.toBigInteger(),o=this.y.toBigInteger(),s=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),a=s.multiply(n),u=i.multiply(s),l=t.square().multiply(this.z),c=l.subtract(u.shiftLeft(1)).multiply(e.z).subtract(a).multiply(n).mod(this.curve.q),h=u.multiply(r).multiply(t).subtract(o.multiply(a)).subtract(l.multiply(t)).multiply(e.z).add(t.multiply(a)).mod(this.curve.q),p=a.multiply(this.z).multiply(e.z).mod(this.curve.q);return new re(this.curve,this.curve.fromBigInteger(c),this.curve.fromBigInteger(h),p)},re.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new w("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),o=this.curve.a.toBigInteger(),s=t.square().multiply(e);w.ZERO.equals(o)||(s=s.add(this.z.square().multiply(o)));var a=(s=s.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),u=s.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(s.square().multiply(s)).mod(this.curve.q),l=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new re(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(u),l)},re.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new w("3")),i=this.negate(),o=this,s=this.curve.q.subtract(e),a=s.multiply(new w("3")),u=new re(this.curve,this.x,this.y),l=u.negate();for(t=r.bitLength()-2;t>0;--t){o=o.twice();var c=r.testBit(t);c!=n.testBit(t)&&(o=o.add(c?this:i))}for(t=a.bitLength()-2;t>0;--t){u=u.twice();var h=a.testBit(t);h!=s.testBit(t)&&(u=u.add(h?u:l))}return o},re.prototype.multiplyTwo=function(e,t,n){var r;r=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(t);r>=0;)i=i.twice(),e.testBit(r)?i=n.testBit(r)?i.add(o):i.add(this):n.testBit(r)&&(i=i.add(t)),--r;return i},ie.prototype.getQ=function(){return this.q},ie.prototype.getA=function(){return this.a},ie.prototype.getB=function(){return this.b},ie.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},ie.prototype.getInfinity=function(){return this.infinity},ie.prototype.fromBigInteger=function(e){return new ne(this.q,e)},ie.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var t=e.substr(0,2),n=(e.substr(2),this.fromBigInteger(new w(a,16))),r=this.getA(),i=this.getB(),o=n.square().add(r).multiply(n).add(i).sqrt();return"03"==t&&(o=o.negate()),new re(this,n,o);case 4:case 6:case 7:var s=(e.length-2)/2,a=e.substr(2,s),u=e.substr(s+2,s);return new re(this,this.fromBigInteger(new w(a,16)),this.fromBigInteger(new w(u,16)));default:return null}},
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
 */
ne.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},re.prototype.getEncoded=function(e){var t=function(e,t){var n=e.toByteArrayUnsigned();if(t<n.length)n=n.slice(n.length-t);else for(;t>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),r=this.getY().toBigInteger(),i=t(n,32);return e?r.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(r,32))),i},re.decodeFrom=function(e,t){t[0];var n=t.length-1,r=t.slice(1,1+n/2),i=t.slice(1+n/2,1+n);r.unshift(0),i.unshift(0);var o=new w(r),s=new w(i);return new re(e,e.fromBigInteger(o),e.fromBigInteger(s))},re.decodeFromHex=function(e,t){t.substr(0,2);var n=t.length-2,r=t.substr(2,n/2),i=t.substr(2+n/2,n/2),o=new w(r,16),s=new w(i,16);return new re(e,e.fromBigInteger(o),e.fromBigInteger(s))},re.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),n=e.y.subtract(this.y).divide(t),r=n.square().subtract(this.x).subtract(e.x),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new re(this.curve,r,i)},re.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(w.valueOf(2)),t=this.curve.fromBigInteger(w.valueOf(3)),n=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),r=n.square().subtract(this.x.multiply(e)),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new re(this.curve,r,i)},re.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new w("3")),i=this.negate(),o=this;for(t=r.bitLength()-2;t>0;--t){o=o.twice();var s=r.testBit(t);s!=n.testBit(t)&&(o=o.add2D(s?this:i))}return o},re.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),o=t.multiply(t).mod(i),s=e.multiply(e).multiply(e).add(n.multiply(e)).add(r).mod(i);return o.equals(s)},re.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},re.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(t.compareTo(w.ONE)<0||t.compareTo(e.subtract(w.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(w.ONE)<0||n.compareTo(e.subtract(w.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};
/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */
var oe=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),n={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function r(e,t,r){return t?n[t]:String.fromCharCode(parseInt(r,16))}var i=new String(""),o=Object.hasOwnProperty;return function(n,s){var a,u,l=n.match(e),c=l[0],h=!1;"{"===c?a={}:"["===c?a=[]:(a=[],h=!0);for(var p=[a],d=1-h,f=l.length;d<f;++d){var g;switch((c=l[d]).charCodeAt(0)){default:(g=p[0])[u||g.length]=+c,u=void 0;break;case 34:if(-1!==(c=c.substring(1,c.length-1)).indexOf("\\")&&(c=c.replace(t,r)),g=p[0],!u){if(!(g instanceof Array)){u=c||i;break}u=g.length}g[u]=c,u=void 0;break;case 91:g=p[0],p.unshift(g[u||g.length]=[]),u=void 0;break;case 93:p.shift();break;case 102:(g=p[0])[u||g.length]=!1,u=void 0;break;case 110:(g=p[0])[u||g.length]=null,u=void 0;break;case 116:(g=p[0])[u||g.length]=!0,u=void 0;break;case 123:g=p[0],p.unshift(g[u||g.length]={}),u=void 0;break;case 125:p.shift()}}if(h){if(1!==p.length)throw new Error;a=a[0]}else if(p.length)throw new Error;if(s){var m=function(e,t){var n=e[t];if(n&&"object"==typeof n){var r=null;for(var i in n)if(o.call(n,i)&&n!==e){var a=m(n,i);void 0!==a?n[i]=a:(r||(r=[]),r.push(i))}if(r)for(var u=r.length;--u>=0;)delete n[r[u]]}return s.call(e,t,n)};a=m({"":a},"")}return a}}();void 0!==se&&se||(se={}),void 0!==se.asn1&&se.asn1||(se.asn1={}),se.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){return Ge(e)},this.getPEMStringFromHex=function(e,t){return Ce(e,t)},this.newObject=function(e){var t=se.asn1,n=t.ASN1Object,r=t.DERBoolean,i=t.DERInteger,o=t.DERBitString,s=t.DEROctetString,a=t.DERNull,u=t.DERObjectIdentifier,l=t.DEREnumerated,c=t.DERUTF8String,h=t.DERNumericString,p=t.DERPrintableString,d=t.DERTeletexString,f=t.DERIA5String,g=t.DERUTCTime,m=t.DERGeneralizedTime,v=t.DERVisibleString,y=t.DERBMPString,b=t.DERSequence,$=t.DERSet,w=t.DERTaggedObject,x=t.ASN1Util.newObject;if(e instanceof t.ASN1Object)return e;var S=Object.keys(e);if(1!=S.length)throw new Error("key of param shall be only one.");var E=S[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+E+":"))throw new Error("undefined key: "+E);if("bool"==E)return new r(e[E]);if("int"==E)return new i(e[E]);if("bitstr"==E)return new o(e[E]);if("octstr"==E)return new s(e[E]);if("null"==E)return new a(e[E]);if("oid"==E)return new u(e[E]);if("enum"==E)return new l(e[E]);if("utf8str"==E)return new c(e[E]);if("numstr"==E)return new h(e[E]);if("prnstr"==E)return new p(e[E]);if("telstr"==E)return new d(e[E]);if("ia5str"==E)return new f(e[E]);if("utctime"==E)return new g(e[E]);if("gentime"==E)return new m(e[E]);if("visstr"==E)return new v(e[E]);if("bmpstr"==E)return new y(e[E]);if("asn1"==E)return new n(e[E]);if("seq"==E){for(var A=e[E],C=[],F=0;F<A.length;F++){var T=x(A[F]);C.push(T)}return new b({array:C})}if("set"==E){for(A=e[E],C=[],F=0;F<A.length;F++){T=x(A[F]);C.push(T)}return new $({array:C})}if("tag"==E){var D=e[E];if("[object Array]"===Object.prototype.toString.call(D)&&3==D.length){var R=x(D[2]);return new w({tag:D[0],explicit:D[1],obj:R})}return new w(D)}},this.jsonToASN1HEX=function(e){return this.newObject(e).tohex()}},se.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),r=(t=Math.floor(n/40)+"."+n%40,""),i=2;i<e.length;i+=2){var o=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);if(r+=o.substr(1,7),"0"==o.substr(0,1))t=t+"."+new w(r,2).toString(10),r=""}return t},se.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new w(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",s=0;s<i;s++)o+="0";r=o+r;for(s=0;s<r.length-1;s+=7){var a=r.substr(s,7);s!=r.length-7&&(a="1"+a),n+=t(parseInt(a,2))}return n};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",i=e.split("."),o=40*parseInt(i[0])+parseInt(i[1]);r+=t(o),i.splice(0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);return r},se.asn1.ASN1Object=function(e){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+"".length+",v="+this.hV);var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+e.toString(16));return(128+n).toString(16)+t},this.tohex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(e){this.params=e},null!=e&&null!=e.tlv&&(this.hTLV=e.tlv,this.isModified=!1)},se.asn1.DERAbstractString=function(e){se.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=ye(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},et(se.asn1.DERAbstractString,se.asn1.ASN1Object),se.asn1.DERAbstractTime=function(e){se.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,n){var r=this.zeroPadding,i=this.localDateToUTC(e),o=String(i.getFullYear());"utc"==t&&(o=o.substr(2,2));var s=o+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var a=i.getMilliseconds();if(0!=a){var u=r(String(a),3);s=s+"."+(u=u.replace(/[0]+$/,""))}}return s+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.setByParam=function(e){this.hV=null,this.hTLV=null,this.params=e},this.getString=function(){},this.setString=function(e){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.str=e},this.setByDate=function(e){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.date=e},this.setByDateValue=function(e,t,n,r,i,o){var s=new Date(Date.UTC(e,t-1,n,r,i,o,0));this.setByDate(s)},this.getFreshValueHex=function(){return this.hV}},et(se.asn1.DERAbstractTime,se.asn1.ASN1Object),se.asn1.DERAbstractStructured=function(e){se.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},et(se.asn1.DERAbstractStructured,se.asn1.ASN1Object),se.asn1.DERBoolean=function(e){se.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==e?"010100":"0101ff"},et(se.asn1.DERBoolean,se.asn1.ASN1Object),se.asn1.DERInteger=function(e){se.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.params=null;var t=Ge;this.setByBigInteger=function(e){this.isModified=!0,this.params={bigint:e}},this.setByInteger=function(e){this.isModified=!0,this.params=e},this.setValueHex=function(e){this.isModified=!0,this.params={hex:e}},this.getFreshValueHex=function(){var e=this.params,n=null;if(null==e)throw new Error("value not set");if("object"==typeof e&&null!=e.hex)return this.hV=e.hex,this.hV;if("number"==typeof e)n=new w(String(e),10);else if(null!=e.int)n=new w(String(e.int),10);else{if(null==e.bigint)throw new Error("wrong parameter");n=e.bigint}return this.hV=t(n),this.hV},null!=e&&(this.params=e)},et(se.asn1.DERInteger,se.asn1.ASN1Object),se.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=se.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.tohex()}se.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0),e+="0000000".substr(0,t);for(var n="",r=0;r<e.length-1;r+=8){var i=e.substr(r,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),n+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+t+n},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)1==e[n]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},et(se.asn1.DERBitString,se.asn1.ASN1Object),se.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=se.asn1.ASN1Util.newObject(e.obj);e.hex=t.tohex()}se.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},et(se.asn1.DEROctetString,se.asn1.DERAbstractString),se.asn1.DERNull=function(){se.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},et(se.asn1.DERNull,se.asn1.ASN1Object),se.asn1.DERObjectIdentifier=function(e){se.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){var t=qe(e);if(null==t)throw new Error("malformed oid string: "+e);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueName=function(e){var t=se.asn1.x509.OID.name2oid(e);if(""===t)throw new Error("DERObjectIdentifier oidName undefined: "+e);this.setValueOidString(t)},this.setValueNameOrOid=function(e){e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){"string"==typeof e?this.setValueNameOrOid(e):void 0!==e.oid?this.setValueNameOrOid(e.oid):void 0!==e.name?this.setValueNameOrOid(e.name):void 0!==e.hex&&this.setValueHex(e.hex)},void 0!==e&&this.setByParam(e)},et(se.asn1.DERObjectIdentifier,se.asn1.ASN1Object),se.asn1.DEREnumerated=function(e){se.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=Ge(e)},this.setByInteger=function(e){var t=new w(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},et(se.asn1.DEREnumerated,se.asn1.ASN1Object),se.asn1.DERUTF8String=function(e){se.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},et(se.asn1.DERUTF8String,se.asn1.DERAbstractString),se.asn1.DERNumericString=function(e){se.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},et(se.asn1.DERNumericString,se.asn1.DERAbstractString),se.asn1.DERPrintableString=function(e){se.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},et(se.asn1.DERPrintableString,se.asn1.DERAbstractString),se.asn1.DERTeletexString=function(e){se.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},et(se.asn1.DERTeletexString,se.asn1.DERAbstractString),se.asn1.DERIA5String=function(e){se.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},et(se.asn1.DERIA5String,se.asn1.DERAbstractString),se.asn1.DERVisibleString=function(e){se.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},et(se.asn1.DERVisibleString,se.asn1.DERAbstractString),se.asn1.DERBMPString=function(e){se.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},et(se.asn1.DERBMPString,se.asn1.DERAbstractString),se.asn1.DERUTCTime=function(e){se.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var e=this.params;if(null==this.params&&(e={date:new Date}),"string"==typeof e){if(!e.match(/^[0-9]{12}Z$/)&&!e.match(/^[0-9]{12}\.[0-9]+Z$/))throw new Error("malformed string for UTCTime: "+e);this.hV=de(e)}else if(null!=e.str)this.hV=de(e.str);else if(null==e.date&&1==e.millis){var t=new Date;this.hV=de(this.formatDate(t,"utc",!0))}else if(null!=e.date&&e.date instanceof Date){var n=!0===e.millis;this.hV=de(this.formatDate(e.date,"utc",n))}else e instanceof Date&&(this.hV=de(this.formatDate(e,"utc")));if(null==this.hV)throw new Error("parameter not specified properly for UTCTime");return this.hV},null!=e&&this.setByParam(e)},et(se.asn1.DERUTCTime,se.asn1.DERAbstractTime),se.asn1.DERGeneralizedTime=function(e){se.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.params=e,this.getFreshValueHex=function(){var e=this.params;if(null==this.params&&(e={date:new Date}),"string"==typeof e){if(!e.match(/^[0-9]{14}Z$/)&&!e.match(/^[0-9]{14}\.[0-9]+Z$/))throw new Error("malformed string for GeneralizedTime: "+e);this.hV=de(e)}else if(null!=e.str)this.hV=de(e.str);else if(null==e.date&&1==e.millis){var t=new Date;this.hV=de(this.formatDate(t,"gen",!0))}else if(null!=e.date&&e.date instanceof Date){var n=!0===e.millis;this.hV=de(this.formatDate(e.date,"gen",n))}else e instanceof Date&&(this.hV=de(this.formatDate(e,"gen")));if(null==this.hV)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},null!=e&&this.setByParam(e)},et(se.asn1.DERGeneralizedTime,se.asn1.DERAbstractTime),se.asn1.DERSequence=function(e){se.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++){e+=this.asn1Array[t].tohex()}return this.hV=e,this.hV}},et(se.asn1.DERSequence,se.asn1.DERAbstractStructured),se.asn1.DERSet=function(e){se.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.tohex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},et(se.asn1.DERSet,se.asn1.DERAbstractStructured),se.asn1.DERTaggedObject=function(e){se.asn1.DERTaggedObject.superclass.constructor.call(this);var t=se.asn1,n=le,r=n.getV,i=(n.isASN1HEX,t.ASN1Util.newObject);this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(e,t,n){this.params={tag:t,explicit:e,obj:n}},this.getFreshValueHex=function(){var e=this.params;if(null==e.explicit&&(e.explicit=!0),null!=e.tage&&(e.tag=e.tage,e.explicit=!0),null!=e.tagi&&(e.tag=e.tagi,e.explicit=!1),null!=e.str)this.hV=ye(e.str);else if(null!=e.hex)this.hV=e.hex;else{if(null==e.obj)throw new Error("str, hex nor obj not specified");var n;e.obj instanceof t.ASN1Object?n=e.obj.tohex():"object"==typeof e.obj&&(n=i(e.obj).tohex()),e.explicit?this.hV=n:this.hV=r(n,0)}return null==e.tag&&(e.tag="a0"),this.hT=e.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},et(se.asn1.DERTaggedObject,se.asn1.ASN1Object);var se,ae,ue,le=new function(){};function ce(e){for(var t=new Array,n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function he(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}function pe(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function de(e){return pe(ce(e))}function fe(e){return e=(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function ge(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),e=(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function me(e){return e.length%2==1&&(e="0"+e),fe(y(e))}function ve(e){return b(ge(e))}function ye(e){return ke(Be(e)).toLowerCase()}function be(e){try{return decodeURIComponent(Ie(e))}catch(e){return null}}function $e(e){return be(function(e){for(var t=e.match(/.{1,2}/g),n=[],r=0;r<t.length;r++){var i=parseInt(t[r],16);161<=i&&i<=191?(n.push("c2"),n.push(t[r])):192<=i&&i<=255?(n.push("c3"),n.push((i-64).toString(16))):n.push(t[r])}return n.join("")}(e))}function we(e){for(var t="",n=0;n<e.length-1;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}function xe(e){for(var t="",n=0;n<e.length;n++)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t}function Se(e){return y(e)}function Ee(e,t){return e=(e=e.replace(new RegExp("(.{"+t+"})","g"),"$1\r\n")).replace(/\s+$/,"")}function Ae(e){return b(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Ce(e,t){return"-----BEGIN "+t+"-----\r\n"+Ee(Se(e),64)+"\r\n-----END "+t+"-----\r\n"}function Fe(e,t){if(-1==e.indexOf("-----BEGIN "))throw new Error("can't find PEM header");return Ae(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Te(e){var t,n,r,i,o,s,a,u,l,c;if(c=(e=Re(e)).match(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return t=parseInt(c[1]),n=parseInt(c[2])-1,r=parseInt(c[3]),i=parseInt(c[4]),o=parseInt(c[5]),s=parseInt(c[6]),a=0,""!==(u=c[7])&&(l=(u.substr(1)+"00").substr(0,3),a=parseInt(l)),Date.UTC(t,n,r,i,o,s,a);throw new Error("unsupported zulu format: "+e)}function De(e){return Math.round(Te(e)/1e3)}function Re(e){return e.match(/^[0-9]{12}Z$/)||e.match(/^[0-9]{12}[.][0-9]*Z$/)?e.match(/^[0-4]/)?"20"+e:"19"+e:e}function ke(e){return e.replace(/%/g,"")}function Ie(e){return e.replace(/(..)/g,"%$1")}function Pe(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var n=(e=e.toLowerCase()).split(":").length-1;if(n<2)throw t;var r=":".repeat(7-n+2),i=(e=e.replace("::",r)).split(":");if(8!=i.length)throw t;for(var o=0;o<8;o++)i[o]=("0000"+i[o]).slice(-4);return i.join("")}function Oe(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+e);var t=(e=e.toLowerCase()).match(/.{1,4}/g),n=(e=":"+(t=(t=t.map((function(e){return e.replace(/^0+/,"")}))).map((function(e){return""==e?"0":e}))).join(":")+":").match(/:(0:){2,}/g);if(null==n)return e.slice(1,-1);var r=n.sort().slice(-1)[0];return"::"!=(e=e.replace(r.substr(0,r.length-1),":")).substr(0,2)&&(e=e.substr(1)),"::"!=e.substr(-2,2)&&(e=e.substr(0,e.length-1)),e}function _e(e){var t=new Error("malformed hex value");if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8==e.length){try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(e){throw t}}else{if(16!=e.length){if(32==e.length)return Oe(e);if(64==e.length){try{return Oe(e.substr(0,32))+"/"+je(e.substr(32))}catch(e){throw t}return}return e}try{return _e(e.substr(0,8))+"/"+je(e.substr(8))}catch(e){throw t}}}function je(e){var t,n=new Error("malformed mask");try{t=new w(e,16).toString(2)}catch(e){throw n}if(!t.match(/^1*0*$/))throw n;return t.replace(/0+$/,"").length}function Le(e){var t=new Error("malformed IP address");if(!(e=e.toLowerCase(e)).match(/^[0-9a-f.:/]+$/))throw t;if(!e.match(/^[0-9.]+$/)){var n;if(e.match(/^[0-9.]+\/[0-9]+$/))return Le((n=e.split("/"))[0])+Ne(parseInt(n[1]),32);if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Pe(e);if(e.match(/^[0-9a-f:]+\/[0-9]+$/)&&-1!==e.indexOf(":"))return Pe((n=e.split("/"))[0])+Ne(parseInt(n[1]),128);throw t}var r=e.split(".");if(4!==r.length)throw t;var i="";try{for(var o=0;o<4;o++){i+=("0"+parseInt(r[o]).toString(16)).slice(-2)}return i}catch(e){throw t}}function Ne(e,t){return 32==t&&0==e?"00000000":128==t&&0==e?"00000000000000000000000000000000":new w(Array(e+1).join("1")+Array(t-e+1).join("0"),2).toString(16)}function Me(e){return e.match(/.{4}/g).map((function(e){var t=parseInt(e.substr(0,2),16),n=parseInt(e.substr(2),16);if(0==t&n<128)return String.fromCharCode(n);if(t<8){var r=128|63&n;return be((192|(7&t)<<3|(192&n)>>6).toString(16)+r.toString(16))}r=128|(15&t)<<2|(192&n)>>6;var i=128|63&n;return be((224|(240&t)>>4).toString(16)+r.toString(16)+i.toString(16))})).join("")}function Be(e){for(var t=encodeURIComponent(e),n="",r=0;r<t.length;r++)"%"==t[r]?(n+=t.substr(r,3),r+=2):n=n+"%"+de(t[r]);return n}function He(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))}function Ue(e){return!!e.match(/^[0-9A-Za-z-_.]+$/)}function Ve(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}le.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var n=parseInt(e.substr(t+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},le.getL=function(e,t){var n=le.getLblen(e,t);return n<1?"":e.substr(t+2,2*n)},le.getVblen=function(e,t){var n;return""==(n=le.getL(e,t))?-1:("8"===n.substr(0,1)?new w(n.substr(2),16):new w(n,16)).intValue()},le.getVidx=function(e,t){var n=le.getLblen(e,t);return n<0?n:t+2*(n+1)},le.getV=function(e,t){var n=le.getVidx(e,t),r=le.getVblen(e,t);return e.substr(n,2*r)},le.getTLV=function(e,t){return e.substr(t,2)+le.getL(e,t)+le.getV(e,t)},le.getTLVblen=function(e,t){return 2+2*le.getLblen(e,t)+2*le.getVblen(e,t)},le.getNextSiblingIdx=function(e,t){return le.getVidx(e,t)+2*le.getVblen(e,t)},le.getChildIdx=function(e,t){var n,r,i,o=le,s=[];n=o.getVidx(e,t),r=2*o.getVblen(e,t),"03"==e.substr(t,2)&&(n+=2,r-=2),i=0;for(var a=n;i<=r;){var u=o.getTLVblen(e,a);if((i+=u)<=r&&s.push(a),a+=u,i>=r)break}return s},le.getNthChildIdx=function(e,t,n){return le.getChildIdx(e,t)[n]},le.getIdxbyList=function(e,t,n,r){var i,o,s=le;return 0==n.length?void 0!==r&&e.substr(t,2)!==r?-1:t:(i=n.shift())>=(o=s.getChildIdx(e,t)).length?-1:s.getIdxbyList(e,o[i],n,r)},le.getIdxbyListEx=function(e,t,n,r){var i,o,s=le;if(0==n.length)return void 0!==r&&e.substr(t,2)!==r?-1:t;i=n.shift(),o=s.getChildIdx(e,t);for(var a=0,u=0;u<o.length;u++){var l=e.substr(o[u],2);if("number"==typeof i&&!s.isContextTag(l)&&a==i||"string"==typeof i&&s.isContextTag(l,i))return s.getIdxbyListEx(e,o[u],n,r);s.isContextTag(l)||a++}return-1},le.getTLVbyList=function(e,t,n,r){var i=le,o=i.getIdxbyList(e,t,n,r);return-1==o||o>=e.length?null:i.getTLV(e,o)},le.getTLVbyListEx=function(e,t,n,r){var i=le,o=i.getIdxbyListEx(e,t,n,r);return-1==o?null:i.getTLV(e,o)},le.getVbyList=function(e,t,n,r,i){var o,s,a=le;return-1==(o=a.getIdxbyList(e,t,n,r))||o>=e.length?null:(s=a.getV(e,o),!0===i&&(s=s.substr(2)),s)},le.getVbyListEx=function(e,t,n,r,i){var o,s,a=le;return-1==(o=a.getIdxbyListEx(e,t,n,r))?null:(s=a.getV(e,o),"03"==e.substr(o,2)&&!1!==i&&(s=s.substr(2)),s)},le.getInt=function(e,t,n){null==n&&(n=-1);try{var r=e.substr(t,2);if("02"!=r&&"03"!=r)return n;var i=le.getV(e,t);return"02"==r?parseInt(i,16):Ye(i)}catch(e){return n}},le.getOID=function(e,t,n){null==n&&(n=null);try{return"06"!=e.substr(t,2)?n:ze(le.getV(e,t))}catch(e){return n}},le.getOIDName=function(e,t,n){null==n&&(n=null);try{var r=le.getOID(e,t,n);if(r==n)return n;var i=se.asn1.x509.OID.oid2name(r);return""==i?r:i}catch(e){return n}},le.getString=function(e,t,n){null==n&&(n=null);try{return we(le.getV(e,t))}catch(e){return n}},le.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},n=[],r=e.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var o=e.substr(2),s=[],a=0;a<o.length/2;a++)s.push(parseInt(o.substr(2*a,2),16));var u=[],l="";for(a=0;a<s.length;a++)128&s[a]?l+=t((127&s[a]).toString(2),7):(l+=t((127&s[a]).toString(2),7),u.push(new String(parseInt(l,2))),l="");var c=n.join(".");return u.length>0&&(c=c+"."+u.join(".")),c},le.dump=function(e,t,n,r){var i=le,o=i.getV,s=i.dump,a=i.getChildIdx,u=e;e instanceof se.asn1.ASN1Object&&(u=e.tohex());var l=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===n&&(n=0),void 0===r&&(r="");var c,h=t.ommit_long_octet;if("01"==(c=u.substr(n,2)))return"00"==(p=o(u,n))?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n";if("02"==c)return r+"INTEGER "+l(p=o(u,n),h)+"\n";if("03"==c){var p=o(u,n);if(i.isASN1HEX(p.substr(2))){var d=r+"BITSTRING, encapsulates\n";return d+=s(p.substr(2),t,0,r+"  ")}return r+"BITSTRING "+l(p,h)+"\n"}if("04"==c){p=o(u,n);if(i.isASN1HEX(p)){d=r+"OCTETSTRING, encapsulates\n";return d+=s(p,t,0,r+"  ")}return r+"OCTETSTRING "+l(p,h)+"\n"}if("05"==c)return r+"NULL\n";if("06"==c){var f=o(u,n),g=se.asn1.ASN1Util.oidHexToInt(f),m=se.asn1.x509.OID.oid2name(g),v=g.replace(/\./g," ");return""!=m?r+"ObjectIdentifier "+m+" ("+v+")\n":r+"ObjectIdentifier ("+v+")\n"}if("0a"==c)return r+"ENUMERATED "+parseInt(o(u,n))+"\n";if("0c"==c)return r+"UTF8String '"+be(o(u,n))+"'\n";if("13"==c)return r+"PrintableString '"+be(o(u,n))+"'\n";if("14"==c)return r+"TeletexString '"+be(o(u,n))+"'\n";if("16"==c)return r+"IA5String '"+be(o(u,n))+"'\n";if("17"==c)return r+"UTCTime "+be(o(u,n))+"\n";if("18"==c)return r+"GeneralizedTime "+be(o(u,n))+"\n";if("1a"==c)return r+"VisualString '"+be(o(u,n))+"'\n";if("1e"==c)return r+"BMPString '"+Me(o(u,n))+"'\n";if("30"==c){if("3000"==u.substr(n,4))return r+"SEQUENCE {}\n";d=r+"SEQUENCE\n";var y=t;if((2==(w=a(u,n)).length||3==w.length)&&"06"==u.substr(w[0],2)&&"04"==u.substr(w[w.length-1],2)){m=i.oidname(o(u,w[0]));var b=JSON.parse(JSON.stringify(t));b.x509ExtName=m,y=b}for(var $=0;$<w.length;$++)d+=s(u,y,w[$],r+"  ");return d}if("31"==c){d=r+"SET\n";var w=a(u,n);for($=0;$<w.length;$++)d+=s(u,t,w[$],r+"  ");return d}if(0!=(128&(c=parseInt(c,16)))){var x=31&c;if(0!=(32&c)){for(d=r+"["+x+"]\n",w=a(u,n),$=0;$<w.length;$++)d+=s(u,t,w[$],r+"  ");return d}p=o(u,n);if(le.isASN1HEX(p)){var d=r+"["+x+"]\n";return d+=s(p,t,0,r+"  ")}return("68747470"==p.substr(0,8)||"subjectAltName"===t.x509ExtName&&2==x)&&(p=be(p)),d=r+"["+x+"] "+p+"\n"}return r+"UNKNOWN("+c+") "+o(u,n)+"\n"},le.parse=function(e){var t=le,n=t.parse,r=t.isASN1HEX,i=t.getV,o=t.getTLV,s=t.getChildIdx,a=se.asn1,u=a.ASN1Util.oidHexToInt,l=a.x509.OID.oid2name,c=be,h=Me,p=$e,d={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},f=e.substr(0,2),g={},m=i(e,0);if("01"==f)return"0101ff"==e?{bool:!0}:{bool:!1};if("02"==f)return{int:{hex:m}};if("03"==f)try{if("00"!=m.substr(0,2))throw"not encap";var v=m.substr(2);if(!r(v))throw"not encap";return{bitstr:{obj:n(v)}}}catch(e){var y=null;return m.length<=10&&(y=Je(m)),null==y?{bitstr:{hex:m}}:{bitstr:{bin:y}}}else if("04"==f)try{if(!r(m))throw"not encap";return{octstr:{obj:n(m)}}}catch(e){return{octstr:{hex:m}}}else{if("05"==f)return{null:""};if("06"==f){var b=u(m),$=l(b);return""==$?{oid:b}:{oid:$}}if("0a"==f)return m.length>4?{enum:{hex:m}}:{enum:parseInt(m,16)};if("30"==f||"31"==f)return g[d[f]]=function(e){for(var t=[],r=s(e,0),i=0;i<r.length;i++){var a=r[i],u=o(e,a),l=n(u);t.push(l)}return t}(e),g;if("14"==f){var w=p(m);return g[d[f]]={str:w},g}if("1e"==f){w=h(m);return g[d[f]]={str:w},g}if(-1!=":0c:12:13:16:17:18:1a:".indexOf(f)){w=c(m);return g[d[f]]={str:w},g}if(f.match(/^8[0-9]$/))return null==(w=c(m))|""==w||null!=w.match(/[\x00-\x1F\x7F-\x9F]/)||null!=w.match(/[\u0000-\u001F\u0080â€“\u009F]/)?{tag:{tag:f,explicit:!1,hex:m}}:{tag:{tag:f,explicit:!1,str:w}};if(!f.match(/^a[0-9]$/)){var x=new se.asn1.ASN1Object;return x.hV=m,{asn1:{tlv:f+x.getLengthHexFromValue()+m}}}try{if(!r(m))throw new Error("not encap");return{tag:{tag:f,explicit:!0,obj:n(m)}}}catch(e){return{tag:{tag:f,explicit:!0,hex:m}}}}},le.isContextTag=function(e,t){var n,r;e=e.toLowerCase();try{n=parseInt(e,16)}catch(e){return-1}if(void 0===t)return 128==(192&n);try{return null!=t.match(/^\[[0-9]+\]$/)&&(!((r=parseInt(t.substr(1,t.length-1),10))>31)&&(128==(192&n)&&(31&n)==r))}catch(e){return!1}},le.isASN1HEX=function(e){var t=le;if(e.length%2==1)return!1;var n=t.getVblen(e,0),r=e.substr(0,2),i=t.getL(e,0);return e.length-r.length-i.length==2*n},le.checkStrictDER=function(e,t,n,r,i){var o=le;if(void 0===n){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!se.lang.String.isHex(e))throw new Error("not hex string");n=e.length,i=(r=e.length/2)<128?1:Math.ceil(r.toString(16))+1}if(o.getL(e,t).length>2*i)throw new Error("L of TLV too long: idx="+t);var s=o.getVblen(e,t);if(s>r)throw new Error("value of L too long than hex: idx="+t);var a=o.getTLV(e,t),u=a.length-2-o.getL(e,t).length;if(u!==2*s)throw new Error("V string length and L's value not the same:"+u+"/"+2*s);if(0===t&&e.length!=a.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+a.length);var l=e.substr(t,2);if("02"===l){var c=o.getVidx(e,t);if("00"==e.substr(c,2)&&e.charCodeAt(c+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(l,16)){for(var h=o.getVblen(e,t),p=0,d=o.getChildIdx(e,t),f=0;f<d.length;f++){p+=o.getTLV(e,d[f]).length,o.checkStrictDER(e,d[f],n,r,i)}if(2*h!=p)throw new Error("sum of children's TLV length and L unmatch: "+2*h+"!="+p)}},le.oidname=function(e){var t=se.asn1;se.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var n=t.x509.OID.oid2name(e);return""===n&&(n=e),n},void 0!==se&&se||(se={}),void 0!==se.asn1&&se.asn1||(se.asn1={}),void 0!==se.asn1.x509&&se.asn1.x509||(se.asn1.x509={}),se.asn1.x509.Certificate=function(e){se.asn1.x509.Certificate.superclass.constructor.call(this);var t=se.asn1,n=t.DERBitString,r=t.DERSequence,i=t.x509,o=i.TBSCertificate,s=i.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(e){this.params=e},this.sign=function(){var e=this.params,t=e.sigalg;null!=e.sigalg.name&&(t=e.sigalg.name);var n=e.tbsobj.tohex(),r=new se.crypto.Signature({alg:t});r.init(e.cakey),r.updateHex(n),e.sighex=r.sign()},this.getPEM=function(){return Ce(this.tohex(),"CERTIFICATE")},this.tohex=function(){var e=this.params;if(null!=e.tbsobj&&null!=e.tbsobj||(e.tbsobj=new o(e)),null==e.sighex&&null!=e.cakey&&this.sign(),null==e.sighex)throw new Error("sighex or cakey parameter not defined");var t=[];return t.push(e.tbsobj),t.push(new s({name:e.sigalg})),t.push(new n({hex:"00"+e.sighex})),new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&(this.params=e)},et(se.asn1.x509.Certificate,se.asn1.ASN1Object),se.asn1.x509.TBSCertificate=function(e){se.asn1.x509.TBSCertificate.superclass.constructor.call(this);var t=se.asn1,n=t.x509,r=t.DERTaggedObject,i=t.DERInteger,o=t.DERSequence,s=n.AlgorithmIdentifier,a=n.Time,u=n.X500Name,l=n.Extensions,c=n.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=[],t=this.params;if(null!=t.version||1!=t.version){var n=2;null!=t.version&&(n=t.version-1);var h=new r({obj:new i({int:n})});e.push(h)}return e.push(new i(t.serial)),e.push(new s({name:t.sigalg})),e.push(new u(t.issuer)),e.push(new o({array:[new a(t.notbefore),new a(t.notafter)]})),e.push(new u(t.subject)),e.push(new c(tt.getKey(t.sbjpubkey))),void 0!==t.ext&&t.ext.length>0&&e.push(new r({tag:"a3",obj:new l(t.ext)})),new se.asn1.DERSequence({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},et(se.asn1.x509.TBSCertificate,se.asn1.ASN1Object),se.asn1.x509.Extensions=function(e){se.asn1.x509.Extensions.superclass.constructor.call(this);var t=se.asn1,n=t.DERSequence,r=t.x509;this.aParam=[],this.setByParam=function(e){this.aParam=e},this.tohex=function(){for(var e=[],t=0;t<this.aParam.length;t++){var i=this.aParam[t],o=i.extname,s=null;if(null!=i.extn)s=new r.PrivateExtension(i);else if("subjectKeyIdentifier"==o)s=new r.SubjectKeyIdentifier(i);else if("keyUsage"==o)s=new r.KeyUsage(i);else if("subjectAltName"==o)s=new r.SubjectAltName(i);else if("issuerAltName"==o)s=new r.IssuerAltName(i);else if("basicConstraints"==o)s=new r.BasicConstraints(i);else if("nameConstraints"==o)s=new r.NameConstraints(i);else if("cRLDistributionPoints"==o)s=new r.CRLDistributionPoints(i);else if("certificatePolicies"==o)s=new r.CertificatePolicies(i);else if("policyMappings"==o)s=new r.PolicyMappings(i);else if("policyConstraints"==o)s=new r.PolicyConstraints(i);else if("inhibitAnyPolicy"==o)s=new r.InhibitAnyPolicy(i);else if("authorityKeyIdentifier"==o)s=new r.AuthorityKeyIdentifier(i);else if("extKeyUsage"==o)s=new r.ExtKeyUsage(i);else if("authorityInfoAccess"==o)s=new r.AuthorityInfoAccess(i);else if("cRLNumber"==o)s=new r.CRLNumber(i);else if("cRLReason"==o)s=new r.CRLReason(i);else if("ocspNonce"==o)s=new r.OCSPNonce(i);else if("ocspNoCheck"==o)s=new r.OCSPNoCheck(i);else if("adobeTimeStamp"==o)s=new r.AdobeTimeStamp(i);else{if("subjectDirectoryAttributes"!=o)throw new Error("extension not supported:"+JSON.stringify(i));s=new r.SubjectDirectoryAttributes(i)}null!=s&&e.push(s)}return new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.x509.Extensions,se.asn1.ASN1Object),se.asn1.x509.Extension=function(e){se.asn1.x509.Extension.superclass.constructor.call(this);var t=se.asn1,n=t.DERObjectIdentifier,r=t.DEROctetString,i=(t.DERBitString,t.DERBoolean),o=t.DERSequence;this.tohex=function(){var e=new n({oid:this.oid}),t=new r({hex:this.getExtnValueHex()}),s=new Array;return s.push(e),this.critical&&s.push(new i),s.push(t),new o({array:s}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,void 0!==e&&void 0!==e.critical&&(this.critical=e.critical)},et(se.asn1.x509.Extension,se.asn1.ASN1Object),se.asn1.x509.KeyUsage=function(e){se.asn1.x509.KeyUsage.superclass.constructor.call(this,e);var t=Error,n={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var e=this.getBinValue();return this.asn1ExtnValue=new se.asn1.DERBitString({bin:e}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var e=this.params;if("object"!=typeof e||"object"!=typeof e.names&&"string"!=typeof e.bin)throw new t("parameter not yet set");if(null!=e.names)return Qe(e.names,n);if(null!=e.bin)return e.bin;throw new t("parameter not set properly")},this.oid="2.5.29.15",void 0!==e&&(this.params=e)},et(se.asn1.x509.KeyUsage,se.asn1.x509.Extension),se.asn1.x509.BasicConstraints=function(e){se.asn1.x509.BasicConstraints.superclass.constructor.call(this,e);var t=se.asn1,n=t.DERBoolean,r=t.DERInteger,i=t.DERSequence;this.getExtnValueHex=function(){var e=new Array;this.cA&&e.push(new n),this.pathLen>-1&&e.push(new r({int:this.pathLen}));var t=new i({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==e&&(void 0!==e.cA&&(this.cA=e.cA),void 0!==e.pathLen&&(this.pathLen=e.pathLen))},et(se.asn1.x509.BasicConstraints,se.asn1.x509.Extension),se.asn1.x509.CRLDistributionPoints=function(e){se.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,e);var t=se.asn1,n=t.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(e){for(var r=[],i=0;i<e.length;i++)if(e[i]instanceof se.asn1.ASN1Object)r.push(e[i]);else{var o=new n.DistributionPoint(e[i]);r.push(o)}this.asn1ExtnValue=new t.DERSequence({array:r})},this.setByOneURI=function(e){var t=new n.DistributionPoint({fulluri:e});this.setByDPArray([t])},this.oid="2.5.29.31",void 0!==e&&(void 0!==e.array?this.setByDPArray(e.array):void 0!==e.uri&&this.setByOneURI(e.uri))},et(se.asn1.x509.CRLDistributionPoints,se.asn1.x509.Extension),se.asn1.x509.DistributionPoint=function(e){se.asn1.x509.DistributionPoint.superclass.constructor.call(this);var t=se.asn1,n=t.x509.DistributionPointName;this.tohex=function(){var e=new t.DERSequence;if(null!=this.asn1DP){var n=new t.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});e.appendASN1Object(n)}return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(void 0!==e.dpobj?this.asn1DP=e.dpobj:void 0!==e.dpname?this.asn1DP=new n(e.dpname):void 0!==e.fulluri&&(this.asn1DP=new n({full:[{uri:e.fulluri}]})))},et(se.asn1.x509.DistributionPoint,se.asn1.ASN1Object),se.asn1.x509.DistributionPointName=function(e){se.asn1.x509.DistributionPointName.superclass.constructor.call(this);var t=se.asn1,n=t.DERTaggedObject;if(this.tohex=function(){if("full"!=this.type)throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new n({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e)if(t.x509.GeneralNames.prototype.isPrototypeOf(e))this.type="full",this.tag="a0",this.asn1V=e;else{if(void 0===e.full)throw new Error("This class supports GeneralNames only as argument");this.type="full",this.tag="a0",this.asn1V=new t.x509.GeneralNames(e.full)}},et(se.asn1.x509.DistributionPointName,se.asn1.ASN1Object),se.asn1.x509.CertificatePolicies=function(e){se.asn1.x509.CertificatePolicies.superclass.constructor.call(this,e);var t=se.asn1,n=t.x509,r=t.DERSequence,i=n.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var e=[],t=0;t<this.params.array.length;t++)e.push(new i(this.params.array[t]));var n=new r({array:e});return this.asn1ExtnValue=n,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",void 0!==e&&(this.params=e)},et(se.asn1.x509.CertificatePolicies,se.asn1.x509.Extension),se.asn1.x509.PolicyInformation=function(e){se.asn1.x509.PolicyInformation.superclass.constructor.call(this,e);var t=se.asn1,n=t.DERSequence,r=t.DERObjectIdentifier,i=t.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var e=[new r(this.params.policyoid)];if(void 0!==this.params.array){for(var t=[],o=0;o<this.params.array.length;o++)t.push(new i(this.params.array[o]));t.length>0&&e.push(new n({array:t}))}return new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},et(se.asn1.x509.PolicyInformation,se.asn1.ASN1Object),se.asn1.x509.PolicyQualifierInfo=function(e){se.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,e);var t=se.asn1,n=t.DERSequence,r=t.DERIA5String,i=t.DERObjectIdentifier,o=t.x509.UserNotice;this.params=null,this.tohex=function(){return void 0!==this.params.cps?new n({array:[new i({oid:"1.3.6.1.5.5.7.2.1"}),new r({str:this.params.cps})]}).tohex():null!=this.params.unotice?new n({array:[new i({oid:"1.3.6.1.5.5.7.2.2"}),new o(this.params.unotice)]}).tohex():void 0},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},et(se.asn1.x509.PolicyQualifierInfo,se.asn1.ASN1Object),se.asn1.x509.UserNotice=function(e){se.asn1.x509.UserNotice.superclass.constructor.call(this,e);var t=se.asn1.DERSequence,n=(se.asn1.DERInteger,se.asn1.x509.DisplayText),r=se.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var e=[];return void 0!==this.params.noticeref&&e.push(new r(this.params.noticeref)),void 0!==this.params.exptext&&e.push(new n(this.params.exptext)),new t({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},et(se.asn1.x509.UserNotice,se.asn1.ASN1Object),se.asn1.x509.NoticeReference=function(e){se.asn1.x509.NoticeReference.superclass.constructor.call(this,e);var t=se.asn1.DERSequence,n=se.asn1.DERInteger,r=se.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var e=[];if(void 0!==this.params.org&&e.push(new r(this.params.org)),void 0!==this.params.noticenum){for(var i=[],o=this.params.noticenum,s=0;s<o.length;s++)i.push(new n(o[s]));e.push(new t({array:i}))}if(0==e.length)throw new Error("parameter is empty");return new t({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},et(se.asn1.x509.NoticeReference,se.asn1.ASN1Object),se.asn1.x509.DisplayText=function(e){se.asn1.x509.DisplayText.superclass.constructor.call(this,e),this.hT="0c",void 0!==e&&("ia5"===e.type?this.hT="16":"vis"===e.type?this.hT="1a":"bmp"===e.type&&(this.hT="1e"))},et(se.asn1.x509.DisplayText,se.asn1.DERAbstractString),se.asn1.x509.PolicyMappings=function(e){se.asn1.x509.PolicyMappings.superclass.constructor.call(this,e);var t=se.asn1,n=(t.x509,t.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){for(var e=this.params,t=[],r=0;r<e.array.length;r++){var i=e.array[r];t.push({seq:[{oid:i[0]},{oid:i[1]}]})}return this.asn1ExtnValue=n({seq:t}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.33",void 0!==e&&(this.params=e)},et(se.asn1.x509.PolicyMappings,se.asn1.x509.Extension),se.asn1.x509.PolicyConstraints=function(e){se.asn1.x509.PolicyConstraints.superclass.constructor.call(this,e);var t=se.asn1,n=(t.x509,t.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){var e=this.params,t=[];return null!=e.reqexp&&t.push({tag:{tagi:"80",obj:{int:e.reqexp}}}),null!=e.inhibit&&t.push({tag:{tagi:"81",obj:{int:e.inhibit}}}),this.asn1ExtnValue=n({seq:t}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.36",void 0!==e&&(this.params=e)},et(se.asn1.x509.PolicyConstraints,se.asn1.x509.Extension),se.asn1.x509.InhibitAnyPolicy=function(e){se.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this,e);var t=se.asn1,n=(t.x509,t.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=n({int:this.params.skip}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.54",void 0!==e&&(this.params=e)},et(se.asn1.x509.InhibitAnyPolicy,se.asn1.x509.Extension),se.asn1.x509.NameConstraints=function(e){se.asn1.x509.NameConstraints.superclass.constructor.call(this,e);var t=se.asn1,n=t.x509,r=t.ASN1Util.newObject,i=n.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var e=this.params,t=[];if(null!=e.permit&&null!=e.permit.length){for(var n=[],o=0;o<e.permit.length;o++)n.push(new i(e.permit[o]));t.push({tag:{tagi:"a0",obj:{seq:n}}})}if(null!=e.exclude&&null!=e.exclude.length){var s=[];for(o=0;o<e.exclude.length;o++)s.push(new i(e.exclude[o]));t.push({tag:{tagi:"a1",obj:{seq:s}}})}return this.asn1ExtnValue=r({seq:t}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",void 0!==e&&(this.params=e)},et(se.asn1.x509.NameConstraints,se.asn1.x509.Extension),se.asn1.x509.GeneralSubtree=function(e){se.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var t=se.asn1,n=t.x509.GeneralName,r=t.ASN1Util.newObject;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params,t=[new n(e)];return null!=e.min&&t.push({tag:{tagi:"80",obj:{int:e.min}}}),null!=e.max&&t.push({tag:{tagi:"81",obj:{int:e.max}}}),r({seq:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},et(se.asn1.x509.GeneralSubtree,se.asn1.ASN1Object),se.asn1.x509.ExtKeyUsage=function(e){se.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,e);var t=se.asn1;this.setPurposeArray=function(e){this.asn1ExtnValue=new t.DERSequence;for(var n=0;n<e.length;n++){var r=new t.DERObjectIdentifier(e[n]);this.asn1ExtnValue.appendASN1Object(r)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",void 0!==e&&void 0!==e.array&&this.setPurposeArray(e.array)},et(se.asn1.x509.ExtKeyUsage,se.asn1.x509.Extension),se.asn1.x509.AuthorityKeyIdentifier=function(e){se.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,e);var t=se,n=t.asn1,r=n.DERTaggedObject,i=n.x509.GeneralNames;t.crypto.Util.isKey;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var e=new Array;this.asn1KID&&e.push(new r({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&e.push(new r({explicit:!1,tag:"a1",obj:new i([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&e.push(new r({explicit:!1,tag:"82",obj:this.asn1CertSN}));var t=new n.DERSequence({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new se.asn1.DEROctetString(e);else if("object"==typeof e&&se.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN ")){var t=e;"string"==typeof e&&(t=tt.getKey(e));var n=tt.getKeyID(t);this.asn1KID=new se.asn1.DEROctetString({hex:n})}},this.setCertIssuerByParam=function(e){void 0!==e.str||void 0!==e.ldapstr||void 0!==e.hex||void 0!==e.certsubject||void 0!==e.certissuer?this.asn1CertIssuer=new se.asn1.x509.X500Name(e):"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&-1!=e.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new se.asn1.x509.X500Name({certissuer:e}))},this.setCertSNByParam=function(e){if(void 0!==e.str||void 0!==e.bigint||void 0!==e.hex)this.asn1CertSN=new se.asn1.DERInteger(e);else if("string"==typeof e&&-1!=e.indexOf("BEGIN ")&&e.indexOf("CERTIFICATE")){var t=new ot;t.readCertPEM(e);var n=t.getSerialNumberHex();this.asn1CertSN=new se.asn1.DERInteger({hex:n})}},this.oid="2.5.29.35",void 0!==e&&(void 0!==e.kid&&this.setKIDByParam(e.kid),void 0!==e.issuer&&this.setCertIssuerByParam(e.issuer),void 0!==e.sn&&this.setCertSNByParam(e.sn),void 0!==e.issuersn&&"string"==typeof e.issuersn&&-1!=e.issuersn.indexOf("BEGIN ")&&e.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(e.issuersn),this.setCertIssuerByParam(e.issuersn)))},et(se.asn1.x509.AuthorityKeyIdentifier,se.asn1.x509.Extension),se.asn1.x509.SubjectKeyIdentifier=function(e){se.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,e);var t=se.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new t(e);else if("object"==typeof e&&se.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN")){var n=e;"string"==typeof e&&(n=tt.getKey(e));var r=tt.getKeyID(n);this.asn1KID=new se.asn1.DEROctetString({hex:r})}},this.oid="2.5.29.14",void 0!==e&&void 0!==e.kid&&this.setKIDByParam(e.kid)},et(se.asn1.x509.SubjectKeyIdentifier,se.asn1.x509.Extension),se.asn1.x509.AuthorityInfoAccess=function(e){se.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,e),this.setAccessDescriptionArray=function(e){for(var t=new Array,n=se.asn1,r=n.DERSequence,i=n.DERObjectIdentifier,o=n.x509.GeneralName,s=0;s<e.length;s++){var a,u=e[s];if(void 0!==u.ocsp)a=new r({array:[new i({oid:"1.3.6.1.5.5.7.48.1"}),new o({uri:u.ocsp})]});else{if(void 0===u.caissuer)throw new Error("unknown AccessMethod parameter: "+JSON.stringify(u));a=new r({array:[new i({oid:"1.3.6.1.5.5.7.48.2"}),new o({uri:u.caissuer})]})}t.push(a)}this.asn1ExtnValue=new r({array:t})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==e&&void 0!==e.array&&this.setAccessDescriptionArray(e.array)},et(se.asn1.x509.AuthorityInfoAccess,se.asn1.x509.Extension),se.asn1.x509.SubjectAltName=function(e){se.asn1.x509.SubjectAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new se.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},et(se.asn1.x509.SubjectAltName,se.asn1.x509.Extension),se.asn1.x509.IssuerAltName=function(e){se.asn1.x509.IssuerAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new se.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},et(se.asn1.x509.IssuerAltName,se.asn1.x509.Extension),se.asn1.x509.SubjectDirectoryAttributes=function(e){se.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,e);var t=se.asn1,n=t.DERSequence,r=t.ASN1Util.newObject,i=t.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var e=[],t=0;t<this.params.array.length;t++){var o=this.params.array[t];if(null==o.attr||null==o.array){var s={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if("dateOfBirth"==o.attr)s.seq[0].oid=i(o.attr),s.seq[1].set[0]={gentime:o.str};else if("placeOfBirth"==o.attr)s.seq[0].oid=i(o.attr),s.seq[1].set[0]={utf8str:o.str};else if("gender"==o.attr)s.seq[0].oid=i(o.attr),s.seq[1].set[0]={prnstr:o.str};else if("countryOfCitizenship"==o.attr)s.seq[0].oid=i(o.attr),s.seq[1].set[0]={prnstr:o.str};else{if("countryOfResidence"!=o.attr)throw new Error("unsupported attribute: "+o.attr);s.seq[0].oid=i(o.attr),s.seq[1].set[0]={prnstr:o.str}}e.push(new r(s))}else{var a={seq:[{oid:o.attr},{set:o.array}]};e.push(r(a))}}var u=new n({array:e});return this.asn1ExtnValue=u,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",void 0!==e&&(this.params=e)},et(se.asn1.x509.SubjectDirectoryAttributes,se.asn1.x509.Extension),se.asn1.x509.PrivateExtension=function(e){se.asn1.x509.PrivateExtension.superclass.constructor.call(this,e);var t=se,n=t.lang.String.isHex,r=t.asn1,i=r.x509.OID.name2oid,o=r.ASN1Util.newObject;this.params=null,this.setByParam=function(e){this.oid=i(e.extname),this.params=e},this.getExtnValueHex=function(){if(null==this.params.extname||null==this.params.extn)throw new Error("extname or extnhex not specified");var e=this.params.extn;if("string"==typeof e&&n(e))return e;if("object"==typeof e)try{return o(e).tohex()}catch(e){}throw new Error("unsupported extn value")},null!=e&&this.setByParam(e)},et(se.asn1.x509.PrivateExtension,se.asn1.x509.Extension),se.asn1.x509.CRL=function(e){se.asn1.x509.CRL.superclass.constructor.call(this);var t=se.asn1,n=t.DERSequence,r=t.DERBitString,i=t.x509,o=i.AlgorithmIdentifier,s=i.TBSCertList;this.params=void 0,this.setByParam=function(e){this.params=e},this.sign=function(){var e=new s(this.params).tohex(),t=new se.crypto.Signature({alg:this.params.sigalg});t.init(this.params.cakey),t.updateHex(e);var n=t.sign();this.params.sighex=n},this.getPEM=function(){return Ce(this.tohex(),"X509 CRL")},this.tohex=function(){var e=this.params;if(null==e.tbsobj&&(e.tbsobj=new s(e)),null==e.sighex&&null!=e.cakey&&this.sign(),null==e.sighex)throw new Error("sighex or cakey parameter not defined");var t=[];return t.push(e.tbsobj),t.push(new o({name:e.sigalg})),t.push(new r({hex:"00"+e.sighex})),new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&(this.params=e)},et(se.asn1.x509.CRL,se.asn1.ASN1Object),se.asn1.x509.TBSCertList=function(e){se.asn1.x509.TBSCertList.superclass.constructor.call(this);var t=se.asn1,n=t.DERInteger,r=t.DERSequence,i=t.DERTaggedObject,o=(t.DERObjectIdentifier,t.x509),s=o.AlgorithmIdentifier,a=o.Time,u=o.Extensions,l=o.X500Name;this.params=null,this.setByParam=function(e){this.params=e},this.getRevCertSequence=function(){for(var e=[],t=this.params.revcert,i=0;i<t.length;i++){var o=[new n(t[i].sn),new a(t[i].date)];null!=t[i].ext&&o.push(new u(t[i].ext)),e.push(new r({array:o}))}return new r({array:e})},this.tohex=function(){var e=[],t=this.params;if(null!=t.version){var o=t.version-1,c=new n({int:o});e.push(c)}if(e.push(new s({name:t.sigalg})),e.push(new l(t.issuer)),e.push(new a(t.thisupdate)),null!=t.nextupdate&&e.push(new a(t.nextupdate)),null!=t.revcert&&e.push(this.getRevCertSequence()),null!=t.ext){var h=new u(t.ext);e.push(new i({tag:"a0",explicit:!0,obj:h}))}return new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},et(se.asn1.x509.TBSCertList,se.asn1.ASN1Object),se.asn1.x509.CRLEntry=function(e){se.asn1.x509.CRLEntry.superclass.constructor.call(this);var t=se.asn1;this.setCertSerial=function(e){this.sn=new t.DERInteger(e)},this.setRevocationDate=function(e){this.time=new t.x509.Time(e)},this.tohex=function(){var e=new t.DERSequence({array:[this.sn,this.time]});return this.TLV=e.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(void 0!==e.time&&this.setRevocationDate(e.time),void 0!==e.sn&&this.setCertSerial(e.sn))},et(se.asn1.x509.CRLEntry,se.asn1.ASN1Object),se.asn1.x509.CRLNumber=function(e){se.asn1.x509.CRLNumber.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new se.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",null!=e&&(this.params=e)},et(se.asn1.x509.CRLNumber,se.asn1.x509.Extension),se.asn1.x509.CRLReason=function(e){se.asn1.x509.CRLReason.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new se.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",null!=e&&(this.params=e)},et(se.asn1.x509.CRLReason,se.asn1.x509.Extension),se.asn1.x509.OCSPNonce=function(e){se.asn1.x509.OCSPNonce.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new se.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",null!=e&&(this.params=e)},et(se.asn1.x509.OCSPNonce,se.asn1.x509.Extension),se.asn1.x509.OCSPNoCheck=function(e){se.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new se.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",null!=e&&(this.params=e)},et(se.asn1.x509.OCSPNoCheck,se.asn1.x509.Extension),se.asn1.x509.AdobeTimeStamp=function(e){se.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,e);var t=se.asn1,n=t.DERInteger,r=t.DERBoolean,i=t.DERSequence,o=t.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var e=this.params,t=[new n(1)];return t.push(new o({uri:e.uri})),null!=e.reqauth&&t.push(new r(e.reqauth)),this.asn1ExtnValue=new i({array:t}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",void 0!==e&&this.setByParam(e)},et(se.asn1.x509.AdobeTimeStamp,se.asn1.x509.Extension),se.asn1.x509.X500Name=function(e){se.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=se.asn1,n=t.x509,r=n.RDN;this.setByString=function(e,t){void 0!==t&&(this.sRule=t);var n=e.split("/");n.shift();for(var i=[],o=0;o<n.length;o++)if(n[o].match(/^[^=]+=.+$/))i.push(n[o]);else{var s=i.length-1;i[s]=i[s]+"/"+n[o]}for(o=0;o<i.length;o++)this.asn1Array.push(new r({str:i[o],rule:this.sRule}))},this.setByLdapString=function(e,t){void 0!==t&&(this.sRule=t);var r=n.X500Name.ldapToCompat(e);this.setByString(r,t)},this.setByObject=function(e,t){for(var n in void 0!==t&&(this.sRule=t),e)if(e.hasOwnProperty(n)){var i=new r({str:n+"="+e[n],rule:this.sRule});this.asn1Array?this.asn1Array.push(i):this.asn1Array=[i]}},this.setByParam=function(e){var t;(void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.array)?this.paramArray=e.array:void 0!==e.str?this.setByString(e.str):void 0!==e.ldapstr?this.setByLdapString(e.ldapstr):void 0!==e.hex?this.hTLV=e.hex:void 0!==e.certissuer?((t=new ot).readCertPEM(e.certissuer),this.hTLV=t.getIssuerHex()):void 0!==e.certsubject?((t=new ot).readCertPEM(e.certsubject),this.hTLV=t.getSubjectHex()):"object"==typeof e&&void 0===e.certsubject&&void 0===e.certissuer&&this.setByObject(e)},this.tohex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(0==this.asn1Array.length&&this.paramArray.length>0)for(var e=0;e<this.paramArray.length;e++){var n={array:this.paramArray[e]};"utf8"!=this.sRule&&(n.rule=this.sRule);var i=new r(n);this.asn1Array.push(i)}var o=new t.DERSequence({array:this.asn1Array});return this.hTLV=o.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},et(se.asn1.x509.X500Name,se.asn1.ASN1Object),se.asn1.x509.X500Name.compatToLDAP=function(e){if("/"!==e.substr(0,1))throw"malformed input";var t=(e=e.substr(1)).split("/");return t.reverse(),(t=t.map((function(e){return e.replace(/,/,"\\,")}))).join(",")},se.asn1.x509.X500Name.onelineToLDAP=function(e){return se.asn1.x509.X500Name.compatToLDAP(e)},se.asn1.x509.X500Name.ldapToCompat=function(e){for(var t=e.split(","),n=!1,r=[],i=0;t.length>0;i++){var o=t.shift();if(!0===n){var s=(r.pop()+","+o).replace(/\\,/g,",");r.push(s),n=!1}else r.push(o);"\\"===o.substr(-1,1)&&(n=!0)}return(r=r.map((function(e){return e.replace("/","\\/")}))).reverse(),"/"+r.join("/")},se.asn1.x509.X500Name.ldapToOneline=function(e){return se.asn1.x509.X500Name.ldapToCompat(e)},se.asn1.x509.RDN=function(e){se.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=se.asn1.x509.AttributeTypeAndValue;this.setByParam=function(e){void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.str&&this.addByMultiValuedString(e.str),void 0!==e.array&&(this.paramArray=e.array)},this.addByString=function(e){this.asn1Array.push(new se.asn1.x509.AttributeTypeAndValue({str:e,rule:this.sRule}))},this.addByMultiValuedString=function(e){for(var t=se.asn1.x509.RDN.parseString(e),n=0;n<t.length;n++)this.addByString(t[n])},this.tohex=function(){if(0==this.asn1Array.length&&this.paramArray.length>0)for(var e=0;e<this.paramArray.length;e++){var n=this.paramArray[e];void 0!==n.rule&&"utf8"!=this.sRule&&(n.rule=this.sRule);var r=new t(n);this.asn1Array.push(r)}var i=new se.asn1.DERSet({array:this.asn1Array});return this.TLV=i.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},et(se.asn1.x509.RDN,se.asn1.ASN1Object),se.asn1.x509.RDN.parseString=function(e){for(var t=e.split(/\+/),n=!1,r=[],i=0;t.length>0;i++){var o=t.shift();if(!0===n){var s=(r.pop()+"+"+o).replace(/\\\+/g,"+");r.push(s),n=!1}else r.push(o);"\\"===o.substr(-1,1)&&(n=!0)}var a=!1,u=[];for(i=0;r.length>0;i++){o=r.shift();if(!0===a){var l=u.pop();if(o.match(/"$/)){s=(l+"+"+o).replace(/^([^=]+)="(.*)"$/,"$1=$2");u.push(s),a=!1}else u.push(l+"+"+o)}else u.push(o);o.match(/^[^=]+="/)&&(a=!0)}return u},se.asn1.x509.AttributeTypeAndValue=function(e){se.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var t=se,n=t.asn1,r=n.DERSequence,i=n.DERUTF8String,o=n.DERPrintableString,s=n.DERTeletexString,a=n.DERIA5String,u=n.DERVisibleString,l=n.DERBMPString,c=t.lang.String.isMail,h=t.lang.String.isPrintable;this.setByParam=function(e){if(void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.ds&&(this.dsType=e.ds),void 0===e.value&&void 0!==e.str){var t=e.str.match(/^([^=]+)=(.+)$/);if(!t)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.sType=t[1],this.sValue=t[2]}else this.sType=e.type,this.sValue=e.value},this.setByString=function(e,t){void 0!==t&&(this.sRule=t);var n=e.match(/^([^=]+)=(.+)$/);if(!n)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.setByAttrTypeAndValueStr(n[1],n[2])},this._getDsType=function(){var e=this.sType,t=this.sValue,n=this.sRule;return"prn"===n?"CN"==e&&c(t)?"ia5":h(t)?"prn":"utf8":"utf8"===n?"CN"==e&&c(t)?"ia5":"C"==e?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(e,t,n){void 0!==n&&(this.sRule=n),this.sType=e,this.sValue=t},this.getValueObj=function(e,t){if("utf8"==e)return new i({str:t});if("prn"==e)return new o({str:t});if("tel"==e)return new s({str:t});if("ia5"==e)return new a({str:t});if("vis"==e)return new u({str:t});if("bmp"==e)return new l({str:t});throw new Error("unsupported directory string type: type="+e+" value="+t)},this.tohex=function(){null==this.dsType&&(this.dsType=this._getDsType());var e=se.asn1.x509.OID.atype2obj(this.sType),t=this.getValueObj(this.dsType,this.sValue),n=new r({array:[e,t]});return this.TLV=n.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},et(se.asn1.x509.AttributeTypeAndValue,se.asn1.ASN1Object),se.asn1.x509.SubjectPublicKeyInfo=function(e){se.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var t=se,n=t.asn1,r=n.DERInteger,i=n.DERBitString,o=n.DERObjectIdentifier,s=n.DERSequence,a=n.ASN1Util.newObject,u=n.x509.AlgorithmIdentifier,l=t.crypto;l.ECDSA,l.DSA;this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new s({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.tohex=function(){var e=this.getASN1Object();return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(e){try{if(e instanceof te){var t=a({seq:[{int:{bigint:e.n}},{int:{int:e.e}}]}).tohex();this.asn1AlgId=new u({name:"rsaEncryption"}),this.asn1SubjPKey=new i({hex:"00"+t})}}catch(e){}try{if(e instanceof se.crypto.ECDSA){var n=new o({name:e.curveName});this.asn1AlgId=new u({name:"ecPublicKey",asn1params:n}),this.asn1SubjPKey=new i({hex:"00"+e.pubKeyHex})}}catch(e){}try{if(e instanceof se.crypto.DSA){n=new a({seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]});this.asn1AlgId=new u({name:"dsa",asn1params:n});var s=new r({bigint:e.y});this.asn1SubjPKey=new i({hex:"00"+s.tohex()})}}catch(e){}},void 0!==e&&this.setPubKey(e)},et(se.asn1.x509.SubjectPublicKeyInfo,se.asn1.ASN1Object),se.asn1.x509.Time=function(e){se.asn1.x509.Time.superclass.constructor.call(this);var t=se.asn1,n=t.DERUTCTime,r=t.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(e){this.timeParams=e},this.setByParam=function(e){this.params=e},this.getType=function(e){return e.match(/^[0-9]{12}Z$/)?"utc":e.match(/^[0-9]{14}Z$/)?"gen":e.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":e.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var e=this.params,t=null;if("string"==typeof e&&(e={str:e}),null==e||!e.str||null!=e.type&&null!=e.type||(e.type=this.getType(e.str)),null!=e&&e.str?("utc"==e.type&&(t=new n(e.str)),"gen"==e.type&&(t=new r(e.str))):t="gen"==this.type?new r:new n,null==t)throw new Error("wrong setting for Time");return this.TLV=t.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},se.asn1.x509.Time_bak=function(e){se.asn1.x509.Time_bak.superclass.constructor.call(this);var t=se.asn1,n=t.DERUTCTime,r=t.DERGeneralizedTime;this.setTimeParams=function(e){this.timeParams=e},this.tohex=function(){var e=null;return e=null!=this.timeParams?"utc"==this.type?new n(this.timeParams):new r(this.timeParams):"utc"==this.type?new n:new r,this.TLV=e.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",void 0!==e&&(void 0!==e.type?this.type=e.type:void 0!==e.str&&(e.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),e.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=e)},et(se.asn1.x509.Time,se.asn1.ASN1Object),se.asn1.x509.AlgorithmIdentifier=function(e){se.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var t=se.asn1,n=t.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var e=null;for(var r in n)r===this.nameAlg&&(e=n[r]);if(null!==e)return this.hTLV=e,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=t.x509.OID.name2obj(this.nameAlg));var i=[this.asn1Alg];null!==this.asn1Params&&i.push(this.asn1Params);var o=new t.DERSequence({array:i});return this.hTLV=o.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(void 0!==e.name&&(this.nameAlg=e.name),void 0!==e.asn1params&&(this.asn1Params=e.asn1params),void 0!==e.paramempty&&(this.paramEmpty=e.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){void 0!==this.nameAlg.name&&(this.nameAlg=this.nameAlg.name);var r=this.nameAlg.toLowerCase();"withdsa"!==r.substr(-7,7)&&"withecdsa"!==r.substr(-9,9)&&(this.asn1Params=new t.DERNull)}},et(se.asn1.x509.AlgorithmIdentifier,se.asn1.ASN1Object),se.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},se.asn1.x509.GeneralName=function(e){se.asn1.x509.GeneralName.superclass.constructor.call(this);var t=se.asn1,n=t.x509,r=n.X500Name,i=n.OtherName,o=t.DERIA5String,s=(t.DERPrintableString,t.DEROctetString),a=t.DERTaggedObject,u=t.ASN1Object,l=Error;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e,t,n=this.params,c=!1;if(void 0!==n.other)e="a0",t=new i(n.other);else if(void 0!==n.rfc822)e="81",t=new o({str:n.rfc822});else if(void 0!==n.dns)e="82",t=new o({str:n.dns});else if(void 0!==n.dn)e="a4",c=!0,t="string"==typeof n.dn?new r({str:n.dn}):n.dn instanceof se.asn1.x509.X500Name?n.dn:new r(n.dn);else if(void 0!==n.ldapdn)e="a4",c=!0,t=new r({ldapstr:n.ldapdn});else if(void 0!==n.certissuer||void 0!==n.certsubj){var h,p;e="a4",c=!0;var d=null;if(void 0!==n.certsubj?(h=!1,p=n.certsubj):(h=!0,p=n.certissuer),p.match(/^[0-9A-Fa-f]+$/),-1!=p.indexOf("-----BEGIN ")&&(d=Fe(p)),null==d)throw new Error("certsubj/certissuer not cert");var f,g=new ot;g.hex=d,f=h?g.getIssuerHex():g.getSubjectHex(),(t=new u).hTLV=f}else if(void 0!==n.uri)e="86",t=new o({str:n.uri});else{if(void 0===n.ip)throw new l("improper params");var m;e="87";var v=n.ip;try{if(v.match(/^[0-9a-f]+$/)){var y=v.length;if(8!=y&&16!=y&&32!=y&&64!=y)throw"err";m=v}else m=Le(v)}catch(e){throw new l("malformed IP address: "+n.ip+":"+e.message)}t=new s({hex:m})}return new a({tag:e,explicit:c,obj:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},et(se.asn1.x509.GeneralName,se.asn1.ASN1Object),se.asn1.x509.GeneralNames=function(e){se.asn1.x509.GeneralNames.superclass.constructor.call(this);var t=se.asn1;this.setByParamArray=function(e){for(var n=0;n<e.length;n++){var r=new t.x509.GeneralName(e[n]);this.asn1Array.push(r)}},this.tohex=function(){return new t.DERSequence({array:this.asn1Array}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=new Array,void 0!==e&&this.setByParamArray(e)},et(se.asn1.x509.GeneralNames,se.asn1.ASN1Object),se.asn1.x509.OtherName=function(e){se.asn1.x509.OtherName.superclass.constructor.call(this);var t=se.asn1,n=t.DERObjectIdentifier,r=t.DERSequence,i=t.ASN1Util.newObject;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params;if(null==e.oid||null==e.value)throw new Error("oid or value not specified");var t=new n({oid:e.oid}),o=i({tag:{tag:"a0",explicit:!0,obj:e.value}});return new r({array:[t,o]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},et(se.asn1.x509.OtherName,se.asn1.ASN1Object),se.asn1.x509.OID=new function(){var e=se.asn1.DERObjectIdentifier;this.name2oidList={"aes128-CBC":"2.16.840.1.101.3.4.1.2","aes256-CBC":"2.16.840.1.101.3.4.1.42",sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",hmacWithSHA1:"1.2.840.113549.2.7",hmacWithSHA224:"1.2.840.113549.2.8",hmacWithSHA256:"1.2.840.113549.2.9",hmacWithSHA384:"1.2.840.113549.2.10",hmacWithSHA512:"1.2.840.113549.2.11",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",policyMappings:"2.5.29.33",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",inhibitAnyPolicy:"2.5.29.54",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",smtpUTF8Mailbox:"1.3.6.1.5.5.7.8.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1",smimeMailboxLegacy:"2.23.140.1.5.1.1",smimeMailboxMulti:"2.23.140.1.5.1.2",smimeMailboxStrict:"2.23.140.1.5.1.3",smimeOrganizationLegacy:"2.23.140.1.5.2.1",smimeOrganizationMulti:"2.23.140.1.5.2.2",smimeOrganizationStrict:"2.23.140.1.5.2.3",smimeSponsorLegacy:"2.23.140.1.5.3.1",smimeSponsorMulti:"2.23.140.1.5.3.2",smimeSponsorStrict:"2.23.140.1.5.3.3",smimeIndividualLegacy:"2.23.140.1.5.4.1",smimeIndividualMulti:"2.23.140.1.5.4.2",smimeIndividualStrict:"2.23.140.1.5.4.3"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",GN:"2.5.4.42",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(t){if(void 0!==this.objCache[t])return this.objCache[t];if(void 0===this.name2oidList[t])throw"Name of ObjectIdentifier not defined: "+t;var n=this.name2oidList[t],r=new e({oid:n});return this.objCache[t]=r,r},this.atype2obj=function(t){if(void 0!==this.objCache[t])return this.objCache[t];var n;if(t.match(/^\d+\.\d+\.[0-9.]+$/))n=t;else if(void 0!==this.atype2oidList[t])n=this.atype2oidList[t];else{if(void 0===this.name2oidList[t])throw new Error("AttributeType name undefined: "+t);n=this.name2oidList[t]}var r=new e({oid:n});return this.objCache[t]=r,r},this.registerOIDs=function(e){if(this.checkOIDs(e))for(var t in e)this.name2oidList[t]=e[t]},this.checkOIDs=function(e){try{var t=Object.keys(e);return 0!=t.length&&(t.map((function(e,t,n){if(!this[e].match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")}),e),!0)}catch(e){return!1}}},se.asn1.x509.OID.oid2name=function(e){var t=se.asn1.x509.OID.name2oidList;for(var n in t)if(t[n]==e)return n;return""},se.asn1.x509.OID.oid2atype=function(e){var t=se.asn1.x509.OID.atype2oidList;for(var n in t)if(t[n]==e)return n;return e},se.asn1.x509.OID.name2oid=function(e){if(e.match(/^[0-9.]+$/))return e;var t=se.asn1.x509.OID.name2oidList;return void 0===t[e]?"":t[e]},se.asn1.x509.X509Util={},se.asn1.x509.X509Util.newCertPEM=function(e){var t=se.asn1.x509;t.TBSCertificate;return new(0,t.Certificate)(e).getPEM()},void 0!==se&&se||(se={}),void 0!==se.asn1&&se.asn1||(se.asn1={}),void 0!==se.asn1.cms&&se.asn1.cms||(se.asn1.cms={}),se.asn1.cms.Attribute=function(e){var t=Error,n=se.asn1,r=n.DERSequence,i=n.DERSet,o=n.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(e){this.params=e},this.getValueArray=function(){throw new t("not yet implemented abstract")},this.tohex=function(){var e=new o({oid:this.typeOid}),t=new i({array:this.getValueArray()});return new r({array:[e,t]}).tohex()},this.getEncodedHex=function(){return this.tohex()}},et(se.asn1.cms.Attribute,se.asn1.ASN1Object),se.asn1.cms.ContentType=function(e){var t=se.asn1;t.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){return[new t.DERObjectIdentifier(this.params.type)]},null!=e&&this.setByParam(e)},et(se.asn1.cms.ContentType,se.asn1.cms.Attribute),se.asn1.cms.MessageDigest=function(e){var t=se.asn1,n=t.DEROctetString;t.cms.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){return[new n(this.params)]},null!=e&&this.setByParam(e)},et(se.asn1.cms.MessageDigest,se.asn1.cms.Attribute),se.asn1.cms.SigningTime=function(e){var t=se.asn1;t.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){return[new t.x509.Time(this.params)]},null!=e&&this.setByParam(e)},et(se.asn1.cms.SigningTime,se.asn1.cms.Attribute),se.asn1.cms.SigningCertificate=function(e){var t=Error,n=se,r=n.asn1,i=r.DERSequence,o=r.cms,s=o.ESSCertID;n.crypto;o.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new t("parameter 'array' not specified");for(var n=this.params.array,r=[],o=0;o<n.length;o++){var a=n[o];0!=e.hasis||"string"!=typeof a||-1==a.indexOf("-----BEGIN")&&!le.isASN1HEX(a)||(a={cert:a}),0!=a.hasis&&0==e.hasis&&(a.hasis=!1),r.push(new s(a))}var u=new i({array:r});return[new i({array:[u]})]},null!=e&&this.setByParam(e)},et(se.asn1.cms.SigningCertificate,se.asn1.cms.Attribute),se.asn1.cms.ESSCertID=function(e){se.asn1.cms.ESSCertID.superclass.constructor.call(this);var t=Error,n=se,r=n.asn1,i=r.DEROctetString,o=r.DERSequence,s=r.cms.IssuerSerial;this.params=null,this.getCertHash=function(e,r){if(null!=e.hash)return e.hash;if("string"==typeof e&&-1==e.indexOf("-----BEGIN")&&!le.isASN1HEX(e))return e;var i,o,s;if("string"==typeof e)i=e;else{if(null==e.cert)throw new t("hash nor cert unspecified");i=e.cert}if(o=-1!=i.indexOf("-----BEGIN")?Fe(i):i,"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?o=Fe(e):le.isASN1HEX(e)&&(o=e)),null!=e.alg)s=e.alg;else{if(null==r)throw new t("hash alg unspecified");s=r}return n.crypto.Util.hashHex(o,s)},this.tohex=function(){var e=this.params,t=this.getCertHash(e,"sha1"),n=[];return n.push(new i({hex:t})),("string"==typeof e&&-1!=e.indexOf("-----BEGIN")||null!=e.cert&&0!=e.hasis||null!=e.issuer&&null!=e.serial)&&n.push(new s(e)),new o({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.cms.ESSCertID,se.asn1.ASN1Object),se.asn1.cms.SigningCertificateV2=function(e){var t=Error,n=se,r=n.asn1,i=r.DERSequence,o=(r.x509,r.cms),s=o.ESSCertIDv2;n.crypto;o.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new t("parameter 'array' not specified");for(var n=this.params.array,r=[],o=0;o<n.length;o++){var a=n[o];null==e.alg&&0!=e.hasis||"string"!=typeof a||-1==a.indexOf("-----BEGIN")&&!le.isASN1HEX(a)||(a={cert:a}),null==a.alg&&null!=e.alg&&(a.alg=e.alg),0!=a.hasis&&0==e.hasis&&(a.hasis=!1),r.push(new s(a))}var u=new i({array:r});return[new i({array:[u]})]},null!=e&&this.setByParam(e)},et(se.asn1.cms.SigningCertificateV2,se.asn1.cms.Attribute),se.asn1.cms.ESSCertIDv2=function(e){se.asn1.cms.ESSCertIDv2.superclass.constructor.call(this);Error;var t=se.asn1,n=t.DEROctetString,r=t.DERSequence,i=t.cms.IssuerSerial,o=t.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var e=this.params,t=this.getCertHash(e,"sha256"),s=[];return null!=e.alg&&"sha256"!=e.alg&&s.push(new o({name:e.alg})),s.push(new n({hex:t})),("string"==typeof e&&-1!=e.indexOf("-----BEGIN")||null!=e.cert&&0!=e.hasis||null!=e.issuer&&null!=e.serial)&&s.push(new i(e)),new r({array:s}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.cms.ESSCertIDv2,se.asn1.cms.ESSCertID),se.asn1.cms.IssuerSerial=function(e){var t=Error,n=se.asn1,r=n.DERInteger,i=n.DERSequence,o=n.cms,s=n.x509.GeneralNames,a=ot;o.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(e){this.params=e},this.tohex=function(){var e,n,o=this.params;if("string"==typeof o&&-1!=o.indexOf("-----BEGIN")||null!=o.cert){var u;u=null!=o.cert?o.cert:o;var l=new a;l.readCertPEM(u),e=l.getIssuer(),n={hex:l.getSerialNumberHex()}}else{if(null==o.issuer||!o.serial)throw new t("cert or issuer and serial parameter not specified");e=o.issuer,n=o.serial}var c=new s([{dn:e}]),h=new r(n);return new i({array:[c,h]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.cms.IssuerSerial,se.asn1.ASN1Object),se.asn1.cms.SignerIdentifier=function(e){var t=se.asn1,n=(t.DERInteger,t.DERSequence,t.cms),r=n.IssuerAndSerialNumber,i=n.SubjectKeyIdentifier;t.x509.X500Name,Error;n.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if("isssn"==e.type)return new r(e).tohex();if("skid"==e.type)return new i(e).tohex();throw new Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.cms.SignerIdentifier,se.asn1.ASN1Object),se.asn1.cms.IssuerAndSerialNumber=function(e){var t=se.asn1,n=t.DERInteger,r=t.DERSequence,i=t.cms,o=t.x509.X500Name,s=ot,a=Error;i.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e,t,i=this.params;if("string"==typeof i&&-1!=i.indexOf("-----BEGIN")||null!=i.cert){var u;u=null!=i.cert?i.cert:i;var l=new s;l.readCertPEM(u),e=l.getIssuer(),t={hex:l.getSerialNumberHex()}}else{if(null==i.issuer||!i.serial)throw new a("cert or issuer and serial parameter not specified");e=i.issuer,t=i.serial}var c=new o(e),h=new n(t);return new r({array:[c,h]}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},et(se.asn1.cms.IssuerAndSerialNumber,se.asn1.ASN1Object),se.asn1.cms.SubjectKeyIdentifier=function(e){var t=se.asn1,n=(t.DERInteger,t.DERSequence,t.ASN1Util.newObject),r=t.cms,i=(r.IssuerAndSerialName,r.SubjectKeyIdentifier,t.x509.X500Name,ot),o=Error;r.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var e,t=this.params;if(null==t.cert&&null==t.skid)throw new o("property cert nor skid undefined");null!=t.cert?e=new i(t.cert).getExtSubjectKeyIdentifier().kid.hex:null!=t.skid&&(e=t.skid);return n({tag:{tage:"a0",obj:{octstr:{hex:e}}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.cms.SubjectKeyIdentifier,se.asn1.ASN1Object),se.asn1.cms.AttributeList=function(e){var t=Error,n=se.asn1,r=n.DERSet,i=n.cms;i.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params;if(null!=this.hTLV)return this.hTLV;var n=!0;null!=e.sortflag&&(n=e.sortflag);for(var o=e.array,s=[],a=0;a<o.length;a++){var u=o[a],l=u.attr;if("contentType"==l)s.push(new i.ContentType(u));else if("messageDigest"==l)s.push(new i.MessageDigest(u));else if("signingTime"==l)s.push(new i.SigningTime(u));else if("signingCertificate"==l)s.push(new i.SigningCertificate(u));else if("signingCertificateV2"==l)s.push(new i.SigningCertificateV2(u));else if("signaturePolicyIdentifier"==l)s.push(new se.asn1.cades.SignaturePolicyIdentifier(u));else{if("signatureTimeStamp"!=l&&"timeStampToken"!=l)throw new t("unknown attr: "+l);s.push(new se.asn1.cades.SignatureTimeStamp(u))}}var c=new r({array:s,sortflag:n});return this.hTLV=c.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.cms.AttributeList,se.asn1.ASN1Object),se.asn1.cms.SignerInfo=function(e){var t=Error,n=se,r=n.asn1,i=r.DERInteger,o=r.DEROctetString,s=r.DERSequence,a=r.DERTaggedObject,u=r.cms,l=u.SignerIdentifier,c=u.AttributeList,h=(u.ContentType,u.EncapsulatedContentInfo,u.MessageDigest,u.SignedData,r.x509.AlgorithmIdentifier),p=n.crypto,d=tt;u.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var e=this.params,t=e.sigalg,n=new c(e.sattrs).tohex(),r=d.getKey(e.signkey),i=new p.Signature({alg:t});i.init(r),i.updateHex(n);var o=i.sign();e.sighex=o},this.tohex=function(){var e=this.params,n=[];if(n.push(new i({int:e.version})),n.push(new l(e.id)),n.push(new h({name:e.hashalg})),null!=e.sattrs){var r=new c(e.sattrs);try{n.push(new a({tag:"a0",explicit:!1,obj:r}))}catch(e){throw new t("si sattr error: "+e)}}if(null!=e.sigalgfield?n.push(new h({name:e.sigalgfield})):n.push(new h({name:e.sigalg})),null==e.sighex&&null!=e.signkey&&this.sign(),n.push(new o({hex:e.sighex})),null!=e.uattrs){r=new c(e.uattrs);try{n.push(new a({tag:"a1",explicit:!1,obj:r}))}catch(e){throw new t("si uattr error: "+e)}}return new s({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.cms.SignerInfo,se.asn1.ASN1Object),se.asn1.cms.EncapsulatedContentInfo=function(e){var t=se.asn1,n=t.DERTaggedObject,r=t.DERSequence,i=t.DERObjectIdentifier,o=t.DEROctetString;t.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];if(t.push(new i(e.type)),null!=e.content&&(null!=e.content.hex||null!=e.content.str)&&1!=e.isDetached){var s=new o(e.content),a=new n({tag:"a0",explicit:!0,obj:s});t.push(a)}return new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},et(se.asn1.cms.EncapsulatedContentInfo,se.asn1.ASN1Object),se.asn1.cms.ContentInfo=function(e){var t=se.asn1,n=t.DERTaggedObject,r=t.DERSequence,i=t.DERObjectIdentifier;t.x509.OID.name2obj;se.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];t.push(new i(e.type));var o=new n({tag:"a0",explicit:!0,obj:e.obj});return t.push(o),new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},et(se.asn1.cms.ContentInfo,se.asn1.ASN1Object),se.asn1.cms.SignedData=function(e){Error;var t=se.asn1,n=(t.ASN1Object,t.DERInteger),r=t.DERSet,i=t.DERSequence,o=(t.DERTaggedObject,t.cms),s=o.EncapsulatedContentInfo,a=o.SignerInfo,u=o.ContentInfo,l=o.CertificateSet,c=o.RevocationInfoChoices,h=t.x509.AlgorithmIdentifier;se.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var e=this.params;this._setDigestAlgs(e),this._setContentTypeByEContent(e),this._setMessageDigestByEContent(e),this._setSignerInfoVersion(e),this._setSignedDataVersion(e)},this._setDigestAlgs=function(e){for(var t={},n=e.sinfos,r=0;r<n.length;r++){t[n[r].hashalg]=1}e.hashalgs=Object.keys(t).sort()},this._setContentTypeByEContent=function(e){for(var t=e.econtent.type,n=e.sinfos,r=0;r<n.length;r++){var i=n[r];this._getAttrParamByName(i,"contentType").type=t}},this._setMessageDigestByEContent=function(e){var t=e.econtent,n=(e.econtent.type,t.content.hex);null==n&&"data"==t.type&&null!=t.content.str&&(n=xe(t.content.str));for(var r=e.sinfos,i=0;i<r.length;i++){var o=r[i],s=o.hashalg,a=this._getAttrParamByName(o,"messageDigest"),u=se.crypto.Util.hashHex(n,s);a.hex=u}},this._getAttrParamByName=function(e,t){for(var n=e.sattrs.array,r=0;r<n.length;r++)if(n[r].attr==t)return n[r]},this._setSignerInfoVersion=function(e){for(var t=e.sinfos,n=0;n<t.length;n++){var r=t[n],i=1;"skid"==r.id.type&&(i=3),r.version=i}},this._setSignedDataVersion=function(e){var t=this._getSignedDataVersion(e);e.version=t},this._getSignedDataVersion=function(e){if(null!=e.revinfos)for(var t=e.revinfos,n=0;n<t.length;n++){if(null!=t[n].ocsp)return 5}var r=e.sinfos;for(n=0;n<r.length;n++){if(3==e.sinfos[n].version)return 3}return"data"!=e.econtent.type?3:1},this.tohex=function(){var e=this.params;null!=this.getEncodedHexPrepare&&this.getEncodedHexPrepare(),1!=e.fixed&&this.checkAndFixParam();var t=[];t.push(new n({int:e.version}));for(var o=[],u=0;u<e.hashalgs.length;u++){var p=e.hashalgs[u];o.push(new h({name:p}))}t.push(new r({array:o})),t.push(new s(e.econtent)),null!=e.certs&&t.push(new l(e.certs)),null!=e.revinfos&&t.push(new c(e.revinfos));var d=[];for(u=0;u<e.sinfos.length;u++){var f=e.sinfos[u];d.push(new a(f))}return t.push(new r({array:d})),new i({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){return new u({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},null!=e&&this.setByParam(e)},et(se.asn1.cms.SignedData,se.asn1.ASN1Object),se.asn1.cms.CertificateSet=function(e){se.asn1.cms.CertificateSet.superclass.constructor.call(this);var t=Error,n=se.asn1,r=n.DERTaggedObject,i=n.DERSet,o=n.ASN1Object;this.params=null,this.tohex=function(){var e,n=this.params,s=[];if(n instanceof Array)e=n;else{if(null==n.array)throw new t("cert array not specified");e=n.array}for(var a=0;a<e.length;a++){var u=Fe(e[a]),l=new o;l.hTLV=u,s.push(l)}var c={array:s};0==n.sortflag&&(c.sortflag=!1);var h=new i(c);return new r({tag:"a0",explicit:!1,obj:h}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.cms.CertificateSet,se.asn1.ASN1Object),se.asn1.cms.RevocationInfoChoices=function(e){se.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(!e instanceof Array)throw new Error("params is not array");for(var t=[],n=0;n<e.length;n++)t.push(new se.asn1.cms.RevocationInfoChoice(e[n]));return se.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:t}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.cms.RevocationInfoChoices,se.asn1.ASN1Object),se.asn1.cms.RevocationInfoChoice=function(e){se.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(null!=e.crl&&"string"==typeof e.crl){var t=e.crl;return-1!=e.crl.indexOf("-----BEGIN")&&(t=Fe(e.crl)),t}if(null!=e.ocsp)return se.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new se.asn1.cms.OtherRevocationFormat(e)}}).tohex();throw new Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.cms.RevocationInfoChoice,se.asn1.ASN1Object),se.asn1.cms.OtherRevocationFormat=function(e){se.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var t=Error,n=se,r=n.asn1.ASN1Util.newObject,i=n.lang.String.isHex;this.params=null,this.tohex=function(){var e=this.params;if(null==e.ocsp)throw new t("property ocsp not specified");if(!i(e.ocsp)||!le.isASN1HEX(e.ocsp))throw new t("ocsp value not ASN.1 hex string");return r({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:e.ocsp}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.cms.OtherRevocationFormat,se.asn1.ASN1Object),se.asn1.cms.CMSUtil=new function(){},se.asn1.cms.CMSUtil.newSignedData=function(e){return new se.asn1.cms.SignedData(e)},se.asn1.cms.CMSUtil.verifySignedData=function(e){var t=se,n=t.asn1,r=n.cms,i=(r.SignerInfo,r.SignedData,r.SigningTime,r.SigningCertificate,r.SigningCertificateV2,n.cades.SignaturePolicyIdentifier,t.lang.String.isHex),o=le,s=o.getVbyList,a=o.getTLVbyList,u=o.getIdxbyList,l=o.getChildIdx,c=o.getTLV,h=o.oidname,p=t.crypto.Util.hashHex;void 0===e.cms&&i(e.cms);var d=e.cms,f=function(e,t){var n=t.idx;t.signerid_issuer1=a(e,n,[1,0],"30"),t.signerid_serial1=s(e,n,[1,1],"02"),t.hashalg=h(s(e,n,[2,0],"06"));var r=u(e,n,[3],"a0");t.idxSignedAttrs=r,g(e,t,r);var i=l(e,n).length;if(i<6)throw"malformed SignerInfo";t.sigalg=h(s(e,n,[i-2,0],"06")),t.sigval=s(e,n,[i-1],"04")},g=function(e,t,n){var r=l(e,n);t.signedAttrIdxList=r;for(var i=0;i<r.length;i++){var o,a=r[i],u=s(e,a,[0],"06");"2a864886f70d010905"===u?(o=be(s(e,a,[1,0])),t.saSigningTime=o):"2a864886f70d010904"===u&&(o=s(e,a,[1,0],"04"),t.saMessageDigest=o)}},m=function(e,t,n,r){n.verifyDetail={};var i=n.verifyDetail,o=t.parse.econtent,s=n.hashalg,a=n.saMessageDigest;i.validMessageDigest=!1,p(o,s)===a&&(i.validMessageDigest=!0),function(e,t,n,r){var i,o=t.parse.certsIdx;if(void 0===t.certs){i=[],t.certkeys=[];for(var s=l(e,o),a=0;a<s.length;a++){var u=c(e,s[a]),h=new ot;h.readCertHex(u),i[a]=h,t.certkeys[a]=h.getPublicKey()}t.certs=i}else i=t.certs;t.cccc=i.length,t.cccci=s.length;for(a=0;a<i.length;a++){var p=h.getIssuerHex(),d=h.getSerialNumberHex();n.signerid_issuer1===p&&n.signerid_serial1===d&&(n.certkey_idx=a)}}(e,t,n),i.validSignatureValue=!1;var u=n.sigalg,h="31"+c(e,n.idxSignedAttrs).substr(2);n.signedattrshex=h;var d=t.certs[n.certkey_idx].getPublicKey(),f=new se.crypto.Signature({alg:u});f.init(d),f.updateHex(h);var g=f.verify(n.sigval);i.validSignatureValue_isValid=g,!0===g&&(i.validSignatureValue=!0),n.isValid=!1,i.validMessageDigest&&i.validSignatureValue&&(n.isValid=!0)},v={isValid:!1,parse:{}};return function(e,t){if("2a864886f70d010702"!==s(e,0,[0],"06"))return t;t.cmsType="signedData",t.econtent=s(e,0,[1,0,2,1,0]),function(e,t){for(var n,r=3;r<6;r++)if(void 0!==(n=u(e,0,[1,0,r]))){var i=e.substr(n,2);"a0"===i&&(t.certsIdx=n),"a1"===i&&(t.revinfosIdx=n),"31"===i&&(t.signerinfosIdx=n)}}(e,t),t.signerInfos=[],function(e,t){var n=t.signerinfosIdx;if(void 0!==n){var r=l(e,n);t.signerInfoIdxList=r;for(var i=0;i<r.length;i++){var o={idx:r[i]};f(e,o),t.signerInfos.push(o)}}}(e,t)}(d,v.parse),function(e,t){for(var n=t.parse.signerInfos,r=n.length,i=!0,o=0;o<r;o++){var s=n[o];m(e,t,s,o),s.isValid||(i=!1)}t.isValid=i}(d,v),v},se.asn1.cms.CMSParser=function(){var e=Error,t=ot,n=new t,r=le,i=r.getV,o=r.getTLV,s=(r.getIdxbyList,r.getTLVbyList),a=r.getTLVbyListEx,u=r.getVbyList,l=r.getVbyListEx,c=r.getChildIdx;this.getCMSSignedData=function(e){var t=s(e,0,[1,0]);return this.getSignedData(t)},this.getSignedData=function(e){var t=c(e,0),n={},r=i(e,t[0]),s=parseInt(r,16);n.version=s;var u=o(e,t[1]);n.hashalgs=this.getHashAlgArray(u);var l=o(e,t[2]);n.econtent=this.getEContent(l);var h=a(e,0,["[0]"]);null!=h&&(n.certs=this.getCertificateSet(h));a(e,0,["[1]"]);var p=a(e,0,[3]);return n.sinfos=this.getSignerInfos(p),n},this.getHashAlgArray=function(e){for(var n=c(e,0),r=new t,i=[],s=0;s<n.length;s++){var a=o(e,n[s]),u=r.getAlgorithmIdentifierName(a);i.push(u)}return i},this.getEContent=function(e){var t={},n=u(e,0,[0]),r=u(e,0,[1,0]);return t.type=se.asn1.x509.OID.oid2name(le.hextooidstr(n)),t.content={hex:r},t},this.getSignerInfos=function(e){for(var t=[],n=c(e,0),r=0;r<n.length;r++){var i=o(e,n[r]),s=this.getSignerInfo(i);t.push(s)}return t},this.getSignerInfo=function(e){var t={},i=c(e,0),s=r.getInt(e,i[0],-1);-1!=s&&(t.version=s);var u=o(e,i[1]),h=this.getIssuerAndSerialNumber(u);t.id=h;var p=o(e,i[2]),d=n.getAlgorithmIdentifierName(p);t.hashalg=d;var f=a(e,0,["[0]"]);if(null!=f){var g=this.getAttributeList(f);t.sattrs=g}var m=a(e,0,[3]),v=n.getAlgorithmIdentifierName(m);t.sigalg=v;var y=l(e,0,[4]);t.sighex=y;var b=a(e,0,["[1]"]);if(null!=b){var $=this.getAttributeList(b);t.uattrs=$}return t},this.getSignerIdentifier=function(e){if("30"==e.substr(0,2))return this.getIssuerAndSerialNumber(e);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(e){var t={type:"isssn"},r=c(e,0),s=o(e,r[0]);t.issuer=n.getX500Name(s);var a=i(e,r[1]);return t.serial={hex:a},t},this.getAttributeList=function(e){for(var t=[],n=c(e,0),r=0;r<n.length;r++){var i=o(e,n[r]),s=this.getAttribute(i);t.push(s)}return{array:t}},this.getAttribute=function(e){var t={},n=c(e,0),i=r.getOID(e,n[0]),s=se.asn1.x509.OID.oid2name(i);t.attr=s;var a=o(e,n[1]),u=c(a,0);if(1==u.length)t.valhex=o(a,u[0]);else{for(var l=[],h=0;h<u.length;h++)l.push(o(a,u[h]));t.valhex=l}return"contentType"==s?this.setContentType(t):"messageDigest"==s?this.setMessageDigest(t):"signingTime"==s?this.setSigningTime(t):"signingCertificate"==s?this.setSigningCertificate(t):"signingCertificateV2"==s?this.setSigningCertificateV2(t):"signaturePolicyIdentifier"==s&&this.setSignaturePolicyIdentifier(t),t},this.setContentType=function(e){var t=r.getOIDName(e.valhex,0,null);null!=t&&(e.type=t,delete e.valhex)},this.setSigningTime=function(e){var t=be(i(e.valhex,0));e.str=t,delete e.valhex},this.setMessageDigest=function(e){var t=i(e.valhex,0);e.hex=t,delete e.valhex},this.setSigningCertificate=function(e){var t=c(e.valhex,0);if(t.length>0){for(var n=o(e.valhex,t[0]),r=c(n,0),i=[],s=0;s<r.length;s++){var a=o(n,r[s]),u=this.getESSCertID(a);i.push(u)}e.array=i}if(t.length>1){var l=o(e.valhex,t[1]);e.polhex=l}delete e.valhex},this.setSignaturePolicyIdentifier=function(e){var n=c(e.valhex,0);if(n.length>0){var s=r.getOID(e.valhex,n[0]);e.oid=s}if(n.length>1){var a=new t,u=c(e.valhex,n[1]),l=o(e.valhex,u[0]),h=a.getAlgorithmIdentifierName(l);e.alg=h;var p=i(e.valhex,u[1]);e.hash=p}delete e.valhex},this.setSigningCertificateV2=function(e){var t=c(e.valhex,0);if(t.length>0){for(var n=o(e.valhex,t[0]),r=c(n,0),i=[],s=0;s<r.length;s++){var a=o(n,r[s]),u=this.getESSCertIDv2(a);i.push(u)}e.array=i}if(t.length>1){var l=o(e.valhex,t[1]);e.polhex=l}delete e.valhex},this.getESSCertID=function(e){var t={},n=c(e,0);if(n.length>0){var r=i(e,n[0]);t.hash=r}if(n.length>1){var s=o(e,n[1]),a=this.getIssuerSerial(s);null!=a.serial&&(t.serial=a.serial),null!=a.issuer&&(t.issuer=a.issuer)}return t},this.getESSCertIDv2=function(t){var r={},s=c(t,0);if(s.length<1||3<s.length)throw new e("wrong number of elements");var a=0;if("30"==t.substr(s[0],2)){var u=o(t,s[0]);r.alg=n.getAlgorithmIdentifierName(u),a++}else r.alg="sha256";var l=i(t,s[a]);if(r.hash=l,s.length>a+1){var h=o(t,s[a+1]),p=this.getIssuerSerial(h);r.issuer=p.issuer,r.serial=p.serial}return r},this.getIssuerSerial=function(e){var t={},r=c(e,0),s=o(e,r[0]),a=n.getGeneralNames(s)[0].dn;t.issuer=a;var u=i(e,r[1]);return t.serial={hex:u},t},this.getCertificateSet=function(e){for(var t=c(e,0),n=[],r=0;r<t.length;r++){var i=o(e,t[r]);if("30"==i.substr(0,2)){var s=Ce(i,"CERTIFICATE");n.push(s)}}return{array:n,sortflag:!1}}},void 0!==se&&se||(se={}),void 0!==se.asn1&&se.asn1||(se.asn1={}),void 0!==se.asn1.tsp&&se.asn1.tsp||(se.asn1.tsp={}),se.asn1.tsp.TimeStampToken=function(e){var t=se.asn1.tsp;t.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var e=new t.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=e.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.tsp.TimeStampToken,se.asn1.cms.SignedData),se.asn1.tsp.TSTInfo=function(e){Error;var t=se.asn1,n=t.DERSequence,r=t.DERInteger,i=t.DERBoolean,o=t.DERGeneralizedTime,s=t.DERObjectIdentifier,a=t.DERTaggedObject,u=t.tsp,l=u.MessageImprint,c=u.Accuracy,h=(t.x509.X500Name,t.x509.GeneralName);if(u.TSTInfo.superclass.constructor.call(this),this.dVersion=new r({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var e=[this.dVersion];if(null==this.dPolicy)throw new Error("policy shall be specified.");if(e.push(this.dPolicy),null==this.dMessageImprint)throw new Error("messageImprint shall be specified.");if(e.push(this.dMessageImprint),null==this.dSerial)throw new Error("serialNumber shall be specified.");if(e.push(this.dSerial),null==this.dGenTime)throw new Error("genTime shall be specified.");e.push(this.dGenTime),null!=this.dAccuracy&&e.push(this.dAccuracy),null!=this.dOrdering&&e.push(this.dOrdering),null!=this.dNonce&&e.push(this.dNonce),null!=this.dTsa&&e.push(this.dTsa);var t=new n({array:e});return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e){if("string"==typeof e.policy){if(!e.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new s({oid:e.policy})}void 0!==e.messageImprint&&(this.dMessageImprint=new l(e.messageImprint)),void 0!==e.serial&&(this.dSerial=new r(e.serial)),void 0!==e.genTime&&(this.dGenTime=new o(e.genTime)),void 0!==e.accuracy&&(this.dAccuracy=new c(e.accuracy)),void 0!==e.ordering&&1==e.ordering&&(this.dOrdering=new i),void 0!==e.nonce&&(this.dNonce=new r(e.nonce)),void 0!==e.tsa&&(this.dTsa=new a({tag:"a0",explicit:!0,obj:new h({dn:e.tsa})}))}},et(se.asn1.tsp.TSTInfo,se.asn1.ASN1Object),se.asn1.tsp.Accuracy=function(e){var t=se.asn1,n=t.ASN1Util.newObject;t.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];return null!=e.seconds&&"number"==typeof e.seconds&&t.push({int:e.seconds}),null!=e.millis&&"number"==typeof e.millis&&t.push({tag:{tagi:"80",obj:{int:e.millis}}}),null!=e.micros&&"number"==typeof e.micros&&t.push({tag:{tagi:"81",obj:{int:e.micros}}}),n({seq:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.tsp.Accuracy,se.asn1.ASN1Object),se.asn1.tsp.MessageImprint=function(e){var t=se.asn1,n=t.DERSequence,r=t.DEROctetString,i=t.x509.AlgorithmIdentifier;t.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=new i({name:e.alg}),o=new r({hex:e.hash});return new n({array:[t,o]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},et(se.asn1.tsp.MessageImprint,se.asn1.ASN1Object),se.asn1.tsp.TimeStampReq=function(e){var t=se.asn1,n=t.DERSequence,r=t.DERInteger,i=t.DERBoolean,o=(t.ASN1Object,t.DERObjectIdentifier),s=t.tsp,a=s.MessageImprint;s.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];return t.push(new r({int:1})),e.messageImprint instanceof se.asn1.ASN1Object?t.push(e.messageImprint):t.push(new a(e.messageImprint)),null!=e.policy&&t.push(new o(e.policy)),null!=e.nonce&&t.push(new r(e.nonce)),1==e.certreq&&t.push(new i),new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.tsp.TimeStampReq,se.asn1.ASN1Object),se.asn1.tsp.TimeStampResp=function(e){var t=se.asn1,n=t.DERSequence,r=(t.ASN1Object,t.tsp),i=r.PKIStatusInfo;r.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,o=[];if(null!=e.econtent||null!=e.tst)if(null!=e.statusinfo?o.push(new i(e.statusinfo)):o.push(new i("granted")),null!=e.econtent)o.push(new r.TimeStampToken(e).getContentInfo());else{if(!(e.tst instanceof t.ASN1Object))throw new Error("improper member tst value");o.push(e.tst)}else{if(null==e.statusinfo)throw new Error("parameter for token nor statusinfo not specified");o.push(new i(e.statusinfo))}return new n({array:o}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.tsp.TimeStampResp,se.asn1.ASN1Object),se.asn1.tsp.PKIStatusInfo=function(e){var t=Error,n=se.asn1,r=n.DERSequence,i=n.tsp,o=i.PKIStatus,s=i.PKIFreeText,a=i.PKIFailureInfo;i.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,n=[];if("string"==typeof e)n.push(new o(e));else{if(null==e.status)throw new t("property 'status' unspecified");n.push(new o(e.status)),null!=e.statusstr&&n.push(new s(e.statusstr)),null!=e.failinfo&&n.push(new a(e.failinfo))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.tsp.PKIStatusInfo,se.asn1.ASN1Object),se.asn1.tsp.PKIStatus=function(e){var t=Error,n=se.asn1,r=n.DERInteger;n.tsp.PKIStatus.superclass.constructor.call(this);var i={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var e,n=this.params;if("string"==typeof n)try{e=i[n]}catch(e){throw new t("undefined name: "+n)}else{if("number"!=typeof n)throw new t("unsupported params");e=n}return new r({int:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.tsp.PKIStatus,se.asn1.ASN1Object),se.asn1.tsp.PKIFreeText=function(e){var t=Error,n=se.asn1,r=n.DERSequence,i=n.DERUTF8String;n.tsp.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(!e instanceof Array)throw new t("wrong params: not array");for(var n=[],o=0;o<e.length;o++)n.push(new i({str:e[o]}));return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.tsp.PKIFreeText,se.asn1.ASN1Object),se.asn1.tsp.PKIFailureInfo=function(e){var t=Error,n=se.asn1,r=n.DERBitString,i=n.tsp.PKIFailureInfo,o={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};i.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var e=this.params,n=0;if("number"==typeof e&&0<=e&&e<=25){for(var r=(n|=1<<e).toString(2),i="",s=r.length-1;s>=0;s--)i+=r[s];return i}if("string"==typeof e&&null!=o[e])return Qe([e],o);if("object"==typeof e&&null!=e.length)return Qe(e,o);throw new t("wrong params")},this.tohex=function(){this.params;var e=this.getBinValue();return new r({bin:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.tsp.PKIFailureInfo,se.asn1.ASN1Object),se.asn1.tsp.AbstractTSAAdapter=function(e){this.getTSTHex=function(e,t){throw"not implemented yet"}},se.asn1.tsp.SimpleTSAAdapter=function(e){var t=se,n=t.asn1.tsp,r=t.crypto.Util.hashHex;n.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(e,t){var i=r(e,t);this.params.econtent.content.messageImprint={alg:t,hash:i},this.params.econtent.content.serial={int:this.serial++};var o=Math.floor(1e9*Math.random());return this.params.econtent.content.nonce={int:o},new n.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},et(se.asn1.tsp.SimpleTSAAdapter,se.asn1.tsp.AbstractTSAAdapter),se.asn1.tsp.FixedTSAAdapter=function(e){var t=se,n=t.asn1.tsp,r=t.crypto.Util.hashHex;n.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(e,t){var i=r(e,t);return this.params.econtent.content.messageImprint={alg:t,hash:i},new n.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},et(se.asn1.tsp.FixedTSAAdapter,se.asn1.tsp.AbstractTSAAdapter),se.asn1.tsp.TSPUtil=new function(){},se.asn1.tsp.TSPUtil.newTimeStampToken=function(e){return new se.asn1.tsp.TimeStampToken(e)},se.asn1.tsp.TSPUtil.parseTimeStampReq=function(e){return(new se.asn1.tsp.TSPParser).getTimeStampReq(e)},se.asn1.tsp.TSPUtil.parseMessageImprint=function(e){return(new se.asn1.tsp.TSPParser).getMessageImprint(e)},se.asn1.tsp.TSPParser=function(){Error;var e=new ot,t=le,n=t.getV,r=t.getTLV,i=t.getIdxbyList,o=(t.getTLVbyListEx,t.getChildIdx),s=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],a={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(e){var t=o(e,0);if(1==t.length)return this.getPKIStatusInfo(r(e,t[0]));if(t.length>1){var n=this.getPKIStatusInfo(r(e,t[0])),i=r(e,t[1]),s=this.getToken(i);return s.statusinfo=n,s}},this.getToken=function(e){var t=(new se.asn1.cms.CMSParser).getCMSSignedData(e);return this.setTSTInfo(t),t},this.setTSTInfo=function(e){var t=e.econtent;if("tstinfo"==t.type){var n=t.content.hex,r=this.getTSTInfo(n);t.content=r}},this.getTSTInfo=function(t){var i={},s=o(t,0),a=n(t,s[1]);i.policy=ze(a);var u=r(t,s[2]);i.messageImprint=this.getMessageImprint(u);var l=n(t,s[3]);i.serial={hex:l};var c=n(t,s[4]);i.genTime={str:be(c)};var h=0;if(s.length>5&&"30"==t.substr(s[5],2)){var p=r(t,s[5]);i.accuracy=this.getAccuracy(p),h++}s.length>5+h&&"01"==t.substr(s[5+h],2)&&("ff"==n(t,s[5+h])&&(i.ordering=!0),h++);if(s.length>5+h&&"02"==t.substr(s[5+h],2)){var d=n(t,s[5+h]);i.nonce={hex:d},h++}if(s.length>5+h&&"a0"==t.substr(s[5+h],2)){var f=r(t,s[5+h]);f="30"+f.substr(2),pGeneralNames=e.getGeneralNames(f);var g=pGeneralNames[0].dn;i.tsa=g,h++}if(s.length>5+h&&"a1"==t.substr(s[5+h],2)){var m=r(t,s[5+h]);m="30"+m.substr(2);var v=e.getExtParamArray(m);i.ext=v,h++}return i},this.getAccuracy=function(e){for(var t={},r=o(e,0),i=0;i<r.length;i++){var s=e.substr(r[i],2),a=n(e,r[i]),u=parseInt(a,16);"02"==s?t.seconds=u:"80"==s?t.millis=u:"81"==s&&(t.micros=u)}return t},this.getMessageImprint=function(e){if("30"!=e.substr(0,2))throw new Error("head of messageImprint hex shall be x30");var r={},s=(o(e,0),i(e,0,[0,0])),a=n(e,s),u=t.hextooidstr(a),l=se.asn1.x509.OID.oid2name(u);if(""==l)throw new Error("hashAlg name undefined: "+u);var c=l,h=i(e,0,[1]);return r.alg=c,r.hash=n(e,h),r},this.getPKIStatusInfo=function(e){var t={},i=o(e,0),a=0;try{var u=n(e,i[0]),l=parseInt(u,16);t.status=s[l]}catch(e){}if(i.length>1&&"30"==e.substr(i[1],2)){var c=r(e,i[1]);t.statusstr=this.getPKIFreeText(c),a++}if(i.length>a&&"03"==e.substr(i[1+a],2)){var h=r(e,i[1+a]);t.failinfo=this.getPKIFailureInfo(h)}return t},this.getPKIFreeText=function(e){for(var n=[],r=o(e,0),i=0;i<r.length;i++)n.push(t.getString(e,r[i]));return n},this.getPKIFailureInfo=function(e){var n=t.getInt(e,0);return null!=a[n]?a[n]:n},this.getTimeStampReq=function(e){var i={certreq:!1},s=o(e,0);if(s.length<2)throw new Error("TimeStampReq must have at least 2 items");var a=r(e,s[1]);i.messageImprint=se.asn1.tsp.TSPUtil.parseMessageImprint(a);for(var u=2;u<s.length;u++){var l=s[u],c=e.substr(l,2);if("06"==c){var h=n(e,l);i.policy=t.hextooidstr(h)}"02"==c&&(i.nonce=n(e,l)),"01"==c&&(i.certreq=!0)}return i}},void 0!==se&&se||(se={}),void 0!==se.asn1&&se.asn1||(se.asn1={}),void 0!==se.asn1.cades&&se.asn1.cades||(se.asn1.cades={}),se.asn1.cades.SignaturePolicyIdentifier=function(e){var t=se.asn1.cades,n=t.SignaturePolicyId;t.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new n(this.params)]},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},et(se.asn1.cades.SignaturePolicyIdentifier,se.asn1.cms.Attribute),se.asn1.cades.SignaturePolicyId=function(e){var t=se.asn1,n=t.DERSequence,r=t.DERObjectIdentifier,i=(t.x509.AlgorithmIdentifier,t.cades),o=i.SignaturePolicyId,s=i.OtherHashAlgAndValue;o.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];return t.push(new r(e.oid)),t.push(new s(e)),new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},et(se.asn1.cades.SignaturePolicyId,se.asn1.ASN1Object),se.asn1.cades.OtherHashAlgAndValue=function(e){var t=Error,n=se.asn1,r=n.DERSequence,i=n.DEROctetString,o=n.x509.AlgorithmIdentifier;n.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(null==e.alg)throw new t("property 'alg' not specified");if(null==e.hash&&null==e.cert)throw new t("property 'hash' nor 'cert' not specified");var n=null;if(null!=e.hash)n=e.hash;else if(null!=e.cert){if("string"!=typeof e.cert)throw new t("cert not string");var s=e.cert;-1!=e.cert.indexOf("-----BEGIN")&&(s=Fe(e.cert)),n=se.crypto.Util.hashHex(s,e.alg)}var a=[];return a.push(new o({name:e.alg})),a.push(new i({hex:n})),new r({array:a}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.cades.OtherHashAlgAndValue,se.asn1.ASN1Object),se.asn1.cades.OtherHashValue=function(e){se.asn1.cades.OtherHashValue.superclass.constructor.call(this);var t=Error,n=se,r=(n.lang.String.isHex,n.asn1.DEROctetString);n.crypto.Util.hashHex;this.params=null,this.tohex=function(){var e=this.params;if(null==e.hash&&null==e.cert)throw new t("hash or cert not specified");var n=null;if(null!=e.hash)n=e.hash;else if(null!=e.cert){if("string"!=typeof e.cert)throw new t("cert not string");var i=e.cert;-1!=e.cert.indexOf("-----BEGIN")&&(i=Fe(e.cert)),n=se.crypto.Util.hashHex(i,"sha1")}return new r({hex:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.cades.OtherHashValue,se.asn1.ASN1Object),se.asn1.cades.SignatureTimeStamp=function(e){var t=Error,n=se,r=n.lang.String.isHex,i=n.asn1,o=i.ASN1Object;i.x509;i.cades.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var e=this.params;if(null!=e.tst){if(r(e.tst))return(i=new o).hTLV=e.tst,[i];if(e.tst instanceof o)return[e.tst];throw new t("params.tst has wrong value")}if(null!=e.res){var n=e.res;if(n instanceof o&&(n=n.tohex()),"string"!=typeof n||!r(n))throw new t("params.res has wrong value");var i;le.getTLVbyList(n,0,[1]);return(i=new o).hTLV=e.tst,[i]}},null!=e&&this.setByParam(e)},et(se.asn1.cades.SignatureTimeStamp,se.asn1.cms.Attribute),se.asn1.cades.CompleteCertificateRefs=function(e){var t=Error,n=se,r=n.asn1,i=r.DERSequence,o=r.cades,s=o.OtherCertID,a=n.lang.String.isHex;o.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var e=this.params,n=[],r=0;r<e.array.length;r++){var o=e.array[r];if("string"==typeof o)if(-1!=o.indexOf("-----BEGIN"))o={cert:o};else{if(!a(o))throw new t("unsupported value: "+o);o={hash:o}}null!=e.alg&&null==o.alg&&(o.alg=e.alg),null!=e.hasis&&null==o.hasis&&(o.hasis=e.hasis);var u=new s(o);n.push(u)}return[new i({array:n})]},null!=e&&this.setByParam(e)},et(se.asn1.cades.CompleteCertificateRefs,se.asn1.cms.Attribute),se.asn1.cades.OtherCertID=function(e){var t=se.asn1,n=t.DERSequence,r=t.cms.IssuerSerial,i=t.cades,o=i.OtherHashValue,s=i.OtherHashAlgAndValue;i.OtherCertID.superclass.constructor.call(this),this.params=e,this.tohex=function(){var e=this.params;"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?e={cert:e}:_isHex(e)&&(e={hash:e}));var t=[],i=null;if(i=null!=e.alg?new s(e):new o(e),t.push(i),null!=e.cert&&1==e.hasis||null!=e.issuer&&null!=e.serial){var a=new r(e);t.push(a)}return new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.cades.OtherCertID,se.asn1.ASN1Object),se.asn1.cades.OtherHash=function(e){Error;var t=se,n=t.asn1,r=(n.cms,n.cades),i=r.OtherHashAlgAndValue,o=r.OtherHashValue,s=(t.crypto.Util.hashHex,t.lang.String.isHex);r.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?e={cert:e}:s(e)&&(e={hash:e}));return(null!=e.alg?new i(e):new o(e)).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.cades.OtherHash,se.asn1.ASN1Object),se.asn1.cades.CAdESUtil=new function(){},se.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(e){return(new se.asn1.cms.CMSParser).getCMSSignedData(e)},se.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(e,t,n){var r=le,i=r.getChildIdx,o=r.getTLV,s=r.getV,a=se.asn1,u=a.ASN1Object,l=a.cms,c=l.AttributeList,h=l.SignerInfo,p={},d=i(e,t);if(6!=d.length)throw"not supported items for SignerInfo (!=6)";var f=d.shift();p.version=o(e,f);var g=d.shift();p.si=o(e,g);var m=d.shift();p.digalg=o(e,m);var v=d.shift();p.sattrs=o(e,v);var y=d.shift();p.sigalg=o(e,y);var b=d.shift();p.sig=o(e,b),p.sigval=s(e,b);var $=null;return p.obj=new h,($=new u).hTLV=p.version,p.obj.dCMSVersion=$,($=new u).hTLV=p.si,p.obj.dSignerIdentifier=$,($=new u).hTLV=p.digalg,p.obj.dDigestAlgorithm=$,($=new u).hTLV=p.sattrs,p.obj.dSignedAttrs=$,($=new u).hTLV=p.sigalg,p.obj.dSigAlg=$,($=new u).hTLV=p.sig,p.obj.dSig=$,p.obj.dUnsignedAttrs=new c,p},void 0!==se.asn1.csr&&se.asn1.csr||(se.asn1.csr={}),se.asn1.csr.CertificationRequest=function(e){var t=se.asn1,n=t.DERBitString,r=t.DERSequence,i=t.csr,o=(t.x509,i.CertificationRequestInfo);i.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(e){this.params=e},this.sign=function(){var e=new o(this.params).tohex(),t=new se.crypto.Signature({alg:this.params.sigalg});t.init(this.params.sbjprvkey),t.updateHex(e);var n=t.sign();this.params.sighex=n},this.getPEM=function(){return Ce(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var e=this.params,t=new se.asn1.csr.CertificationRequestInfo(this.params),i=new se.asn1.x509.AlgorithmIdentifier({name:e.sigalg});if(null==e.sighex&&null!=e.sbjprvkey&&this.sign(),null==e.sighex)throw new Error("sighex or sbjprvkey parameter not defined");var o=new n({hex:"00"+e.sighex});return new r({array:[t,i,o]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},et(se.asn1.csr.CertificationRequest,se.asn1.ASN1Object),se.asn1.csr.CertificationRequestInfo=function(e){var t=se.asn1,n=(t.DERBitString,t.DERSequence),r=t.DERInteger,i=t.DERUTF8String,o=t.DERTaggedObject,s=t.ASN1Util.newObject,a=t.csr,u=t.x509,l=u.X500Name,c=u.Extensions,h=u.SubjectPublicKeyInfo;a.AttributeList;a.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(e){null!=e&&(this.params=e)},this.tohex=function(){var e=this.params,t=[];if(t.push(new r({int:0})),t.push(new l(e.subject)),t.push(new h(tt.getKey(e.sbjpubkey))),null!=e.attrs){var a=function(e){for(var t=Error,n=se.asn1.x509.Extensions,r=[],i=0;i<e.length;i++){var o=e[i],s=o.attr;if("extensionRequest"==s){var a={seq:[{oid:"1.2.840.113549.1.9.14"},{set:[new n(o.ext)]}]};r.push(a)}else if("unstructuredName"==s){a={seq:[{oid:"1.2.840.113549.1.9.2"},{set:o.names}]};r.push(a)}else{if("challengePassword"!=s)throw new t("unknown CSR attribute");a={seq:[{oid:"1.2.840.113549.1.9.7"},{set:[{utf8str:o.password}]}]};r.push(a)}}return{set:r}}(e.attrs),u=s({tag:{tage:"a0",obj:a}});t.push(u)}else if(null!=e.extreq){var p=new c(e.extreq);u=s({tag:{tage:"a0",obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[p]}]}}});t.push(u)}else t.push(new o({tag:"a0",explicit:!1,obj:new i({str:""})}));return new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},et(se.asn1.csr.CertificationRequestInfo,se.asn1.ASN1Object),se.asn1.csr.AttributeList=function(e){},et(se.asn1.csr.AttributeList,se.asn1.ASN1Object),se.asn1.csr.CSRUtil=new function(){},se.asn1.csr.CSRUtil.newCSRPEM=function(e){return new se.asn1.csr.CertificationRequest(e).getPEM()},se.asn1.csr.CSRUtil.getParam=function(e,t){var n=le,r=n.getV,i=n.getIdxbyList,o=n.getTLVbyList,s=n.getTLVbyListEx,a=n.getVbyListEx,u={};if(-1==e.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw new Error("argument is not PEM file");var l=Fe(e,"CERTIFICATE REQUEST");t&&(u.tbs=o(l,0,[0]));try{var c=s(l,0,[0,1]);if("3000"==c)u.subject={};else{var h=new ot;u.subject=h.getX500Name(c)}}catch(e){}var p=s(l,0,[0,2]),d=tt.getKey(p,null,"pkcs8pub");u.sbjpubkey=tt.getPEM(d,"PKCS8PUB");var f=function(e){var t=i(e,0,[0,3,0,0],"06");return"2a864886f70d01090e"!=r(e,t)?null:o(e,0,[0,3,0,1,0],"30")}(l);h=new ot;null!=f&&(u.extreq=h.getExtParamArray(f));try{var g=s(l,0,[1],"30");h=new ot;u.sigalg=h.getAlgorithmIdentifierName(g)}catch(e){}try{var m=a(l,0,[2]);u.sighex=m}catch(e){}return u},se.asn1.csr.CSRUtil.verifySignature=function(e){try{var t=null;if("string"==typeof e&&-1!=e.indexOf("-----BEGIN CERTIFICATE REQUEST")?t=se.asn1.csr.CSRUtil.getParam(e,!0):"object"==typeof e&&null!=e.sbjpubkey&&null!=e.sigalg&&null!=e.sighex&&null!=e.tbs&&(t=e),null==t)return!1;var n=new se.crypto.Signature({alg:t.sigalg});return n.init(t.sbjpubkey),n.updateHex(t.tbs),n.verify(t.sighex)}catch(e){return alert(e),!1}},void 0!==se&&se||(se={}),void 0!==se.asn1&&se.asn1||(se.asn1={}),void 0!==se.asn1.ocsp&&se.asn1.ocsp||(se.asn1.ocsp={}),se.asn1.ocsp.DEFAULT_HASH="sha1",se.asn1.ocsp.OCSPResponse=function(e){se.asn1.ocsp.OCSPResponse.superclass.constructor.call(this);se.asn1.DEREnumerated;var t=se.asn1.ASN1Util.newObject,n=se.asn1.ocsp.ResponseBytes,r=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var e=this.params.resstatus;return"number"==typeof e?e:"string"!=typeof e?-1:r.indexOf(e)},this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params,r=this._getStatusCode();if(-1==r)throw new Error("responseStatus not supported: "+e.resstatus);if(0!=r)return t({seq:[{enum:{int:r}}]}).tohex();var i=new n(e);return t({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:i}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},et(se.asn1.ocsp.OCSPResponse,se.asn1.ASN1Object),se.asn1.ocsp.ResponseBytes=function(e){se.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var t=se.asn1,n=t.DERSequence,r=t.DERObjectIdentifier,i=t.DEROctetString,o=t.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params;if("ocspBasic"!=e.restype)throw new Error("not supported responseType: "+e.restype);var t=new o(e),s=[];return s.push(new r({name:"ocspBasic"})),s.push(new i({hex:t.tohex()})),new n({array:s}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},et(se.asn1.ocsp.ResponseBytes,se.asn1.ASN1Object),se.asn1.ocsp.BasicOCSPResponse=function(e){se.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var t=Error,n=se.asn1,r=n.ASN1Object,i=n.DERSequence,o=(n.DERGeneralizedTime,n.DERTaggedObject),s=n.DERBitString,a=(n.x509.Extensions,n.x509.AlgorithmIdentifier),u=n.ocsp;u.ResponderID;_SingleResponseList=u.SingleResponseList,_ResponseData=u.ResponseData,this.params=null,this.setByParam=function(e){this.params=e},this.sign=function(){var e=this.params,t=e.tbsresp.tohex(),n=new se.crypto.Signature({alg:e.sigalg});n.init(e.reskey),n.updateHex(t),e.sighex=n.sign()},this.tohex=function(){var e=this.params;null==e.tbsresp&&(e.tbsresp=new _ResponseData(e)),null==e.sighex&&null!=e.reskey&&this.sign();var n=[];if(n.push(e.tbsresp),n.push(new a({name:e.sigalg})),n.push(new s({hex:"00"+e.sighex})),null!=e.certs&&null!=e.certs.length){for(var u=[],l=0;l<e.certs.length;l++){var c=e.certs[l],h=null;if(le.isASN1HEX(c))h=c;else{if(!c.match(/-----BEGIN/))throw new t("certs["+l+"] not hex or PEM");h=Fe(c)}u.push(new r({tlv:h}))}var p=new i({array:u});n.push(new o({tag:"a0",explicit:!0,obj:p}))}return new i({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},et(se.asn1.ocsp.BasicOCSPResponse,se.asn1.ASN1Object),se.asn1.ocsp.ResponseData=function(e){se.asn1.ocsp.ResponseData.superclass.constructor.call(this);var t=Error,n=se.asn1,r=n.DERSequence,i=n.DERGeneralizedTime,o=n.DERTaggedObject,s=n.x509.Extensions,a=n.ocsp,u=a.ResponderID;_SingleResponseList=a.SingleResponseList,this.params=null,this.tohex=function(){var e=this.params;null!=e.respid&&new t("respid not specified"),null!=e.prodat&&new t("prodat not specified"),null!=e.array&&new t("array not specified");var n=[];if(n.push(new u(e.respid)),n.push(new i(e.prodat)),n.push(new _SingleResponseList(e.array)),null!=e.ext){var a=new s(e.ext);n.push(new o({tag:"a1",explicit:!0,obj:a}))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},et(se.asn1.ocsp.ResponseData,se.asn1.ASN1Object),se.asn1.ocsp.ResponderID=function(e){se.asn1.ocsp.ResponderID.superclass.constructor.call(this);var t=se,n=t.asn1,r=n.ASN1Util.newObject,i=n.x509.X500Name,o=t.lang.String.isHex,s=Error;this.params=null,this.tohex=function(){var e=this.params;if(null!=e.key){var t,n=null;if("string"==typeof e.key){if(o(e.key)&&(n=e.key),e.key.match(/-----BEGIN CERTIFICATE/))null!=(t=new ot(e.key).getExtSubjectKeyIdentifier())&&(n=t.kid.hex)}else if(e.key instanceof ot)null!=(t=e.key.getExtSubjectKeyIdentifier())&&(n=t.kid.hex);if(null==n)throw new s("wrong key member value");return r({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:n}}}}).tohex()}if(null!=e.name){var a=null;if("string"==typeof e.name&&e.name.match(/-----BEGIN CERTIFICATE/))a=new ot(e.name).getSubject();else e.name instanceof ot?a=e.name.getSubject():"object"!=typeof e.name||null==e.name.array&&null==e.name.str||(a=e.name);if(null==a)throw new s("wrong name member value");return r({tag:{tag:"a1",explicit:!0,obj:new i(a)}}).tohex()}throw new s("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},et(se.asn1.ocsp.ResponderID,se.asn1.ASN1Object),se.asn1.ocsp.SingleResponseList=function(e){se.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var t=se.asn1,n=t.DERSequence,r=t.ocsp.SingleResponse;this.params=null,this.tohex=function(){var e=this.params;if("object"!=typeof e||null==e.length)throw new Error("params not specified properly");for(var t=[],i=0;i<e.length;i++)t.push(new r(e[i]));return new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},et(se.asn1.ocsp.SingleResponseList,se.asn1.ASN1Object),se.asn1.ocsp.SingleResponse=function(e){var t=Error,n=se.asn1,r=n.DERSequence,i=n.DERGeneralizedTime,o=n.DERTaggedObject,s=n.ocsp,a=s.CertID,u=s.CertStatus,l=n.x509.Extensions;s.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,n=[];if(null==e.certid)throw new t("certid unspecified");if(null==e.status)throw new t("status unspecified");if(null==e.thisupdate)throw new t("thisupdate unspecified");if(n.push(new a(e.certid)),n.push(new u(e.status)),n.push(new i(e.thisupdate)),null!=e.nextupdate){var s=new i(e.nextupdate);n.push(new o({tag:"a0",explicit:!0,obj:s}))}if(null!=e.ext){var c=new l(e.ext);n.push(new o({tag:"a1",explicit:!0,obj:c}))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},et(se.asn1.ocsp.SingleResponse,se.asn1.ASN1Object),se.asn1.ocsp.CertID=function(e){var t=se,n=t.asn1,r=n.DEROctetString,i=n.DERInteger,o=n.DERSequence,s=n.x509.AlgorithmIdentifier,a=n.ocsp,u=(a.DEFAULT_HASH,t.crypto.Util.hashHex),l=ot,c=le.getVbyList;a.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(e,t,n,r){null==r&&(r=this.DEFAULT_HASH),this.params={alg:r,issname:e,isskey:t,sbjsn:n}},this.setByCert=function(e,t,n){null==n&&(n=this.DEFAULT_HASH),this.params={alg:n,issuerCert:e,subjectCert:t}},this.getParamByCerts=function(e,t,n){null==n&&(n=this.DEFAULT_HASH);var r=new l(e),i=new l(t),o=u(r.getSubjectHex(),n),s=r.getPublicKeyHex();return{alg:n,issname:o,isskey:u(c(s,0,[1],"03",!0),n),sbjsn:i.getSerialNumberHex()}},this.tohex=function(){if("object"!=typeof this.params)throw new Error("params not set");var e,t,n,a,u=this.params;if(a=null==u.alg?this.DEFAULT_HASH:u.alg,null!=u.issuerCert&&null!=u.subjectCert){var l=this.getParamByCerts(u.issuerCert,u.subjectCert,a);e=l.issname,t=l.isskey,n=l.sbjsn}else{if(null==u.issname||null==u.isskey||null==u.sbjsn)throw new Error("required param members not defined");e=u.issname,t=u.isskey,n=u.sbjsn}var c=new s({name:a}),h=new r({hex:e}),p=new r({hex:t}),d=new i({hex:n}),f=new o({array:[c,h,p,d]});return this.hTLV=f.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},et(se.asn1.ocsp.CertID,se.asn1.ASN1Object),se.asn1.ocsp.CertStatus=function(e){se.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if("good"==e.status)return"8000";if("unknown"==e.status)return"8200";if("revoked"==e.status){var t=[{gentime:{str:e.time}}];null!=e.reason&&t.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:e.reason}}}});var n={tag:"a1",explicit:!1,obj:{seq:t}};return se.asn1.ASN1Util.newObject({tag:n}).tohex()}throw new Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},et(se.asn1.ocsp.CertStatus,se.asn1.ASN1Object),se.asn1.ocsp.Request=function(e){var t=se.asn1,n=t.DERSequence,r=t.ocsp;if(r.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var e=[];if(null===this.dReqCert)throw"reqCert not set";e.push(this.dReqCert);var t=new n({array:e});return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e){var i=new r.CertID(e);this.dReqCert=i}},et(se.asn1.ocsp.Request,se.asn1.ASN1Object),se.asn1.ocsp.TBSRequest=function(e){var t=se.asn1,n=t.DERSequence,r=t.ocsp;r.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(e){for(var t=[],n=0;n<e.length;n++){var i=new r.Request(e[0]);t.push(i)}this.dRequestList=t},this.tohex=function(){var e=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var t=new n({array:this.dRequestList});if(e.push(t),null!==this.dRequestExt)throw"requestExtensions not supported";var r=new n({array:e});return this.hTLV=r.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&void 0!==e.reqList&&this.setRequestListByParam(e.reqList)},et(se.asn1.ocsp.TBSRequest,se.asn1.ASN1Object),se.asn1.ocsp.OCSPRequest=function(e){var t=se.asn1,n=t.DERSequence,r=t.ocsp;if(r.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var e=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(e.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var t=new n({array:e});return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&void 0!==e.reqList){var i=new r.TBSRequest(e);this.dTbsRequest=i}},et(se.asn1.ocsp.OCSPRequest,se.asn1.ASN1Object),se.asn1.ocsp.OCSPUtil={},se.asn1.ocsp.OCSPUtil.getRequestHex=function(e,t,n){var r=se.asn1.ocsp;void 0===n&&(n=r.DEFAULT_HASH);var i={alg:n,issuerCert:e,subjectCert:t};return new r.OCSPRequest({reqList:[i]}).tohex()},se.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(e){var t=le,n=t.getVbyList,r=t.getVbyListEx,i=t.getIdxbyList,o=(t.getIdxbyListEx,t.getV),s={};try{var a=r(e,0,[0],"0a");s.responseStatus=parseInt(a,16)}catch(e){}if(0!==s.responseStatus)return s;try{var u=i(e,0,[1,0,1,0,0,2,0,1]);"80"===e.substr(u,2)?s.certStatus="good":"a1"===e.substr(u,2)?(s.certStatus="revoked",s.revocationTime=be(n(e,u,[0]))):"82"===e.substr(u,2)&&(s.certStatus="unknown")}catch(e){}try{var l=i(e,0,[1,0,1,0,0,2,0,2]);s.thisUpdate=be(o(e,l))}catch(e){}try{var c=i(e,0,[1,0,1,0,0,2,0,3]);"a0"===e.substr(c,2)&&(s.nextUpdate=be(n(e,c,[0])))}catch(e){}return s},se.asn1.ocsp.OCSPParser=function(){var e=Error,t=ot,n=new t,r=le,i=r.getV,o=r.getTLV,s=r.getIdxbyList,a=r.getVbyList,u=r.getTLVbyList,l=r.getVbyListEx,c=r.getTLVbyListEx,h=r.getChildIdx;this.getOCSPRequest=function(t){var n=h(t,0);if(1!=n.length&&2!=n.length)throw new e("wrong number elements: "+n.length);return this.getTBSRequest(o(t,n[0]))},this.getTBSRequest=function(e){var t={},r=c(e,0,[0],"30");t.array=this.getRequestList(r);var i=c(e,0,["[2]",0],"30");return null!=i&&(t.ext=n.getExtParamArray(i)),t},this.getRequestList=function(e){for(var t=[],n=h(e,0),r=0;r<n.length;r++){e=o(e,n[r]);t.push(this.getRequest(e))}return t},this.getRequest=function(t){var r=h(t,0);if(1!=r.length&&2!=r.length)throw new e("wrong number elements: "+r.length);var i=this.getCertID(o(t,r[0]));if(2==r.length){var a=s(t,0,[1,0]);i.ext=n.getExtParamArray(o(t,a))}return i},this.getCertID=function(n){var r=h(n,0);if(4!=r.length)throw new e("wrong number elements: "+r.length);var s=new t,a={};return a.alg=s.getAlgorithmIdentifierName(o(n,r[0])),a.issname=i(n,r[1]),a.isskey=i(n,r[2]),a.sbjsn=i(n,r[3]),a},this.getOCSPResponse=function(e){var t,n=h(e,0),r=i(e,n[0]),o=parseInt(r);if(1==n.length)return{resstatus:o};var s=u(e,0,[1,0]);return(t=this.getResponseBytes(s)).resstatus=o,t},this.getResponseBytes=function(e){var t,n=h(e,0),r=u(e,0,[1,0]);t=this.getBasicOCSPResponse(r);var o=i(e,n[0]);return t.restype=se.asn1.x509.OID.oid2name(ze(o)),t},this.getBasicOCSPResponse=function(e){var t,n=h(e,0);t=this.getResponseData(o(e,n[0]));var r=new ot;t.alg=r.getAlgorithmIdentifierName(o(e,n[1]));var s=i(e,n[2]);t.sighex=s.substr(2);var a=l(e,0,["[0]"]);if(null!=a){for(var u=h(a,0),c=[],p=0;p<u.length;p++){var d=o(a,u[p]);c.push(d)}t.certs=c}return t},this.getResponseData=function(e){var t=h(e,0),n=t.length,r={},s=0;"a0"==e.substr(t[0],2)&&s++,r.respid=this.getResponderID(o(e,t[s++]));var a=i(e,t[s++]);if(r.prodat=be(a),r.array=this.getSingleResponseList(o(e,t[s++])),"a1"==e.substr(t[n-1],2)){var l=u(e,t[n-1],[0]),c=new ot;r.ext=c.getExtParamArray(l)}return r},this.getResponderID=function(e){var t={};if("a2"==e.substr(0,2)){var n=a(e,0,[0]);t.key=n}if("a1"==e.substr(0,2)){var r=u(e,0,[0]),i=new ot;t.name=i.getX500Name(r)}return t},this.getSingleResponseList=function(e){for(var t=h(e,0),n=[],r=0;r<t.length;r++){var i=this.getSingleResponse(o(e,t[r]));n.push(i)}return n},this.getSingleResponse=function(e){var t=h(e,0),n={},r=this.getCertID(o(e,t[0]));n.certid=r;var s=this.getCertStatus(o(e,t[1]));if(n.status=s,"18"==e.substr(t[2],2)){var l=i(e,t[2]);n.thisupdate=be(l)}for(var c=3;c<t.length;c++){if("a0"==e.substr(t[c],2)){var p=a(e,t[c],[0],"18");n.nextupdate=be(p)}if("a1"==e.substr(t[c],2)){var d=new ot,f=u(e,0,[c,0]);n.ext=d.getExtParamArray(f)}}return n},this.getCertStatus=function(e){var t={};if("8000"==e)return{status:"good"};if("8200"==e)return{status:"unknown"};if("a1"==e.substr(0,2)){t.status="revoked";var n=be(a(e,0,[0]));t.time=n}return t}},void 0!==se&&se||(se={}),void 0!==se.lang&&se.lang||(se.lang={}),se.lang.String=function(){},"function"==typeof e?(ae=function(t){return fe(e.from(t,"utf8").toString("base64"))},ue=function(t){return e.from(ge(t),"base64").toString("utf8")}):(ae=function(e){return me(ke(Be(e)))},ue=function(e){return decodeURIComponent(Ie(ve(e)))}),se.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},se.lang.String.isHex=function(e){return He(e)},se.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},se.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=ge(e),se.lang.String.isBase64(e))},se.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},se.lang.String.isPrintable=function(e){return null!==e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},se.lang.String.isIA5=function(e){return null!==e.match(/^[\x20-\x21\x23-\x7f]*$/)},se.lang.String.isMail=function(e){return null!==e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};function qe(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=parseInt(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",s=0;s<i;s++)o+="0";r=o+r;for(s=0;s<r.length-1;s+=7){var a=r.substr(s,7);s!=r.length-7&&(a="1"+a),n+=t(parseInt(a,2))}return n};try{if(!e.match(/^[0-9.]+$/))return null;var r="",i=e.split("."),o=40*parseInt(i[0],10)+parseInt(i[1],10);r+=t(o),i.splice(0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);return r}catch(e){return null}}function ze(e){if(!He(e))return null;try{var t=[],n=e.substr(0,2),r=parseInt(n,16);t[0]=new String(Math.floor(r/40)),t[1]=new String(r%40);for(var i=e.substr(2),o=[],s=0;s<i.length/2;s++)o.push(parseInt(i.substr(2*s,2),16));var a=[],u="";for(s=0;s<o.length;s++)128&o[s]?u+=We((127&o[s]).toString(2),7):(u+=We((127&o[s]).toString(2),7),a.push(new String(parseInt(u,2))),u="");var l=t.join(".");return a.length>0&&(l=l+"."+a.join(".")),l}catch(e){return null}}function Ke(e){return Ge(new w(String(e),10))}function Ge(e){var t=e.toString(16);if("-"!=t.substr(0,1))return t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t),t;var n=t.substr(1).length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";return t=new w(r,16).xor(e).add(w.ONE).toString(16).replace(/^-/,"")}var We=function(e,t,n){return null==n&&(n="0"),e.length>=t?e:new Array(t-e.length+1).join(n)+e};function Ye(e){if(e.length%2!=0)return-1;if(null==(e=e.toLowerCase()).match(/^[0-9a-f]+$/))return-1;try{var t=e.substr(0,2);if("00"==t)return parseInt(e.substr(2),16);var n=parseInt(t,16);if(n>7)return-1;var r=e.substr(2),i=parseInt(r,16).toString(2);"0"==i&&(i="00000000"),i=i.slice(0,0-n);var o=parseInt(i,2);return NaN==o?-1:o}catch(e){return-1}}function Xe(e){if("number"!=typeof e)return null;if(e<0)return null;var t=Number(e).toString(2),n=8-t.length%8;8==n&&(n=0),t+=We("",n,"0");var r=parseInt(t,2).toString(16);return r.length%2==1&&(r="0"+r),"0"+n+r}function Je(e){if("string"!=typeof e)return null;if(e.length%2!=0)return null;if(!e.match(/^[0-9a-f]+$/))return null;try{var t=parseInt(e.substr(0,2),16);if(t<0||7<t)return null;for(var n=e.substr(2),r="",i=0;i<n.length;i+=2){var o=n.substr(i,2),s=parseInt(o,16).toString(2);r+=s=("0000000"+s).slice(-8)}return r.substr(0,r.length-t)}catch(e){return null}}function Qe(e,t){for(var n=0,r=0;r<e.length;r++)n|=1<<t[e[r]];var i=n.toString(2),o="";for(r=i.length-1;r>=0;r--)o+=i[r];return o}function Ze(e,t,n){if("object"==typeof e){t=String(t).split(".");for(var r=0;r<t.length&&e;r++){var i=t[r];i.match(/^[0-9]+$/)&&(i=parseInt(i)),e=e[i]}return e||!1===e?e:n}}function et(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t)}void 0!==se&&se||(se={}),void 0!==se.crypto&&se.crypto||(se.crypto={}),se.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:g.algo.MD5,sha1:g.algo.SHA1,sha224:g.algo.SHA224,sha256:g.algo.SHA256,sha384:g.algo.SHA384,sha512:g.algo.SHA512,ripemd160:g.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,n){var r=this.getDigestInfoHex(e,t),i=n/4;if(r.length+22>i)throw"key is too short for SigAlg: keylen="+n+","+t;for(var o="0001",s="00"+r,a="",u=i-o.length-s.length,l=0;l<u;l+=2)a+="ff";return o+a+s},this.hashString=function(e,t){return new se.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new se.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof te||e instanceof se.crypto.DSA||e instanceof se.crypto.ECDSA}},se.crypto.Util.md5=function(e){return new se.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},se.crypto.Util.ripemd160=function(e){return new se.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},se.crypto.Util.SECURERANDOMGEN=new Z,se.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return se.crypto.Util.SECURERANDOMGEN.nextBytes(t),pe(t)},se.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new w(se.crypto.Util.getRandomHexOfNbytes(e),16)},se.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,n=new Array((e-t)/8+1);return se.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<t&255^255)&n[0],pe(n)},se.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new w(se.crypto.Util.getRandomHexOfNbits(e),16)},se.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var n=se.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(n))return n}},se.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var n=e.compareTo(t);if(1==n)throw"biMin is greater than biMax";if(0==n)return e;var r=t.subtract(e);return se.crypto.Util.getRandomBigIntegerZeroToMax(r).add(e)},se.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=se.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=se.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=se.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=g.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(g.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=se.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},se.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},se.crypto.MessageDigest.getHashLength=function(e){var t=se.crypto.MessageDigest,n=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[n])throw"not supported algorithm: "+e;return t.HASHLENGTH[n]},se.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},se.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=se.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var n=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==t){try{var r=se.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];this.mac=g.algo.HMAC.create(r,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=g.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(g.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=xe(e)),void(this.pass=g.enc.Hex.parse(t))}if("object"!=typeof e)throw"KJUR.crypto.Mac unsupported password type: "+e;t=null;if(void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=ye(e.utf8)),void 0!==e.rstr&&(t=xe(e.rstr)),void 0!==e.b64&&(t=b(e.b64)),void 0!==e.b64u&&(t=ve(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=g.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=se.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},se.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new se.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e)}this.init=function(e,t){var n=null;try{n=void 0===t?tt.getKey(e):tt.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==se.crypto.ECDSA&&(this.prvKey=new se.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof te&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof te&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof se.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof se.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==se.crypto.ECDSA&&(this.pubKey=new se.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof te&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof te&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==se.crypto.ECDSA&&this.pubKey instanceof se.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==se.crypto.DSA&&this.pubKey instanceof se.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=se.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=tt.getKey(e.prvkeypem);this.init(t)}catch(e){throw"fatal error to load pem private key: "+e}}},se.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==se&&se||(se={}),void 0!==se.crypto&&se.crypto||(se.crypto={}),se.crypto.ECDSA=function(e){var t=Error,n=w,r=re,i=se.crypto.ECDSA,o=se.crypto.ECParameterDB,s=i.getName,a=le,u=a.getVbyListEx,l=a.isASN1HEX,c=new Z;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new n(e.bitLength(),c).mod(e.subtract(n.ONE)).add(n.ONE)},this.setNamedCurve=function(e){this.ecparams=o.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keycharlen;if(e.length!==2+2*t)throw"malformed public key hex length";var n={};return n.x=e.substr(2,t),n.y=e.substr(2+t),n},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":"secp521r1"===e||"NIST P-521"===e||"P-521"===e?"P-521":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),n=this.ecparams.keycharlen,r=("0000000000"+t.toString(16)).slice(-n);return this.setPrivateKeyHex(r),{ecprvhex:r,ecpubhex:this.generatePublicKeyHex()}},this.generatePublicKeyHex=function(){var e=new n(this.prvKeyHex,16),t=this.ecparams.G.multiply(e),r=t.getX().toBigInteger(),i=t.getY().toBigInteger(),o=this.ecparams.keycharlen,s="04"+("0000000000"+r.toString(16)).slice(-o)+("0000000000"+i.toString(16)).slice(-o);return this.setPublicKeyHex(s),s},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var r=new n(t,16),o=this.ecparams.n,s=new n(e.substring(0,this.ecparams.keycharlen),16);do{var a=this.getBigRandom(o),u=this.ecparams.G.multiply(a).getX().toBigInteger().mod(o)}while(u.compareTo(n.ZERO)<=0);var l=a.modInverse(o).multiply(s.add(r.multiply(u))).mod(o);return i.biRSSigToASN1Sig(u,l)},this.sign=function(e,t){var r=t,i=this.ecparams.n,o=n.fromByteArrayUnsigned(e);do{var s=this.getBigRandom(i),a=this.ecparams.G.multiply(s).getX().toBigInteger().mod(i)}while(a.compareTo(w.ZERO)<=0);var u=s.modInverse(i).multiply(o.add(r.multiply(a))).mod(i);return this.serializeSig(a,u)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,o){try{var s,a,u=i.parseSigHex(t);s=u.r,a=u.s;var l=r.decodeFromHex(this.ecparams.curve,o),c=new n(e.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(c,s,a,l)}catch(e){return!1}},this.verify=function(e,t,i){var o,s,a;if(Bitcoin.Util.isArray(t)){var u=this.parseSig(t);o=u.r,s=u.s}else{if("object"!=typeof t||!t.r||!t.s)throw"Invalid value for signature";o=t.r,s=t.s}if(i instanceof re)a=i;else{if(!Bitcoin.Util.isArray(i))throw"Invalid format for pubkey value, must be byte array or ECPointFp";a=r.decodeFrom(this.ecparams.curve,i)}var l=n.fromByteArrayUnsigned(e);return this.verifyRaw(l,o,s,a)},this.verifyRaw=function(e,t,r,i){var o=this.ecparams.n,s=this.ecparams.G;if(t.compareTo(n.ONE)<0||t.compareTo(o)>=0)return!1;if(r.compareTo(n.ONE)<0||r.compareTo(o)>=0)return!1;var a=r.modInverse(o),u=e.multiply(a).mod(o),l=t.multiply(a).mod(o);return s.multiply(u).add(i.multiply(l)).getX().toBigInteger().mod(o).equals(t)},this.serializeSig=function(e,t){var n=e.toByteArraySigned(),r=t.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),(i=i.concat(n)).push(2),i.push(r.length),(i=i.concat(r)).unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var i=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:n.fromByteArrayUnsigned(r),s:n.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var r=this.ecparams.n;return{r:n.fromByteArrayUnsigned(e.slice(1,33)).mod(r),s:n.fromByteArrayUnsigned(e.slice(33,65)).mod(r),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===l(e))throw new Error("not ASN.1 hex string");var t,n,r;try{t=u(e,0,["[0]",0],"06"),n=u(e,0,[1],"04");try{r=u(e,0,["[1]",0],"03")}catch(e){}}catch(e){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=s(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===l(e))throw new t("not ASN.1 hex string");var n,r,i;try{u(e,0,[1,0],"06"),n=u(e,0,[1,1],"06"),r=u(e,0,[2,0,1],"04");try{i=u(e,0,[2,0,"[1]",0],"03")}catch(e){}}catch(e){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=s(n),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===l(e))throw new t("not ASN.1 hex string");var n,r;try{u(e,0,[0,0],"06"),n=u(e,0,[0,1],"06"),r=u(e,0,[1],"03")}catch(e){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=s(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},this.readCertPubKeyHex=function(e,n){if(!1===l(e))throw new t("not ASN.1 hex string");var r,i;try{r=u(e,0,[0,5,0,1],"06"),i=u(e,0,[0,5,1],"03")}catch(e){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=s(r),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},se.crypto.ECDSA.parseSigHex=function(e){var t=se.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new w(t.r,16),s:new w(t.s,16)}},se.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=le,n=t.getChildIdx,r=t.getV;if(t.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=n(e,0);if(2!=i.length)throw new Error("signature shall have two elements");var o=i[0],s=i[1];if("02"!=e.substr(o,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(s,2))throw new Error("2nd item not ASN.1 integer");return{r:r(e,o),s:r(e,s)}},se.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=se.crypto.ECDSA.parseSigHexInHexRS(e),n=t.r,r=t.s;if(n.length>=130&&n.length<=134){if(n.length%2!=0)throw Error("unknown ECDSA sig r length error");if(r.length%2!=0)throw Error("unknown ECDSA sig s length error");"00"==n.substr(0,2)&&(n=n.substr(2)),"00"==r.substr(0,2)&&(r=r.substr(2));var i=Math.max(n.length,r.length);return(n=("000000"+n).slice(-i))+(r=("000000"+r).slice(-i))}if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),n.length%32==30&&(n="00"+n),r.length%32==30&&(r="00"+r),n.length%32!=0)throw Error("unknown ECDSA sig r length error");if(r.length%32!=0)throw Error("unknown ECDSA sig s length error");return n+r},se.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var t=e.substr(0,e.length/2),n=e.substr(e.length/2);return se.crypto.ECDSA.hexRSSigToASN1Sig(t,n)},se.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var n=new w(e,16),r=new w(t,16);return se.crypto.ECDSA.biRSSigToASN1Sig(n,r)},se.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var n=se.asn1,r=new n.DERInteger({bigint:e}),i=new n.DERInteger({bigint:t});return new n.DERSequence({array:[r,i]}).tohex()},se.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":"2b81040023"===e?"secp521r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":-1!=="|secp521r1|NIST P-521|P-521|".indexOf(e)?"secp521r1":null},void 0!==se&&se||(se={}),void 0!==se.crypto&&se.crypto||(se.crypto={}),se.crypto.ECParameterDB=new function(){var e={},t={};function n(e){return new w(e,16)}this.getByName=function(n){var r=n;if(void 0!==t[r]&&(r=t[n]),void 0!==e[r])return e[r];throw"unregistered EC curve name: "+r},this.regist=function(r,i,o,s,a,u,l,c,h,p,d,f){e[r]={};var g=n(o),m=n(s),v=n(a),y=n(u),b=n(l),$=new ie(g,m,v),w=$.decodePointHex("04"+c+h);e[r].name=r,e[r].keylen=i,e[r].keycharlen=2*Math.ceil(i/8),e[r].curve=$,e[r].G=w,e[r].n=y,e[r].h=b,e[r].oid=d,e[r].info=f;for(var x=0;x<p.length;x++)t[p[x]]=r}},se.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),se.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),se.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),se.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),se.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),se.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),se.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),se.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),se.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),se.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==se&&se||(se={}),void 0!==se.crypto&&se.crypto||(se.crypto={}),se.crypto.DSA=function(){var e=le,t=(e.getVbyList,e.getVbyListEx),n=e.isASN1HEX,r=w;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(e,t,n,r,i){this.isPrivate=!0,this.p=e,this.q=t,this.g=n,this.y=r,this.x=i},this.setPrivateHex=function(e,t,n,r,i){var o,s,a,u,l;o=new w(e,16),s=new w(t,16),a=new w(n,16),u="string"==typeof r&&r.length>1?new w(r,16):null,l=new w(i,16),this.setPrivate(o,s,a,u,l)},this.setPublic=function(e,t,n,r){this.isPublic=!0,this.p=e,this.q=t,this.g=n,this.y=r,this.x=null},this.setPublicHex=function(e,t,n,r){var i,o,s,a;i=new w(e,16),o=new w(t,16),s=new w(n,16),a=new w(r,16),this.setPublic(i,o,s,a)},this.signWithMessageHash=function(e){var t=this.p,n=this.q,r=this.g,i=(this.y,this.x),o=se.crypto.Util.getRandomBigIntegerMinToMax(w.ONE.add(w.ONE),n.subtract(w.ONE)),s=new w(e.substr(0,n.bitLength()/4),16),a=r.modPow(o,t).mod(n),u=o.modInverse(n).multiply(s.add(i.multiply(a))).mod(n);return se.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:a}},{int:{bigint:u}}]})},this.verifyWithMessageHash=function(e,t){var n=this.p,r=this.q,i=this.g,o=this.y,s=this.parseASN1Signature(t),a=s[0],u=s[1],l=new w(e.substr(0,r.bitLength()/4),16);if(w.ZERO.compareTo(a)>0||a.compareTo(r)>0)throw"invalid DSA signature";if(w.ZERO.compareTo(u)>=0||u.compareTo(r)>0)throw"invalid DSA signature";var c=u.modInverse(r),h=l.multiply(c).mod(r),p=a.multiply(c).mod(r);return 0==i.modPow(h,n).multiply(o.modPow(p,n)).mod(n).mod(r).compareTo(a)},this.parseASN1Signature=function(e){try{return[new r(t(e,0,[0],"02"),16),new r(t(e,0,[1],"02"),16)]}catch(e){throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(e){var r,i,o,s,a;if(!1===n(e))throw new Error("not ASN.1 hex string");try{r=t(e,0,[1],"02"),i=t(e,0,[2],"02"),o=t(e,0,[3],"02"),s=t(e,0,[4],"02"),a=t(e,0,[5],"02")}catch(e){throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(r,i,o,s,a)},this.readPKCS8PrvKeyHex=function(e){var r,i,o,s;if(!1===n(e))throw new Error("not ASN.1 hex string");try{r=t(e,0,[1,1,0],"02"),i=t(e,0,[1,1,1],"02"),o=t(e,0,[1,1,2],"02"),s=t(e,0,[2,0],"02")}catch(e){throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(r,i,o,null,s)},this.readPKCS8PubKeyHex=function(e){var r,i,o,s;if(!1===n(e))throw new Error("not ASN.1 hex string");try{r=t(e,0,[0,1,0],"02"),i=t(e,0,[0,1,1],"02"),o=t(e,0,[0,1,2],"02"),s=t(e,0,[1,0],"02")}catch(e){throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(r,i,o,s)},this.readCertPubKeyHex=function(e,r){var i,o,s,a;if(!1===n(e))throw new Error("not ASN.1 hex string");try{i=t(e,0,[0,5,0,1,0],"02"),o=t(e,0,[0,5,0,1,1],"02"),s=t(e,0,[0,5,0,1,2],"02"),a=t(e,0,[0,5,1,0],"02")}catch(e){throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(i,o,s,a)}};var tt=function(){var e=function(e,n,r){return t(g.AES,e,n,r)},t=function(e,t,n,r){var i=g.enc.Hex.parse(t),o=g.enc.Hex.parse(n),s=g.enc.Hex.parse(r),a={};a.key=o,a.iv=s,a.ciphertext=i;var u=e.decrypt(a,o,{iv:s});return g.enc.Hex.stringify(u)},n=function(e,t,n){return r(g.AES,e,t,n)},r=function(e,t,n,r){var i=g.enc.Hex.parse(t),o=g.enc.Hex.parse(n),s=g.enc.Hex.parse(r),a=e.encrypt(i,o,{iv:s}),u=g.enc.Hex.parse(a.toString());return g.enc.Base64.stringify(u)},i={"AES-256-CBC":{proc:e,eproc:n,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:n,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:n,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,n,r){return t(g.TripleDES,e,n,r)},eproc:function(e,t,n){return r(g.TripleDES,e,t,n)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,n,r){return t(g.DES,e,n,r)},eproc:function(e,t,n){return r(g.DES,e,t,n)},keylen:8,ivlen:8}},o=function(e){var t={},n=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(t.cipher=n[1],t.ivsalt=n[2]);var r=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(t.type=r[1]);var i=-1,o=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),o=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),o=1);var s=e.indexOf("-----END");if(-1!=i&&-1!=s){var a=e.substring(i+2*o,s-o);a=a.replace(/\s+/g,""),t.data=a}return t},s=function(e,t,n){for(var r=n.substring(0,16),o=g.enc.Hex.parse(r),s=g.enc.Utf8.parse(t),a=i[e].keylen+i[e].ivlen,u="",l=null;;){var c=g.algo.MD5.create();if(null!=l&&c.update(l),c.update(s),c.update(o),l=c.finalize(),(u+=g.enc.Hex.stringify(l)).length>=2*a)break}var h={};return h.keyhex=u.substr(0,2*i[e].keylen),h.ivhex=u.substr(2*i[e].keylen,2*i[e].ivlen),h},a=function(e,t,n,r){var o=g.enc.Base64.parse(e),s=g.enc.Hex.stringify(o);return(0,i[t].proc)(s,n,r)};return{version:"1.0.0",parsePKCS5PEM:function(e){return o(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,n){return s(e,t,n)},decryptKeyB64:function(e,t,n,r){return a(e,t,n,r)},getDecryptedKeyHex:function(e,t){var n=o(e),r=(n.type,n.cipher),i=n.ivsalt,u=n.data,l=s(r,t,i).keyhex;return a(u,r,l,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,n,r,o){var a="";if(void 0!==r&&null!=r||(r="AES-256-CBC"),void 0===i[r])throw new Error("KEYUTIL unsupported algorithm: "+r);void 0!==o&&null!=o||(o=function(e){var t=g.lib.WordArray.random(e);return g.enc.Hex.stringify(t)}(i[r].ivlen).toUpperCase());var u=function(e,t,n,r){return(0,i[t].eproc)(e,n,r)}(t,r,s(r,n,o).keyhex,o);a="-----BEGIN "+e+" PRIVATE KEY-----\r\n";return a+="Proc-Type: 4,ENCRYPTED\r\n",a+="DEK-Info: "+r+","+o+"\r\n",a+="\r\n",a+=u.replace(/(.{64})/g,"$1\r\n"),a+="\r\n-----END "+e+" PRIVATE KEY-----\r\n"},getEncryptedPKCS8PEM:function(e,t,n){return Ce(this.getEncryptedPKCS8Hex(e,t,n),"ENCRYPTED PRIVATE KEY")},getEncryptedPKCS8Hex:function(e,t,n){var r;(r=null==n||null==n?{}:JSON.parse(JSON.stringify(n))).plain=e,this.initPBES2Param(r),this.encryptPBES2Param(r,t);var i=this.generatePBES2ASN1Param(r);return se.asn1.ASN1Util.newObject(i).tohex()},initPBES2Param:function(e){var t;(null==Ze(e,"encalg")&&(e.encalg="aes256-CBC"),null==Ze(e,"iter")&&(e.iter=2048),null==Ze(e,"prf")&&(e.prf="hmacWithSHA256"),null==Ze(e,"salt")&&(e.salt=g.enc.Hex.stringify(g.lib.WordArray.random(8))),null==Ze(e,"enciv"))&&("des-EDE3-CBC"==e.encalg&&(t=8),"aes128-CBC"==e.encalg&&(t=16),"aes256-CBC"==e.encalg&&(t=16),e.enciv=g.enc.Hex.stringify(g.lib.WordArray.random(t)))},encryptPBES2Param:function(e,t){var n=tt.getDKFromPBES2Param(e,t);try{var r=se.crypto.Cipher.encrypt(e.plain,n,e.encalg,{iv:e.enciv})}catch(t){throw new Error("encrypt error: "+e.plain+" "+n+" "+e.encalg+" "+e.enciv)}e.enc=r},generatePBES2ASN1Param:function(e){var t={seq:[{seq:[{oid:"pkcs5PBES2"},{seq:[{seq:[{oid:"pkcs5PBKDF2"},{seq:[{octstr:{hex:e.salt}},{int:{hex:Ke(e.iter)}}]}]},{seq:[{oid:e.encalg},{octstr:{hex:e.enciv}}]}]}]},{octstr:{hex:e.enc}}]};return"hmacWithSHA1"!=e.prf&&t.seq[0].seq[1].seq[0].seq[1].seq.push({seq:[{oid:e.prf},{null:""}]}),t},parseHexOfEncryptedPKCS8:function(e){var t=le,n=t.getChildIdx,r=t.getV,i={},o=n(e,0);if(2!=o.length)throw new Error("malformed format: SEQUENCE(0).items != 2: "+o.length);i.ciphertext=r(e,o[1]);var s=n(e,o[0]);if(2!=s.length)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+s.length);if("2a864886f70d01050d"!=r(e,s[0]))throw new Error("this only supports pkcs5PBES2");var a=n(e,s[1]);if(2!=s.length)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+a.length);var u=n(e,a[1]);if(2!=u.length)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+u.length);if("2a864886f70d0307"!=r(e,u[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=r(e,u[1]);var l=n(e,a[0]);if(2!=l.length)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+l.length);if("2a864886f70d01050c"!=r(e,l[0]))throw new Error("this only supports pkcs5PBKDF2");var c=n(e,l[1]);if(c.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+c.length);i.pbkdf2Salt=r(e,c[0]);var h=r(e,c[1]);try{i.pbkdf2Iter=parseInt(h,16)}catch(e){throw new Error("malformed format pbkdf2Iter: "+h)}return i},getPBKDF2KeyHexFromParam:function(e,t){var n=g.enc.Hex.parse(e.pbkdf2Salt),r=e.pbkdf2Iter,i=g.PBKDF2(t,n,{keySize:6,iterations:r});return g.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var n=Fe(e,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(n),i=tt.getPBKDF2KeyHexFromParam(r,t),o={};o.ciphertext=g.enc.Hex.parse(r.ciphertext);var s=g.enc.Hex.parse(i),a=g.enc.Hex.parse(r.encryptionSchemeIV),u=g.TripleDES.decrypt(o,s,{iv:a});return g.enc.Hex.stringify(u)},parsePBES2:function(e){var t=le.parse(e);if("pkcs5PBES2"!=Ze(t,"seq.0.seq.0.oid")||"pkcs5PBKDF2"!=Ze(t,"seq.0.seq.1.seq.0.seq.0.oid"))throw new Error("not pkcs5PBES2 and pkcs5PBKDF2 used");var n=Ze(t,"seq.0.seq.1.seq.0.seq.1.seq");if(null==n)throw new Error("PBKDF2 parameter not found");var r=Ze(n,"0.octstr.hex"),i=Ze(n,"1.int.hex"),o=Ze(n,"2.seq.0.oid","hmacWithSHA1"),s=-1;try{s=parseInt(i,16)}catch(e){throw new Error("iter not proper value")}var a=Ze(t,"seq.0.seq.1.seq.1.seq.0.oid"),u=Ze(t,"seq.0.seq.1.seq.1.seq.1.octstr.hex"),l=Ze(t,"seq.1.octstr.hex");if(null==a||null==u||null==l)throw new Error("encalg, enciv or enc is undefined");return{salt:r,iter:s,prf:o,encalg:a,enciv:u,enc:l}},getDKFromPBES2Param:function(e,t){var n={hmacWithSHA1:g.algo.SHA1,hmacWithSHA224:g.algo.SHA224,hmacWithSHA256:g.algo.SHA256,hmacWithSHA384:g.algo.SHA384,hmacWithSHA512:g.algo.SHA512}[e.prf];if(null==n)throw new Error("unsupported prf");var r={"des-EDE3-CBC":6,"aes128-CBC":4,"aes256-CBC":8}[e.encalg];if(null==r)throw new Error("unsupported encalg");var i=g.enc.Hex.parse(e.salt),o=e.iter;try{var s=g.PBKDF2(t,i,{keySize:r,iterations:o,hasher:n});return g.enc.Hex.stringify(s)}catch(n){throw new Error("PBKDF2 error: "+n+" "+JSON.stringify(e)+" "+t)}},getPlainHexFromEncryptedPKCS8PEM:function(e,t){if(-1==e.indexOf("BEGIN ENCRYPTED PRIVATE KEY"))throw new Error("not Encrypted PKCS#8 PEM string");var n,r=Fe(e);try{n=tt.parsePBES2(r)}catch(e){throw new Error("malformed PBES2 format: "+e.message)}var i=tt.getDKFromPBES2Param(n,t);return se.crypto.Cipher.decrypt(n.enc,i,n.encalg,{iv:n.enciv})},getKeyFromEncryptedPKCS8PEM:function(e,t){var n=this.getPlainHexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(e){var t=le,n=t.getChildIdx,r=t.getV,i={algparam:null};if("30"!=e.substr(0,2))throw new Error("malformed plain PKCS8 private key(code:001)");var o=n(e,0);if(o.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if("30"!=e.substr(o[1],2))throw new Error("malformed PKCS8 private key(code:003)");var s=n(e,o[1]);if(2!=s.length)throw new Error("malformed PKCS8 private key(code:004)");if("06"!=e.substr(s[0],2))throw new Error("malformed PKCS8 private key(code:005)");if(i.algoid=r(e,s[0]),"06"==e.substr(s[1],2)&&(i.algparam=r(e,s[1])),"04"!=e.substr(o[2],2))throw new Error("malformed PKCS8 private key(code:006)");return i.keyidx=t.getVidx(e,o[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=Fe(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,n=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==n.algoid)t=new te;else if("2a8648ce380401"==n.algoid)t=new se.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw new Error("unsupported private key algorithm");t=new se.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,n=le.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===n)t=new te;else if("2a8648ce380401"===n)t=new se.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw new Error("unsupported PKCS#8 public key hex");t=new se.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=le,n=t.getChildIdx,r=t.getV,i={};if("30"!=e.substr(0,2))throw new Error("malformed RSA key(code:001)");var o=n(e,0);if(2!=o.length)throw new Error("malformed RSA key(code:002)");if("02"!=e.substr(o[0],2))throw new Error("malformed RSA key(code:003)");if(i.n=r(e,o[0]),"02"!=e.substr(o[1],2))throw new Error("malformed RSA key(code:004)");return i.e=r(e,o[1]),i},parsePublicPKCS8Hex:function(e){var t=le,n=t.getChildIdx,r=t.getV,i={algparam:null},o=n(e,0);if(2!=o.length)throw new Error("outer DERSequence shall have 2 elements: "+o.length);var s=o[0];if("30"!=e.substr(s,2))throw new Error("malformed PKCS8 public key(code:001)");var a=n(e,s);if(2!=a.length)throw new Error("malformed PKCS8 public key(code:002)");if("06"!=e.substr(a[0],2))throw new Error("malformed PKCS8 public key(code:003)");if(i.algoid=r(e,a[0]),"06"==e.substr(a[1],2)?i.algparam=r(e,a[1]):"30"==e.substr(a[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,a[1],[0],"02"),i.algparam.q=t.getVbyList(e,a[1],[1],"02"),i.algparam.g=t.getVbyList(e,a[1],[2],"02")),"03"!=e.substr(o[1],2))throw new Error("malformed PKCS8 public key(code:004)");return i.key=r(e,o[1]).substr(2),i}}}();tt.getKey=function(e,t,n){var r=(m=le).getChildIdx,i=(m.getV,m.getVbyList),o=se.crypto,s=o.ECDSA,a=o.DSA,u=te,l=Fe,c=tt;if(void 0!==u&&e instanceof u)return e;if(void 0!==s&&e instanceof s)return e;if(void 0!==a&&e instanceof a)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new s({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new s({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(T=new u).setPublic(e.n,e.e),T;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(T=new u).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),T;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(T=new u).setPrivate(e.n,e.e,e.d),T;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(T=new a).setPublic(e.p,e.q,e.g,e.y),T;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(T=new a).setPrivate(e.p,e.q,e.g,e.y,e.x),T;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(T=new u).setPublic(ve(e.n),ve(e.e)),T;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(T=new u).setPrivateEx(ve(e.n),ve(e.e),ve(e.d),ve(e.p),ve(e.q),ve(e.dp),ve(e.dq),ve(e.qi)),T;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(T=new u).setPrivate(ve(e.n),ve(e.e),ve(e.d)),T;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var h=(F=new s({curve:e.crv})).ecparams.keycharlen,p="04"+("0000000000"+ve(e.x)).slice(-h)+("0000000000"+ve(e.y)).slice(-h);return F.setPublicKeyHex(p),F}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){h=(F=new s({curve:e.crv})).ecparams.keycharlen,p="04"+("0000000000"+ve(e.x)).slice(-h)+("0000000000"+ve(e.y)).slice(-h);var d=("0000000000"+ve(e.d)).slice(-h);return F.setPublicKeyHex(p),F.setPrivateKeyHex(d),F}if("pkcs5prv"===n){var f,g=e,m=le;if(9===(f=r(g,0)).length)(T=new u).readPKCS5PrvKeyHex(g);else if(6===f.length)(T=new a).readPKCS5PrvKeyHex(g);else{if(!(f.length>2&&"04"===g.substr(f[1],2)))throw new Error("unsupported PKCS#1/5 hexadecimal key");(T=new s).readPKCS5PrvKeyHex(g)}return T}if("pkcs8prv"===n)return T=c.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===n)return c._getKeyFromPublicPKCS8Hex(e);if("x509pub"===n)return ot.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return ot.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var v=Fe(e,"PUBLIC KEY");return c._getKeyFromPublicPKCS8Hex(v)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var y=l(e,"RSA PRIVATE KEY");return c.getKey(y,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var b=i(k=l(e,"DSA PRIVATE KEY"),0,[1],"02"),$=i(k,0,[2],"02"),x=i(k,0,[3],"02"),S=i(k,0,[4],"02"),E=i(k,0,[5],"02");return(T=new a).setPrivate(new w(b,16),new w($,16),new w(x,16),new w(S,16),new w(E,16)),T}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){y=l(e,"EC PRIVATE KEY");return c.getKey(y,null,"pkcs5prv")}if(-1!=e.indexOf("-END PRIVATE KEY-"))return c.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var A=c.getDecryptedKeyHex(e,t),C=new te;return C.readPKCS5PrvKeyHex(A),C}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var F,T=i(k=c.getDecryptedKeyHex(e,t),0,[1],"04"),D=i(k,0,[2,0],"06"),R=i(k,0,[3,0],"03").substr(2);if(void 0===se.crypto.OID.oidhex2name[D])throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+D);return(F=new s({curve:se.crypto.OID.oidhex2name[D]})).setPublicKeyHex(R),F.setPrivateKeyHex(T),F.isPublic=!1,F}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var k;b=i(k=c.getDecryptedKeyHex(e,t),0,[1],"02"),$=i(k,0,[2],"02"),x=i(k,0,[3],"02"),S=i(k,0,[4],"02"),E=i(k,0,[5],"02");return(T=new a).setPrivate(new w(b,16),new w($,16),new w(x,16),new w(S,16),new w(E,16)),T}if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return c.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},tt.generateKeypair=function(e,t){if("RSA"==e){var n=t;(s=new te).generate(n,"10001"),s.isPrivate=!0,s.isPublic=!0;var r=new te,i=s.n.toString(16),o=s.e.toString(16);return r.setPublic(i,o),r.isPrivate=!1,r.isPublic=!0,(a={}).prvKeyObj=s,a.pubKeyObj=r,a}if("EC"==e){var s,a,u=t,l=new se.crypto.ECDSA({curve:u}).generateKeyPairHex();return(s=new se.crypto.ECDSA({curve:u})).setPublicKeyHex(l.ecpubhex),s.setPrivateKeyHex(l.ecprvhex),s.isPrivate=!0,s.isPublic=!1,(r=new se.crypto.ECDSA({curve:u})).setPublicKeyHex(l.ecpubhex),r.isPrivate=!1,r.isPublic=!0,(a={}).prvKeyObj=s,a.pubKeyObj=r,a}throw new Error("unknown algorithm: "+e)},tt.getPEM=function(e,t,n,r,i,o){var s=se,a=s.asn1,u=a.DERObjectIdentifier,l=a.DERInteger,c=a.ASN1Util.newObject,h=a.x509.SubjectPublicKeyInfo,p=s.crypto,d=p.DSA,f=p.ECDSA,g=te;function m(e){return c({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function v(e){return c({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function y(e){return c({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==g&&e instanceof g||void 0!==d&&e instanceof d||void 0!==f&&e instanceof f)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return Ce(x=new h(e).tohex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==g&&e instanceof g&&(void 0===n||null==n)&&1==e.isPrivate)return Ce(x=m(e).tohex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==f&&e instanceof f&&(void 0===n||null==n)&&1==e.isPrivate){var b=new u({name:e.curveName}).tohex(),$=v(e).tohex(),w="";return w+=Ce(b,"EC PARAMETERS"),w+=Ce($,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==d&&e instanceof d&&(void 0===n||null==n)&&1==e.isPrivate)return Ce(x=y(e).tohex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==g&&e instanceof g&&void 0!==n&&null!=n&&1==e.isPrivate){var x=m(e).tohex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",x,n,r,o)}if("PKCS5PRV"==t&&void 0!==f&&e instanceof f&&void 0!==n&&null!=n&&1==e.isPrivate){x=v(e).tohex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",x,n,r,o)}if("PKCS5PRV"==t&&void 0!==d&&e instanceof d&&void 0!==n&&null!=n&&1==e.isPrivate){x=y(e).tohex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",x,n,r,o)}var S=function(e,t){if("string"==typeof t)return tt.getEncryptedPKCS8PEM(e,t);if("object"==typeof t&&null!=Ze(t,"passcode")){var n=JSON.parse(JSON.stringify(t)),r=n.passcode;return delete n.passcode,tt.getEncryptedPKCS8PEM(e,r,n)}};if("PKCS8PRV"==t&&null!=g&&e instanceof g&&1==e.isPrivate){var E=m(e).tohex();x=c({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:E}}]}).tohex();return void 0===n||null==n?Ce(x,"PRIVATE KEY"):S(x,n)}if("PKCS8PRV"==t&&void 0!==f&&e instanceof f&&1==e.isPrivate){var A={seq:[{int:1},{octstr:{hex:e.prvKeyHex}}]};"string"==typeof e.pubKeyHex&&A.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]});E=new c(A).tohex(),x=c({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:E}}]}).tohex();return void 0===n||null==n?Ce(x,"PRIVATE KEY"):S(x,n)}if("PKCS8PRV"==t&&void 0!==d&&e instanceof d&&1==e.isPrivate){E=new l({bigint:e.x}).tohex(),x=c({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:E}}]}).tohex();return void 0===n||null==n?Ce(x,"PRIVATE KEY"):S(x,n)}throw new Error("unsupported object nor format")},tt.getKeyFromCSRPEM=function(e){var t=Fe(e,"CERTIFICATE REQUEST");return tt.getKeyFromCSRHex(t)},tt.getKeyFromCSRHex=function(e){var t=tt.parseCSRHex(e);return tt.getKey(t.p8pubkeyhex,null,"pkcs8pub")},tt.parseCSRHex=function(e){var t=le,n=t.getChildIdx,r=t.getTLV,i={},o=e;if("30"!=o.substr(0,2))throw new Error("malformed CSR(code:001)");var s=n(o,0);if(s.length<1)throw new Error("malformed CSR(code:002)");if("30"!=o.substr(s[0],2))throw new Error("malformed CSR(code:003)");var a=n(o,s[0]);if(a.length<3)throw new Error("malformed CSR(code:004)");return i.p8pubkeyhex=r(o,a[2]),i},tt.getKeyID=function(e){var t=tt,n=le;"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var r=Fe(t.getPEM(e)),i=n.getIdxbyList(r,0,[1]),o=n.getV(r,i).substring(2);return se.crypto.Util.hashHex(o,"sha1")},tt.getJWK=function(e,t,n,r,i){var o,s,a={},u=se.crypto.Util.hashHex;if("string"==typeof e)o=tt.getKey(e),-1!=e.indexOf("CERTIFICATE")&&(s=Fe(e));else{if("object"!=typeof e)throw new Error("unsupported keyinfo type");e instanceof ot?(o=e.getPublicKey(),s=e.hex):o=e}if(o instanceof te&&o.isPrivate)a.kty="RSA",a.n=me(o.n.toString(16)),a.e=me(o.e.toString(16)),a.d=me(o.d.toString(16)),a.p=me(o.p.toString(16)),a.q=me(o.q.toString(16)),a.dp=me(o.dmp1.toString(16)),a.dq=me(o.dmq1.toString(16)),a.qi=me(o.coeff.toString(16));else if(o instanceof te&&o.isPublic)a.kty="RSA",a.n=me(o.n.toString(16)),a.e=me(o.e.toString(16));else if(o instanceof se.crypto.ECDSA&&o.isPrivate){if("P-256"!==(c=o.getShortNISTPCurveName())&&"P-384"!==c&&"P-521"!==c)throw new Error("unsupported curve name for JWT: "+c);var l=o.getPublicKeyXYHex();a.kty="EC",a.crv=c,a.x=me(l.x),a.y=me(l.y),a.d=me(o.prvKeyHex)}else if(o instanceof se.crypto.ECDSA&&o.isPublic){var c;if("P-256"!==(c=o.getShortNISTPCurveName())&&"P-384"!==c&&"P-521"!==c)throw new Error("unsupported curve name for JWT: "+c);l=o.getPublicKeyXYHex();a.kty="EC",a.crv=c,a.x=me(l.x),a.y=me(l.y)}if(null==a.kty)throw new Error("unsupported keyinfo");return o.isPrivate||1==t||(a.kid=se.jws.JWS.getJWKthumbprint(a)),null!=s&&1!=n&&(a.x5c=[y(s)]),null!=s&&1!=r&&(a.x5t=fe(y(u(s,"sha1")))),null!=s&&1!=i&&(a["x5t#S256"]=fe(y(u(s,"sha256")))),a},tt.getJWKFromKey=function(e){return tt.getJWK(e,!0,!0,!0,!0)},te.getPosArrayOfChildrenFromHex=function(e){return le.getChildIdx(e,0)},te.getHexValueArrayOfChildrenFromHex=function(e){var t,n=le.getV,r=n(e,(t=te.getPosArrayOfChildrenFromHex(e))[0]),i=n(e,t[1]),o=n(e,t[2]),s=n(e,t[3]),a=n(e,t[4]),u=n(e,t[5]),l=n(e,t[6]),c=n(e,t[7]),h=n(e,t[8]);return(t=new Array).push(r,i,o,s,a,u,l,c,h),t},te.prototype.readPrivateKeyFromPEMString=function(e){var t=Fe(e),n=te.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},te.prototype.readPKCS5PrvKeyHex=function(e){var t=te.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},te.prototype.readPKCS8PrvKeyHex=function(e){var t,n,r,i,o,s,a,u,l=le,c=l.getVbyListEx;if(!1===l.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=c(e,0,[2,0,1],"02"),n=c(e,0,[2,0,2],"02"),r=c(e,0,[2,0,3],"02"),i=c(e,0,[2,0,4],"02"),o=c(e,0,[2,0,5],"02"),s=c(e,0,[2,0,6],"02"),a=c(e,0,[2,0,7],"02"),u=c(e,0,[2,0,8],"02")}catch(e){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,n,r,i,o,s,a,u)},te.prototype.readPKCS5PubKeyHex=function(e){var t=le,n=t.getV;if(!1===t.isASN1HEX(e))throw new Error("keyHex is not ASN.1 hex string");var r=t.getChildIdx(e,0);if(2!==r.length||"02"!==e.substr(r[0],2)||"02"!==e.substr(r[1],2))throw new Error("wrong hex for PKCS#5 public key");var i=n(e,r[0]),o=n(e,r[1]);this.setPublic(i,o)},te.prototype.readPKCS8PubKeyHex=function(e){var t=le;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var n=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(n)},te.prototype.readCertPubKeyHex=function(e,t){var n,r;(n=new ot).readCertHex(e),r=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(r)};new RegExp("[^0-9a-f]","gi");function nt(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e}function rt(e,t,n){for(var r="",i=0;r.length<t;)r+=we(n(xe(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function it(e){for(var t in se.crypto.Util.DIGESTINFOHEAD){var n=se.crypto.Util.DIGESTINFOHEAD[t],r=n.length;if(e.substring(0,r)==n)return[t,e.substring(r)]}return[]}function ot(e){var t,n=le,r=n.getChildIdx,i=n.getV,o=(n.dump,n.parse),s=n.getTLV,a=n.getVbyList,u=n.getVbyListEx,l=n.getTLVbyList,c=n.getTLVbyListEx,h=n.getIdxbyList,p=n.getIdxbyListEx,d=n.getVidx,f=n.getInt,g=n.oidname,m=n.hextooidstr,v=Fe,y=Error;try{t=se.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(e){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var e=l(this.hex,0,[0,0]);if("a0"==e.substr(0,2)){var t=l(e,0,[0]),n=f(t,0);if(n<0||2<n)throw new Error("malformed version field");return this.version=n+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return u(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var e=c(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(e)},this.getAlgorithmIdentifierName=function(e){for(var n in t)if(e===t[n])return n;return g(u(e,0,[0],"06"))},this.getIssuer=function(e,t){return this.getX500Name(this.getIssuerHex(),e,t)},this.getIssuerHex=function(){return l(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(e,t){return this.getX500Name(this.getSubjectHex(),e,t)},this.getSubjectHex=function(){return l(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var e=a(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),e=decodeURIComponent(e)},this.getNotAfter=function(){var e=a(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),e=decodeURIComponent(e)},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return l(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var e=this.getSPKI();return null==e?null:a(e,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return h(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return h(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return tt.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var e=l(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(e)},this.getSignatureValueHex=function(){return a(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),n=this.getSignatureValueHex(),r=l(this.hex,0,[0],"30"),i=new se.crypto.Signature({alg:t});return i.init(e),i.updateHex(r),i.verify(n)},this.parseExt=function(e){var t,o,s;if(void 0===e){if(s=this.hex,3!==this.version)return-1;t=h(s,0,[0,7,0],"30"),o=r(s,t)}else{s=Fe(e);var u=h(s,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(s,u))return void(this.aExtInfo=new Array);t=h(s,0,[0,3,0,1,0],"30"),o=r(s,t),this.hex=s}this.aExtInfo=new Array;for(var l=0;l<o.length;l++){var c={critical:!1},p=0;3===r(s,o[l]).length&&(c.critical=!0,p=1),c.oid=n.hextooidstr(a(s,o[l],[0],"06"));var f=h(s,o[l],[1+p]);c.vidx=d(s,f),this.aExtInfo.push(c)}},this.getExtInfo=function(e){var t=this.aExtInfo,n=e;if(e.match(/^[0-9.]+$/)||(n=se.asn1.x509.OID.name2oid(e)),""!==n)for(var r=0;r<t.length;r++)if(t[r].oid===n)return t[r]},this.getCriticalExtV=function(e,t,n){if(null!=t)return[t,n];var r=this.getExtInfo(e);return null==r?[null,null]:[s(this.hex,r.vidx),r.critical]},this.getExtBasicConstraints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("basicConstraints");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var r={extname:"basicConstraints"};if(t&&(r.critical=!0),"3000"===e)return r;if("30030101ff"===e)return r.cA=!0,r;if("30060101ff02"===e.substr(0,12)){var o=i(e,10),a=parseInt(o,16);return r.cA=!0,r.pathLen=a,r}throw new Error("hExtV parse error: "+e)},this.getExtNameConstraints=function(e,t){var n=this.getCriticalExtV("nameConstraints",e,t);if(e=n[0],t=n[1],null!=e){var i={extname:"nameConstraints"};t&&(i.critical=!0);for(var o=r(e,0),a=0;a<o.length;a++){for(var u=[],l=r(e,o[a]),c=0;c<l.length;c++){var h=s(e,l[c]),p=this.getGeneralSubtree(h);u.push(p)}var d=e.substr(o[a],2);"a0"==d?i.permit=u:"a1"==d&&(i.exclude=u)}return i}},this.getGeneralSubtree=function(e){var t=r(e,0),n=t.length;if(n<1||2<n)throw new Error("wrong num elements");for(var o=this.getGeneralName(s(e,t[0])),a=1;a<n;a++){var u=e.substr(t[a],2),l=i(e,t[a]),c=parseInt(l,16);"80"==u&&(o.min=c),"81"==u&&(o.max=c)}return o},this.getExtKeyUsage=function(e,t){var n=this.getCriticalExtV("keyUsage",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"keyUsage"};return t&&(r.critical=!0),r.names=this.getExtKeyUsageString(e).split(","),r}},this.getExtKeyUsageBin=function(e){if(void 0===e){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";e=s(this.hex,t.vidx)}if(8!=e.length&&10!=e.length)throw new Error("malformed key usage value: "+e);var n="000000000000000"+parseInt(e.substr(6),16).toString(2);return 8==e.length&&(n=n.slice(-8)),10==e.length&&(n=n.slice(-16)),""==(n=n.replace(/0+$/,""))&&(n="0"),n},this.getExtKeyUsageString=function(e){for(var t=this.getExtKeyUsageBin(e),n=new Array,r=0;r<t.length;r++)"1"==t.substr(r,1)&&n.push(ot.KEYUSAGE_NAME[r]);return n.join(",")},this.getExtSubjectKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectKeyIdentifier");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var r={extname:"subjectKeyIdentifier"};t&&(r.critical=!0);var o=i(e,0);return r.kid={hex:o},r},this.getExtAuthorityKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityKeyIdentifier");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var o={extname:"authorityKeyIdentifier"};t&&(o.critical=!0);for(var a=r(e,0),u=0;u<a.length;u++){var l=e.substr(a[u],2);if("80"===l&&(o.kid={hex:i(e,a[u])}),"a1"===l){var c=s(e,a[u]),h=this.getGeneralNames(c);o.issuer=h[0].dn}"82"===l&&(o.sn={hex:i(e,a[u])})}return o},this.getExtExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("extKeyUsage");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var o={extname:"extKeyUsage",array:[]};t&&(o.critical=!0);for(var a=r(e,0),u=0;u<a.length;u++)o.array.push(g(i(e,a[u])));return o},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,n=s(this.hex,e.vidx);if(""===n)return t;for(var o=r(n,0),a=0;a<o.length;a++)t.push(g(i(n,o[a])));return t},this.getExtSubjectAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectAltName");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var r={extname:"subjectAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getExtIssuerAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("issuerAltName");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var r={extname:"issuerAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getGeneralNames=function(e){for(var t=r(e,0),n=[],i=0;i<t.length;i++){var o=this.getGeneralName(s(e,t[i]));void 0!==o&&n.push(o)}return n},this.getGeneralName=function(e){var t=e.substr(0,2),n=i(e,0),r=we(n);return"81"==t?{rfc822:r}:"82"==t?{dns:r}:"86"==t?{uri:r}:"87"==t?{ip:_e(n)}:"a4"==t?{dn:this.getX500Name(n)}:"a0"==t?{other:this.getOtherName(e)}:void 0},this.getExtSubjectAltName2=function(){var e,t,n,o=this.getExtInfo("subjectAltName");if(void 0===o)return o;for(var a=new Array,u=s(this.hex,o.vidx),l=r(u,0),c=0;c<l.length;c++)n=u.substr(l[c],2),e=i(u,l[c]),"81"===n&&(t=be(e),a.push(["MAIL",t])),"82"===n&&(t=be(e),a.push(["DNS",t])),"84"===n&&(t=ot.hex2dn(e,0),a.push(["DN",t])),"86"===n&&(t=be(e),a.push(["URI",t])),"87"===n&&(t=_e(e),a.push(["IP",t]));return a},this.getExtCRLDistributionPoints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("cRLDistributionPoints");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var i={extname:"cRLDistributionPoints",array:[]};t&&(i.critical=!0);for(var o=r(e,0),a=0;a<o.length;a++){var u=s(e,o[a]);i.array.push(this.getDistributionPoint(u))}return i},this.getDistributionPoint=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var o=e.substr(n[i],2),a=s(e,n[i]);"a0"==o&&(t.dpname=this.getDistributionPointName(a))}return t},this.getDistributionPointName=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var o=e.substr(n[i],2),a=s(e,n[i]);"a0"==o&&(t.full=this.getGeneralNames(a))}return t},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtCRLDistributionPoints();if(null==e)return e;for(var t=e.array,n=[],r=0;r<t.length;r++)try{null!=t[r].dpname.full[0].uri&&n.push(t[r].dpname.full[0].uri)}catch(e){}return n},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},n=r(this.hex,e.vidx),i=0;i<n.length;i++){var o=a(this.hex,n[i],[0],"06"),s=a(this.hex,n[i],[1],"86");"2b06010505073001"===o&&t.ocsp.push(be(s)),"2b06010505073002"===o&&t.caissuer.push(be(s))}return t},this.getExtAuthorityInfoAccess=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityInfoAccess");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var i={extname:"authorityInfoAccess",array:[]};t&&(i.critical=!0);for(var o=r(e,0),l=0;l<o.length;l++){var c=u(e,o[l],[0],"06"),h=be(a(e,o[l],[1],"86"));if("2b06010505073001"==c)i.array.push({ocsp:h});else{if("2b06010505073002"!=c)throw new Error("unknown method: "+c);i.array.push({caissuer:h})}}return i},this.getExtCertificatePolicies=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("certificatePolicies");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var i={extname:"certificatePolicies",array:[]};t&&(i.critical=!0);for(var o=r(e,0),a=0;a<o.length;a++){var u=s(e,o[a]),l=this.getPolicyInformation(u);i.array.push(l)}return i},this.getPolicyInformation=function(e){var t={},n=a(e,0,[0],"06");t.policyoid=g(n);var i=p(e,0,[1],"30");if(-1!=i){t.array=[];for(var o=r(e,i),u=0;u<o.length;u++){var l=s(e,o[u]),c=this.getPolicyQualifierInfo(l);t.array.push(c)}}return t},this.getOtherName=function(e){var t={},n=r(e,0),i=a(e,n[0],[],"06"),s=a(e,n[1],[]);return t.oid=g(i),t.value=o(s),t},this.getPolicyQualifierInfo=function(e){var t={},n=a(e,0,[0],"06");if("2b06010505070201"===n){var r=u(e,0,[1],"16");t.cps=we(r)}else if("2b06010505070202"===n){var i=l(e,0,[1],"30");t.unotice=this.getUserNotice(i)}return t},this.getUserNotice=function(e){var t=null;try{return t=n.parse(e),this._asn1ToUnotice(t)}catch(e){return}},this._asn1ToUnotice=function(e){try{for(var t={},n=Ze(e,"seq"),r=0;r<n.length;r++){var i=this._asn1ToNoticeRef(n[r]);null!=i&&(t.noticeref=i);var o=this.asn1ToDisplayText(n[r]);null!=o&&(t.exptext=o)}return Object.keys(t).length>0?t:void 0}catch(e){return}},this._asn1ToNoticeRef=function(e){try{for(var t={},n=Ze(e,"seq"),r=0;r<n.length;r++){var i=this._asn1ToNoticeNum(n[r]);null!=i&&(t.noticenum=i);var o=this.asn1ToDisplayText(n[r]);null!=o&&(t.org=o)}return Object.keys(t).length>0?t:void 0}catch(e){return}},this._asn1ToNoticeNum=function(e){try{for(var t=Ze(e,"seq"),n=[],r=0;r<t.length;r++){var i=t[r];n.push(parseInt(Ze(i,"int.hex"),16))}return n}catch(e){return}},this.getDisplayText=function(e){var t={};return t.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[e.substr(0,2)],t.str=we(i(e,0)),t},this.asn1ToDisplayText=function(e){return null!=e.utf8str?{type:"utf8",str:e.utf8str.str}:null!=e.ia5str?{type:"ia5",str:e.ia5str.str}:null!=e.visstr?{type:"vis",str:e.visstr.str}:null!=e.bmpstr?{type:"bmp",str:e.bmpstr.str}:null!=e.prnstr?{type:"prn",str:e.prnstr.str}:void 0},this.getExtPolicyMappings=function(e,t){var n=this.getCriticalExtV("policyMappings",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"policyMappings"};t&&(r.critical=!0);try{for(var i=o(e).seq,s=[],a=0;a<i.length;a++){var u=i[a].seq;s.push([u[0].oid,u[1].oid])}r.array=s}catch(e){throw new y("malformed policyMappings")}return r}},this.getExtPolicyConstraints=function(e,t){var n=this.getCriticalExtV("policyConstraints",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"policyConstraints"};t&&(r.critical=!0);var i=o(e);try{for(var s=i.seq,a=0;a<s.length;a++){var u=s[a].tag;0==u.explicit&&("80"==u.tag&&(r.reqexp=parseInt(u.hex,16)),"81"==u.tag&&(r.inhibit=parseInt(u.hex,16)))}}catch(e){return new y("malformed policyConstraints value")}return r}},this.getExtInhibitAnyPolicy=function(e,t){var n=this.getCriticalExtV("inhibitAnyPolicy",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"inhibitAnyPolicy"};t&&(r.critical=!0);var i=f(e,0);return-1==i?new y("wrong value"):(r.skip=i,r)}},this.getExtCRLNumber=function(e,t){var n={extname:"cRLNumber"};if(t&&(n.critical=!0),"02"==e.substr(0,2))return n.num={hex:i(e,0)},n;throw new y("hExtV parse error: "+e)},this.getExtCRLReason=function(e,t){var n={extname:"cRLReason"};if(t&&(n.critical=!0),"0a"==e.substr(0,2))return n.code=parseInt(i(e,0),16),n;throw new Error("hExtV parse error: "+e)},this.getExtOcspNonce=function(e,t){var n={extname:"ocspNonce"};t&&(n.critical=!0);var r=i(e,0);return n.hex=r,n},this.getExtOcspNoCheck=function(e,t){var n={extname:"ocspNoCheck"};return t&&(n.critical=!0),n},this.getExtAdobeTimeStamp=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("adobeTimeStamp");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var i={extname:"adobeTimeStamp"};t&&(i.critical=!0);var o=r(e,0);if(o.length>1){var a=s(e,o[1]),u=this.getGeneralName(a);null!=u.uri&&(i.uri=u.uri)}if(o.length>2){var l=s(e,o[2]);"0101ff"==l&&(i.reqauth=!0),"010100"==l&&(i.reqauth=!1)}return i},this.getExtSubjectDirectoryAttributes=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectDirectoryAttributes");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var r={extname:"subjectDirectoryAttributes"};t&&(r.critical=!0);try{for(var i=o(e),a=[],u=0;u<i.seq.length;u++){var l=i.seq[u],c=Ze(l,"seq.0.oid"),h=Ze(l,"seq.1.set");if(null==c||null==h)throw"error";a.push({attr:c,array:h})}return r.array=a,r}catch(e){throw new Error("malformed subjectDirectoryAttributes extension value")}};var b=function(e){var t={};try{var n=e.seq[0].oid,r=se.asn1.x509.OID.name2oid(n);t.type=se.asn1.x509.OID.oid2atype(r);var i=e.seq[1];if(null!=i.utf8str)t.ds="utf8",t.value=i.utf8str.str;else if(null!=i.numstr)t.ds="num",t.value=i.numstr.str;else if(null!=i.telstr)t.ds="tel",t.value=i.telstr.str;else if(null!=i.prnstr)t.ds="prn",t.value=i.prnstr.str;else if(null!=i.ia5str)t.ds="ia5",t.value=i.ia5str.str;else if(null!=i.visstr)t.ds="vis",t.value=i.visstr.str;else{if(null==i.bmpstr)throw"error";t.ds="bmp",t.value=i.bmpstr.str}return t}catch(e){throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},$=function(e){try{return e.set.map((function(e){return b(e)}))}catch(e){throw new Error("improper ASN.1 parsed RDN: "+e)}};this.getX500NameRule=function(e){for(var t=null,n=[],r=0;r<e.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(i[o]);for(r=0;r<n.length;r++){var s=n[r],a=s.ds,u=s.value,l=s.type;if(":"+a,"prn"!=a&&"utf8"!=a&&"ia5"!=a)return"mixed";if("ia5"==a){if("CN"!=l)return"mixed";if(se.lang.String.isMail(u))continue;return"mixed"}if("C"==l){if("prn"==a)continue;return"mixed"}if(":"+a,null==t)t=a;else if(t!==a)return"mixed"}return null==t?"prn":t},this.getAttrTypeAndValue=function(e){var t=o(e);return b(t)},this.getRDN=function(e){var t=o(e);return $(t)},this.getX500NameArray=function(e){return function(e){try{return e.seq.map((function(e){return $(e)}))}catch(e){throw new Error("improper ASN.1 parsed X500Name: "+e)}}(o(e))},this.getX500Name=function(e,t,n){var r=this.getX500NameArray(e),i={str:this.dnarraytostr(r)};return i.array=r,1==n&&(i.hex=e),1==t&&(i.canon=this.c14nRDNArray(r)),i},this.readCertPEM=function(e){this.readCertHex(v(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{h(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getParam=function(e){var t={};return null==e&&(e={}),t.version=this.getVersion(),t.serial={hex:this.getSerialNumberHex()},t.sigalg=this.getSignatureAlgorithmField(),t.issuer=this.getIssuer(e.dncanon,e.dnhex),t.notbefore=this.getNotBefore(),t.notafter=this.getNotAfter(),t.subject=this.getSubject(e.dncanon,e.dnhex),t.sbjpubkey=Ce(this.getPublicKeyHex(),"PUBLIC KEY"),null!=this.aExtInfo&&this.aExtInfo.length>0&&(t.ext=this.getExtParamArray()),t.sighex=this.getSignatureValueHex(),1==e.tbshex&&(t.tbshex=l(this.hex,0,[0])),1==e.nodnarray&&(delete t.issuer.array,delete t.subject.array),t},this.getExtParamArray=function(e){null==e&&(-1!=p(this.hex,0,[0,"[3]"])&&(e=c(this.hex,0,[0,"[3]",0],"30")));for(var t=[],n=r(e,0),i=0;i<n.length;i++){var o=s(e,n[i]),a=this.getExtParam(o);null!=a&&t.push(a)}return t},this.getExtParam=function(e){var t=r(e,0).length;if(2!=t&&3!=t)throw new Error("wrong number elements in Extension: "+t+" "+e);var n=m(a(e,0,[0],"06")),i=!1;3==t&&"0101ff"==l(e,0,[1])&&(i=!0);var s=l(e,0,[t-1,0]),u=void 0;if("2.5.29.14"==n?u=this.getExtSubjectKeyIdentifier(s,i):"2.5.29.15"==n?u=this.getExtKeyUsage(s,i):"2.5.29.17"==n?u=this.getExtSubjectAltName(s,i):"2.5.29.18"==n?u=this.getExtIssuerAltName(s,i):"2.5.29.19"==n?u=this.getExtBasicConstraints(s,i):"2.5.29.30"==n?u=this.getExtNameConstraints(s,i):"2.5.29.31"==n?u=this.getExtCRLDistributionPoints(s,i):"2.5.29.32"==n?u=this.getExtCertificatePolicies(s,i):"2.5.29.33"==n?u=this.getExtPolicyMappings(s,i):"2.5.29.35"==n?u=this.getExtAuthorityKeyIdentifier(s,i):"2.5.29.36"==n?u=this.getExtPolicyConstraints(s,i):"2.5.29.37"==n?u=this.getExtExtKeyUsage(s,i):"2.5.29.54"==n?u=this.getExtInhibitAnyPolicy(s,i):"1.3.6.1.5.5.7.1.1"==n?u=this.getExtAuthorityInfoAccess(s,i):"2.5.29.20"==n?u=this.getExtCRLNumber(s,i):"2.5.29.21"==n?u=this.getExtCRLReason(s,i):"2.5.29.9"==n?u=this.getExtSubjectDirectoryAttributes(s,i):"1.3.6.1.5.5.7.48.1.2"==n?u=this.getExtOcspNonce(s,i):"1.3.6.1.5.5.7.48.1.5"==n?u=this.getExtOcspNoCheck(s,i):"1.2.840.113583.1.1.9.1"==n?u=this.getExtAdobeTimeStamp(s,i):null!=ot.EXT_PARSER[n]&&(u=ot.EXT_PARSER[n](n,i,s)),null!=u)return u;var c={extname:n,extn:s};try{c.extn=o(s)}catch(e){}return i&&(c.critical=!0),c},this.findExt=function(e,t){for(var n=0;n<e.length;n++)if(e[n].extname==t)return e[n];return null},this.updateExtCDPFullURI=function(e,t){var n=this.findExt(e,"cRLDistributionPoints");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)if(null!=r[i].dpname&&null!=r[i].dpname.full)for(var o=r[i].dpname.full,s=0;s<o.length;s++){var a=o[i];null!=a.uri&&(a.uri=t)}},this.updateExtAIAOCSP=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].ocsp&&(r[i].ocsp=t)},this.updateExtAIACAIssuer=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].caissuer&&(r[i].caissuer=t)},this.dnarraytostr=function(e){return"/"+e.map((function(e){return function(e){return e.map((function(e){return function(e){return e.type+"="+e.value}(e).replace(/\+/,"\\+")})).join("+")}(e).replace(/\//,"\\/")})).join("/")},this.setCanonicalizedDN=function(e){var t;if(null!=e.str&&null==e.array){var n=new se.asn1.x509.X500Name({str:e.str}).tohex();t=this.getX500NameArray(n)}else t=e.array;null==e.canon&&(e.canon=this.c14nRDNArray(t))},this.c14nRDNArray=function(e){for(var t=[],n=0;n<e.length;n++){for(var r=e[n],i=[],o=0;o<r.length;o++){var s=r[o],a=s.value;a=(a=(a=(a=a.replace(/^\s*/,"")).replace(/\s*$/,"")).replace(/\s+/g," ")).toLowerCase(),i.push(s.type.toLowerCase()+"="+a)}t.push(i.join("+"))}return"/"+t.join("/")},this.getInfo=function(){var e,t,n,r=function(e){for(var t="",n="    ",r="\n",i=e.array,o=0;o<i.length;o++){var s=i[o];if(null!=s.dn&&(t+=n+"dn: "+s.dn.str+r),null!=s.ip&&(t+=n+"ip: "+s.ip+r),null!=s.rfc822&&(t+=n+"rfc822: "+s.rfc822+r),null!=s.dns&&(t+=n+"dns: "+s.dns+r),null!=s.uri&&(t+=n+"uri: "+s.uri+r),null!=s.other)t+=n+"other: "+s.other.oid+"="+JSON.stringify(s.other.value).replace(/\"/g,"")+r}return t=t.replace(/\n$/,"")},i=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];if(t+="    policy oid: "+i.policyoid+"\n",void 0!==i.array)for(var o=0;o<i.array.length;o++){var s=i.array[o];void 0!==s.cps&&(t+="    cps: "+s.cps+"\n")}}return t},o=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];try{void 0!==i.dpname.full[0].uri&&(t+="    "+i.dpname.full[0].uri+"\n")}catch(e){}try{void 0!==i.dname.full[0].dn.hex&&(t+="    "+ot.hex2dn(i.dpname.full[0].dn.hex)+"\n")}catch(e){}}return t},s=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];void 0!==i.caissuer&&(t+="    caissuer: "+i.caissuer+"\n"),void 0!==i.ocsp&&(t+="    ocsp: "+i.ocsp+"\n")}return t};if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+Ve(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Ve(t.e.toString(16))+"\n"),null!=(n=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var a=0;a<n.length;a++){var u=n[a],l=se.asn1.x509.OID.oid2name(u.oid);""===l&&(l=u.oid);var c="";if(!0===u.critical&&(c="CRITICAL"),e+="  "+l+" "+c+":\n","basicConstraints"===l){var h=this.getExtBasicConstraints();void 0===h.cA?e+="    {}\n":(e+="    cA=true",void 0!==h.pathLen&&(e+=", pathLen="+h.pathLen),e+="\n")}else{var p;if("policyMappings"==l)e+="    "+this.getExtPolicyMappings().array.map((function(e){var t=e;return t[0]+":"+t[1]})).join(", ")+"\n";else if("policyConstraints"==l)e+="    ",null!=(p=this.getExtPolicyConstraints()).reqexp&&(e+=" reqexp="+p.reqexp),null!=p.inhibit&&(e+=" inhibit="+p.inhibit),e+="\n";else if("inhibitAnyPolicy"==l)e+="    skip="+(p=this.getExtInhibitAnyPolicy()).skip+"\n";else if("keyUsage"==l)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"==l)e+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"==l){var d=this.getExtAuthorityKeyIdentifier();void 0!==d.kid&&(e+="    kid="+d.kid.hex+"\n")}else{if("extKeyUsage"==l)e+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n";else if("subjectAltName"==l)e+=r(this.getExtSubjectAltName())+"\n";else if("cRLDistributionPoints"==l)e+=o(this.getExtCRLDistributionPoints());else if("authorityInfoAccess"==l)e+=s(this.getExtAuthorityInfoAccess());else"certificatePolicies"==l&&(e+=i(this.getExtCertificatePolicies()))}}}}return e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n",e+="signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?this.readCertPEM(e):se.lang.String.isHex(e)&&this.readCertHex(e))}te.prototype.sign=function(e,t){var n=function(e){return se.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(n,t)},te.prototype.signWithMessageHash=function(e,t){var n=ee(se.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return nt(this.doPrivate(n).toString(16),this.n.bitLength())},te.prototype.signPSS=function(e,t,n){var r,i=(r=xe(e),se.crypto.Util.hashHex(r,t));return void 0===n&&(n=-1),this.signWithMessageHashPSS(i,t,n)},te.prototype.signWithMessageHashPSS=function(e,t,n){var r,i=we(e),o=i.length,s=this.n.bitLength()-1,a=Math.ceil(s/8),u=function(e){return se.crypto.Util.hashHex(e,t)};if(-1===n||void 0===n)n=o;else if(-2===n)n=a-o-2;else if(n<-2)throw new Error("invalid salt length");if(a<o+n+2)throw new Error("data too long");var l="";n>0&&(l=new Array(n),(new Z).nextBytes(l),l=String.fromCharCode.apply(String,l));var c=we(u(xe("\0\0\0\0\0\0\0\0"+i+l))),h=[];for(r=0;r<a-n-o-2;r+=1)h[r]=0;var p=String.fromCharCode.apply(String,h)+""+l,d=rt(c,p.length,u),f=[];for(r=0;r<p.length;r+=1)f[r]=p.charCodeAt(r)^d.charCodeAt(r);var g=65280>>8*a-s&255;for(f[0]&=~g,r=0;r<o;r++)f.push(c.charCodeAt(r));return f.push(188),nt(this.doPrivate(new w(f)).toString(16),this.n.bitLength())},te.prototype.verify=function(e,t){if(null==(t=t.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var n=ee(t,16),r=this.n.bitLength();if(n.bitLength()>r)return!1;var i=this.doPublic(n).toString(16);if(i.length+3!=r/4)return!1;var o=it(i.replace(/^1f+00/,""));if(0==o.length)return!1;var s=o[0];return o[1]==function(e){return se.crypto.Util.hashString(e,s)}(e)},te.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var n=ee(t,16);if(n.bitLength()>this.n.bitLength())return 0;var r=it(this.doPublic(n).toString(16).replace(/^1f+00/,""));if(0==r.length)return!1;r[0];return r[1]==e},te.prototype.verifyPSS=function(e,t,n,r){var i,o=(i=xe(e),se.crypto.Util.hashHex(i,n));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(o,t,n,r)},te.prototype.verifyWithMessageHashPSS=function(e,t,n,r){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,o=new w(t,16),s=function(e){return se.crypto.Util.hashHex(e,n)},a=we(e),u=a.length,l=this.n.bitLength()-1,c=Math.ceil(l/8);if(-1===r||void 0===r)r=u;else if(-2===r)r=c-u-2;else if(r<-2)throw new Error("invalid salt length");if(c<u+r+2)throw new Error("data too long");var h=this.doPublic(o).toByteArray();for(i=0;i<h.length;i+=1)h[i]&=255;for(;h.length<c;)h.unshift(0);if(188!==h[c-1])throw new Error("encoded message does not end in 0xbc");var p=(h=String.fromCharCode.apply(String,h)).substr(0,c-u-1),d=h.substr(p.length,u),f=65280>>8*c-l&255;if(0!=(p.charCodeAt(0)&f))throw new Error("bits beyond keysize not zero");var g=rt(d,p.length,s),m=[];for(i=0;i<p.length;i+=1)m[i]=p.charCodeAt(i)^g.charCodeAt(i);m[0]&=~f;var v=c-u-r-2;for(i=0;i<v;i+=1)if(0!==m[i])throw new Error("leftmost octets not zero");if(1!==m[v])throw new Error("0x01 marker not found");return d===we(s(xe("\0\0\0\0\0\0\0\0"+a+String.fromCharCode.apply(String,m.slice(-r)))))},te.SALT_LEN_HLEN=-1,te.SALT_LEN_MAX=-2,te.SALT_LEN_RECOVER=-2,ot.EXT_PARSER={},ot.registExtParser=function(e,t){ot.EXT_PARSER[e]=t},ot.hex2dn=function(e,t){void 0===t&&(t=0);var n=new ot;le.getTLV(e,t);return n.getX500Name(e).str},ot.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw new Error("malformed RDN");for(var n=new Array,r=le.getChildIdx(e,t),i=0;i<r.length;i++)n.push(ot.hex2attrTypeValue(e,r[i]));return(n=n.map((function(e){return e.replace("+","\\+")}))).join("+")},ot.hex2attrTypeValue=function(e,t){var n=le,r=n.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed attribute type and value");var i=n.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var o=r(e,i[0]),s=se.asn1.ASN1Util.oidHexToInt(o);return se.asn1.x509.OID.oid2atype(s)+"="+we(r(e,i[1]))},ot.getPublicKeyFromCertHex=function(e){var t=new ot;return t.readCertHex(e),t.getPublicKey()},ot.getPublicKeyFromCertPEM=function(e){var t=new ot;return t.readCertPEM(e),t.getPublicKey()},ot.getPublicKeyInfoPropOfCertPEM=function(e){var t,n,r=le.getVbyList,i={};return i.algparam=null,(t=new ot).readCertPEM(e),n=t.getPublicKeyHex(),i.keyhex=r(n,0,[1],"03").substr(2),i.algoid=r(n,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=r(n,0,[0,1],"06")),i},ot.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"];void 0!==se&&se||(se={}),void 0!==se.jws&&se.jws||(se.jws={}),se.jws.JWS=function(){var e=se.jws.JWS.isSafeJSONString;this.parseJWS=function(t,n){if(void 0===this.parsedJWS||!n&&void 0===this.parsedJWS.sigvalH){var r=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=r[1],o=r[2],s=r[3],a=i+"."+o;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=o,this.parsedJWS.sigvalB64U=s,this.parsedJWS.si=a,!n){var u=ve(s),l=ee(u,16);this.parsedJWS.sigvalH=u,this.parsedJWS.sigvalBI=l}var c=ue(i),h=ue(o);if(this.parsedJWS.headS=c,this.parsedJWS.payloadS=h,!e(c,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+c}}},se.jws.JWS.sign=function(e,t,n,r,i){var o,s,a,u=se,l=u.jws.JWS,c=l.readSafeJSONString,h=l.isSafeJSONString,p=u.crypto,d=(p.ECDSA,p.Mac),f=p.Signature,g=JSON;if("string"!=typeof t&&"object"!=typeof t)throw"spHeader must be JSON string or object: "+t;if("object"==typeof t&&(s=t,o=g.stringify(s)),"string"==typeof t){if(!h(o=t))throw"JWS Head is not safe JSON string: "+o;s=c(o)}if(a=n,"object"==typeof n&&(a=g.stringify(n)),""!=e&&null!=e||void 0===s.alg||(e=s.alg),""!=e&&null!=e&&void 0===s.alg&&(s.alg=e,o=g.stringify(s)),e!==s.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+s.alg;var m=null;if(void 0===l.jwsalg2sigalg[e])throw"unsupported alg name: "+e;m=l.jwsalg2sigalg[e];var v=ae(o)+"."+ae(a),y="";if("Hmac"==m.substr(0,4)){if(void 0===r)throw"mac key shall be specified for HS* alg";var b=new d({alg:m,prov:"cryptojs",pass:r});b.updateString(v),y=b.doFinal()}else if(-1!=m.indexOf("withECDSA")){(w=new f({alg:m})).init(r,i),w.updateString(v);var $=w.sign();y=se.crypto.ECDSA.asn1SigToConcatSig($)}else{var w;if("none"!=m)(w=new f({alg:m})).init(r,i),w.updateString(v),y=w.sign()}return v+"."+me(y)},se.jws.JWS.verify=function(e,t,n){var r,i=se,o=i.jws.JWS,s=o.readSafeJSONString,a=i.crypto,u=a.ECDSA,l=a.Mac,c=a.Signature;if(r=te,!Ue(e))return!1;var h=e.split(".");if(3!==h.length)return!1;var p=h[0]+"."+h[1],d=ve(h[2]),f=s(ue(h[0])),g=null,m=null;if(void 0===f.alg)throw"algorithm not specified in header";if((m=(g=f.alg).substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0)&&-1==(":"+n.join(":")+":").indexOf(":"+g+":"))throw"algorithm '"+g+"' not accepted in the list";if("none"!=g&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=tt.getKey(t)),!("RS"!=m&&"PS"!=m||t instanceof r))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==m&&!(t instanceof u))throw"key shall be a ECDSA obj for ES* algs";var v=null;if(void 0===o.jwsalg2sigalg[f.alg])throw"unsupported alg name: "+g;if("none"==(v=o.jwsalg2sigalg[g]))throw"not supported";if("Hmac"==v.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var y=new l({alg:v,pass:t});return y.updateString(p),d==y.doFinal()}if(-1!=v.indexOf("withECDSA")){var b,$=null;try{$=u.concatSigToASN1Sig(d)}catch(e){return!1}return(b=new c({alg:v})).init(t),b.updateString(p),b.verify($)}return(b=new c({alg:v})).init(t),b.updateString(p),b.verify(d)},se.jws.JWS.parse=function(e){var t,n,r,i=e.split("."),o={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[0],n=i[1],3==i.length&&(r=i[2]),o.headerObj=se.jws.JWS.readSafeJSONString(ue(t)),o.payloadObj=se.jws.JWS.readSafeJSONString(ue(n)),o.headerPP=JSON.stringify(o.headerObj,null,"  "),null==o.payloadObj?o.payloadPP=ue(n):o.payloadPP=JSON.stringify(o.payloadObj,null,"  "),void 0!==r&&(o.sigHex=ve(r)),o},se.jws.JWS.verifyJWT=function(e,t,n){var r=se.jws,i=r.JWS,o=i.readSafeJSONString,s=i.inArray,a=i.includedArray;if(!Ue(e))return!1;var u=e.split(".");if(3!=u.length)return!1;var l=u[0],c=u[1],h=(ve(u[2]),o(ue(l))),p=o(ue(c));if(void 0===h.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!s(h.alg,n.alg))return!1;if(void 0!==p.iss&&"object"==typeof n.iss&&!s(p.iss,n.iss))return!1;if(void 0!==p.sub&&"object"==typeof n.sub&&!s(p.sub,n.sub))return!1;if(void 0!==p.aud&&"object"==typeof n.aud)if("string"==typeof p.aud){if(!s(p.aud,n.aud))return!1}else if("object"==typeof p.aud&&!a(p.aud,n.aud))return!1;var d=r.IntDate.getNow();return void 0!==n.verifyAt&&"number"==typeof n.verifyAt&&(d=n.verifyAt),void 0!==n.gracePeriod&&"number"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==p.exp&&"number"==typeof p.exp&&p.exp+n.gracePeriod<d)&&(!(void 0!==p.nbf&&"number"==typeof p.nbf&&d<p.nbf-n.gracePeriod)&&(!(void 0!==p.iat&&"number"==typeof p.iat&&d<p.iat-n.gracePeriod)&&((void 0===p.jti||void 0===n.jti||p.jti===n.jti)&&!!i.verify(e,t,n.alg))))},se.jws.JWS.includedArray=function(e,t){var n=se.jws.JWS.inArray;if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t))return!1;return!0},se.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},se.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},se.jws.JWS.isSafeJSONString=function(e,t,n){var r=null;try{return"object"!=typeof(r=oe(e))||r.constructor===Array?0:(t&&(t[n]=r),1)}catch(e){return 0}},se.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=typeof(t=oe(e))||t.constructor===Array?null:t}catch(e){return null}},se.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},se.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var n=xe(t);return me(se.crypto.Util.hashHex(n,"sha256"))},se.jws.IntDate={},se.jws.IntDate.get=function(e){var t=se.jws.IntDate,n=t.getNow,r=t.getZulu;if("now"==e)return n();if("now + 1hour"==e)return n()+3600;if("now + 1day"==e)return n()+86400;if("now + 1month"==e)return n()+2592e3;if("now + 1year"==e)return n()+31536e3;if(e.match(/Z$/))return r(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},se.jws.IntDate.getZulu=function(e){return De(e)},se.jws.IntDate.getNow=function(){return~~(new Date/1e3)},se.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},se.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},void 0!==se&&se||(se={}),void 0!==se.jws&&se.jws||(se.jws={}),se.jws.JWSJS=function(){var e=se.jws.JWS,t=e.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(e){this.init();var t=e.split(".");if(3!=t.length)throw"malformed input JWS";this.aHeader.push(t[0]),this.sPayload=t[1],this.aSignature.push(t[2])},this.addSignature=function(e,t,n,r){if(void 0===this.sPayload||null===this.sPayload)throw"there's no JSON-JS signature to add.";var i=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var o=se.jws.JWS.sign(e,t,this.sPayload,n,r).split(".");o[0],o[2];this.aHeader.push(o[0]),this.aSignature.push(o[2])}catch(e){throw this.aHeader.length>i&&this.aHeader.pop(),this.aSignature.length>i&&this.aSignature.pop(),"addSignature failed: "+e}},this.verifyAll=function(e){if(this.aHeader.length!==e.length||this.aSignature.length!==e.length)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(2!==n.length)return!1;if(!1===this.verifyNth(t,n[0],n[1]))return!1}return!0},this.verifyNth=function(t,n,r){if(this.aHeader.length<=t||this.aSignature.length<=t)return!1;var i=this.aHeader[t],o=this.aSignature[t],s=i+"."+this.sPayload+"."+o,a=!1;try{a=e.verify(s,n,r)}catch(e){return!1}return a},this.readJWSJS=function(e){if("string"==typeof e){var n=t(e);if(null==n)throw"argument is not safe JSON object string";this.aHeader=n.headers,this.sPayload=n.payload,this.aSignature=n.signatures}else try{if(!(e.headers.length>0))throw"malformed header";if(this.aHeader=e.headers,"string"!=typeof e.payload)throw"malformed signatures";if(this.sPayload=e.payload,!(e.signatures.length>0))throw"malformed signatures";this.aSignature=e.signatures}catch(e){throw"malformed JWS-JS JSON object: "+e}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},t.SecureRandom=Z,t.rng_seed_time=G,t.BigInteger=w,t.RSAKey=te,t.ECDSA=se.crypto.ECDSA,t.DSA=se.crypto.DSA,t.Signature=se.crypto.Signature,t.MessageDigest=se.crypto.MessageDigest,t.Mac=se.crypto.Mac,t.KEYUTIL=tt,t.ASN1HEX=le,t.X509=ot,t.X509CRL=function(e){var t=se.lang.String.isHex,n=le,r=n.getV,i=n.getTLV,o=n.getVbyList,s=n.getTLVbyList,a=n.getTLVbyListEx,u=n.getIdxbyList,l=n.getIdxbyListEx,c=n.getChildIdx,h=new ot;this.hex=null,this.posSigAlg=null,this.posRevCert=null,this.parsed=null,this._setPos=function(){var e=u(this.hex,0,[0,0]),t=this.hex.substr(e,2);if("02"==t)this.posSigAlg=1;else{if("30"!=t)throw new Error("malformed 1st item of TBSCertList: "+t);this.posSigAlg=0}var n,r=u(this.hex,0,[0,this.posSigAlg+3]),i=this.hex.substr(r,2);if("17"==i||"18"==i)n=u(this.hex,0,[0,this.posSigAlg+4]),this.posRevCert=null,-1!=n&&"30"==this.hex.substr(n,2)&&(this.posRevCert=this.posSigAlg+4);else if("30"==i)this.posRevCert=this.posSigAlg+3;else{if("a0"!=i)throw new Error("malformed nextUpdate or revCert tag: "+i);this.posRevCert=null}},this.getVersion=function(){return 0==this.posSigAlg?null:parseInt(o(this.hex,0,[0,0],"02"),16)+1},this.getSignatureAlgorithmField=function(){var e=s(this.hex,0,[0,this.posSigAlg],"30");return h.getAlgorithmIdentifierName(e)},this.getIssuer=function(){return h.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return s(this.hex,0,[0,this.posSigAlg+1],"30")},this.getThisUpdate=function(){var e=o(this.hex,0,[0,this.posSigAlg+2]);return result=we(e)},this.getNextUpdate=function(){var e=u(this.hex,0,[0,this.posSigAlg+3]),t=this.hex.substr(e,2);return"17"!=t&&"18"!=t?null:we(r(this.hex,e))},this.getRevCertArray=function(){if(null==this.posRevCert)return null;for(var e=[],t=u(this.hex,0,[0,this.posRevCert]),n=c(this.hex,t),r=0;r<n.length;r++){var o=i(this.hex,n[r]);e.push(this.getRevCert(o))}return e},this.getRevCert=function(e){var t={},n=c(e,0);return t.sn={hex:o(e,0,[0],"02")},t.date=we(o(e,0,[1])),3==n.length&&(t.ext=h.getExtParamArray(s(e,0,[2]))),t},this.findRevCert=function(e){var t=new ot(e).getSerialNumberHex();return this.findRevCertBySN(t)},this.findRevCertBySN=function(e){if(null==this.parsed&&this.getParam(),null==this.parsed.revcert)return null;for(var t=this.parsed.revcert,n=0;n<t.length;n++)if(e==t[n].sn.hex)return t[n];return null},this.getSignatureValueHex=function(){return o(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),n=this.getSignatureValueHex(),r=s(this.hex,0,[0],"30"),i=new se.crypto.Signature({alg:t});return i.init(e),i.updateHex(r),i.verify(n)},this.getParam=function(e){var t={},n=this.getVersion();null!=n&&(t.version=n),t.sigalg=this.getSignatureAlgorithmField(),t.issuer=this.getIssuer(),t.thisupdate=this.getThisUpdate();var r=this.getNextUpdate();null!=r&&(t.nextupdate=r);var i=this.getRevCertArray();if(null!=i&&(t.revcert=i),-1!=l(this.hex,0,[0,"[0]"])){var o=a(this.hex,0,[0,"[0]",0]);t.ext=h.getExtParamArray(o)}return t.sighex=this.getSignatureValueHex(),this.parsed=t,"object"==typeof e&&(1==e.tbshex&&(t.tbshex=s(this.hex,0,[0])),1==e.nodnarray&&delete t.issuer.array),t},"string"==typeof e&&(t(e)?this.hex=e:e.match(/-----BEGIN X509 CRL/)&&(this.hex=Fe(e)),this._setPos())},t.CryptoJS=g,t.b64tohex=b,t.b64toBA=$,t.ECFieldElementFp=ne,t.ECPointFp=re,t.ECCurveFp=ie,t.stoBA=ce,t.BAtos=he,t.BAtohex=pe,t.stohex=de,t.stob64=function(e){return y(de(e))},t.stob64u=function(e){return fe(y(de(e)))},t.b64utos=function(e){return he($(ge(e)))},t.b64tob64u=fe,t.b64utob64=ge,t.hex2b64=y,t.hextob64u=me,t.b64utohex=ve,t.utf8tob64u=ae,t.b64utoutf8=ue,t.utf8tob64=function(e){return y(ke(Be(e)))},t.b64toutf8=function(e){return decodeURIComponent(Ie(b(e)))},t.utf8tohex=ye,t.hextoutf8=be,t.hextorstr=we,t.rstrtohex=xe,t.hextob64=Se,t.hextob64nl=function(e){return Ee(Se(e),64)},t.b64nltohex=Ae,t.hextopem=Ce,t.pemtohex=Fe,t.hextoArrayBuffer=function(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),n=new DataView(t),r=0;r<e.length/2;r++)n.setUint8(r,parseInt(e.substr(2*r,2),16));return t},t.ArrayBuffertohex=function(e){for(var t="",n=new DataView(e),r=0;r<e.byteLength;r++)t+=("00"+n.getUint8(r).toString(16)).slice(-2);return t},t.zulutomsec=Te,t.msectozulu=function(e){var t=new Date(e),n=("0000"+t.getUTCFullYear()).slice(-4),r=("00"+(t.getUTCMonth()+1)).slice(-2),i=("00"+t.getUTCDate()).slice(-2),o=("00"+t.getUTCHours()).slice(-2),s=("00"+t.getUTCMinutes()).slice(-2),a=("00"+t.getUTCSeconds()).slice(-2),u=("000"+t.getUTCMilliseconds()).slice(-3);return n+r+i+o+s+a+(u=""!=(u=u.replace(/0+$/,""))?"."+u:u)+"Z"},t.zulutosec=De,t.zulutodate=function(e){return new Date(Te(e))},t.datetozulu=function(e,t,n){var r,i=e.getUTCFullYear();if(t){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;r=(""+i).slice(-2)}else r=("000"+i).slice(-4);if(r+=("0"+(e.getUTCMonth()+1)).slice(-2),r+=("0"+e.getUTCDate()).slice(-2),r+=("0"+e.getUTCHours()).slice(-2),r+=("0"+e.getUTCMinutes()).slice(-2),r+=("0"+e.getUTCSeconds()).slice(-2),n){var o=e.getUTCMilliseconds();0!==o&&(r+="."+(o=(o=("00"+o).slice(-3)).replace(/0+$/g,"")))}return r+="Z"},t.uricmptohex=ke,t.hextouricmp=Ie,t.ipv6tohex=Pe,t.hextoipv6=Oe,t.hextoip=_e,t.iptohex=Le,t.ucs2hextoutf8=Me,t.encodeURIComponentAll=Be,t.newline_toUnix=function(e){return e=e.replace(/\r\n/gm,"\n")},t.newline_toDos=function(e){return e=(e=e.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},t.hextoposhex=Ve,t.intarystrtohex=function(e){e=(e=(e=e.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return e.split(/,/).map((function(e,t,n){var r=parseInt(e);if(r<0||255<r)throw"integer not in range 0-255";return("00"+r.toString(16)).slice(-2)})).join("")}catch(e){throw"malformed integer array string: "+e}},t.strdiffidx=function(e,t){var n=e.length;e.length>t.length&&(n=t.length);for(var r=0;r<n;r++)if(e.charCodeAt(r)!=t.charCodeAt(r))return r;return e.length!=t.length?n:-1},t.oidtohex=qe,t.hextooid=ze,t.strpad=We,t.bitstrtoint=Ye,t.inttobitstr=Xe,t.bitstrtobinstr=Je,t.binstrtobitstr=function(e){if("string"!=typeof e)return null;if(null==e.match(/^[01]+$/))return null;try{return Xe(parseInt(e,2))}catch(e){return null}},t.isBase64URLDot=Ue,t.namearraytobinstr=Qe,t.extendClass=et,t.foldnl=Ee,t.b64topem=function(e,t){return"-----BEGIN "+t+"-----\r\n"+Ee(e,64)+"\r\n-----END "+t+"-----\r\n"},t.pemtob64=function(e){return-1==e.indexOf("-----BEGIN ")||-1==e.indexOf("-----END ")?null:(e=(e=(e=e.replace(/^[\s\S]*?-----BEGIN [^-]+-----/m,"")).replace(/-----END [\s\S]+$/m,"")).replace(/\s+/g,"")).match(/^[0-9a-zA-Z+/=]+$/)?e:null},t.timeogen=Re,t.aryval=Ze,t.inttohex=Ke,t.twoscompl=Ge,t.KJUR=se,t.crypto=se.crypto,t.asn1=se.asn1,t.jws=se.jws,t.lang=se.lang,t.VERSION="11.0.0",t.VERSION_FULL="jsrsasign(all) 11.0.0 (2024-01-16) (c) 2010-2023 Kenji Urushima | kjur.github.io/jsrsasign/license"}).call(this,n(247).Buffer)},50:function(e,t){function n(e,t){const n={theme:"default-theme",mode:"light"},r=()=>{let r=e.get(t.WORKBENCH_SETTINGS);return r||(r=n),r};return{getWorkbenchSettings:r,saveWorkbenchSettings:n=>{e.set(t.WORKBENCH_SETTINGS,n)},getThemeName:()=>{const e=r();if(e&&e.theme)return e.theme},saveTheme:n=>{const i=r();i.theme=n,e.set(t.WORKBENCH_SETTINGS,i)}}}angular.module("graphdb.framework.utils.workbenchsettingsstorageservice",[]).factory("WorkbenchSettingsStorageService",n),n.$inject=["LocalStorageAdapter","LSKeys"]},51:function(e,t){angular.module("graphdb.framework.core.services.autocompleteStatus",[]).service("$autocompleteStatus",["$rootScope","AutocompleteRestService","LocalStorageAdapter","LSKeys","$repositories",function(e,t,n,r,i){const o=this;this.setAutocompleteStatus=function(t){n.set(r.AUTOCOMPLETE_ENABLED,t),e.$broadcast("autocompleteStatus",t)},e.$watch((function(){return n.get(r.AUTOCOMPLETE_ENABLED)}),(function(e){o.setAutocompleteStatus(e)}),!0),e.$on("repositoryIsSet",(function(){!i.getActiveRepository()||i.isActiveRepoOntopType()||i.isActiveRepoFedXType()||t.checkAutocompleteStatus().success((function(e){o.setAutocompleteStatus(e)}))}))}])},52:function(e,t){angular.module("graphdb.framework.guides.directives",[]).directive("guideSelector",(function(){return{}}))},53:function(e,t){
/**
 * angular-cancel-on-navigate - AngularJS module that cancels HTTP requests on location change (navigation)
 * @version v0.1.0
 * @link https://github.com/AlbertBrand/angular-cancel-on-navigate
 * @license MIT
 *
 * ONTO: This helps with keeping the angular ajax pool under control when a big repo is being initialized
 * and an impatient user is clicking around the Workbench.
 */
angular.module("angularCancelOnNavigateModule",[]).config(["$httpProvider",function(e){e.interceptors.push("HttpRequestTimeoutInterceptor")}]).run(["$rootScope","HttpPendingRequestsService",function(e,t){e.$on("$locationChangeSuccess",(function(e,n,r){const i=new URL(n),o=new URL(r);i.origin===o.origin&&i.pathname===o.pathname||t.cancelAll()}))}]),angular.module("angularCancelOnNavigateModule").service("HttpPendingRequestsService",["$q",function(e){const t=[];return{newTimeout:function(){const n=e.defer();return t.push(n),n.promise},cancelAll:function(){angular.forEach(t,(function(e){e.promise.isGloballyCancelled=!0,e.resolve()})),t.length=0}}}]),angular.module("angularCancelOnNavigateModule").factory("HttpRequestTimeoutInterceptor",["$q","HttpPendingRequestsService",function(e,t){return{request:function(e){const n=e||{};return void 0!==n.timeout||n.noCancelOnRouteChange||(n.timeout=t.newTimeout()),n},responseError:function(t){return t.config.timeout&&t.config.timeout.isGloballyCancelled?e.defer().promise:e.reject(t)}}}])},54:function(e,t,n){"use strict";n.r(t);var r=n(0);function i(e,t,n,i,o,s,a,u,l,c){return{templateUrl:"js/angular/core/directives/rdfresourcesearch/templates/rdfResourceSearchTemplate.html",restrict:"AE",link:function(o,h){function p(){u.isLicenseValid()&&(o.getAutocompletePromise=n.checkAutocompleteStatus())}function d(e){"search-box"===e.target.id||$(e.target).closest("#search-box").length||o.hideInput()}o.$on("autocompleteStatus",(function(){p()})),o.$on("repositoryIsSet",(function(){o.getActiveRepository()&&(o.getNamespacesPromise=i.getNamespaces(o.getActiveRepository()).success((function(){p()})))})),o.getActiveRepository=function(){return s.getActiveRepository()},o.showInput=function(){new Promise(e=>{h.find(".search-rdf-btn").addClass("hidden-xs-up"),h.find(".search-rdf-input").addClass("show-rdf-search-box"),t((function(){h.find(".close-rdf-search-btn").removeClass("hidden-xs-up"),h.find("search-resource-input .view-res-input").focus(),window.addEventListener("mousedown",d)}),200),o.isHomePage()?($("#search-resource-input-home input").focus(),l.info(Object(r.decodeHTML)(c.instant("search.resource.current.page.msg")),c.instant("search.resources.msg"),{allowHtml:!0})):(h.find(".search-rdf-btn").addClass("hidden-xs-up"),h.find(".search-rdf-input").addClass("show-rdf-search-box"),t((function(){h.find(".close-rdf-search-btn").removeClass("hidden-xs-up"),h.find("search-resource-input .view-res-input").focus(),window.addEventListener("mousedown",d)}),200)),setTimeout(()=>{e(!0)})}).then((function(){e.$broadcast("rdfResourceSearchExpanded")}))},o.hideInput=function(){h.find(".search-rdf-input").removeClass("show-rdf-search-box"),h.find(".close-rdf-search-btn").addClass("hidden-xs-up"),t((function(){h.find(".search-rdf-btn").removeClass("hidden-xs-up"),h.blur(),window.removeEventListener("mousedown",d)}),200)},o.onKeyDown=function(e){27===e.keyCode&&o.hideInput()},o.isHomePage=function(){return"/"===a.url()},o.isNotLoading=function(){return!o.isLoadingLocation()||o.isLoadingLocation()&&"/repository"===a.url()}}}}angular.module("graphdb.framework.core.directives.rdfresourcesearch.rdfresourcesearch",[]).directive("rdfResourceSearch",i),i.$inject=["$rootScope","$timeout","AutocompleteRestService","RDF4JRepositoriesRestService","RepositoriesRestService","$repositories","$location","$licenseService","toastr","$translate"]},55:function(e,t,n){"use strict";n.r(t);n(10),n(15);function r(e,t,n,r,i){return{templateUrl:"js/angular/core/directives/languageselector/templates/languageSelector.html",restrict:"E",link:function(o){const s=t.get(n.PREFERRED_LANG),a=navigator.languages;o.selectedLang={},o.languages=[{key:"en",name:"English"},{key:"fr",name:"FranÃ§ais"}],e.fallbackLanguage("en"),o.changeLanguage=function(s){if(r.getLanguage()!==s.key){const a={locale:s.key,cancel:!1};i.emit("before-language-change",a,i=>{i&&i.cancel||function(i){o.selectedLang=i,e.use(i.key),t.set(n.PREFERRED_LANG,i.key),r.setLanguage(o.selectedLang.key),o.$broadcast("language-changed",{locale:i.key})}(s)})}},o.getLanguageTooltip=function(t){return t&&o.selectedLang?o.selectedLang.key!==t.key?e.instant("change.language.tooltip",{},void 0,t.key)+" "+t.name:e.instant("current.language.tooltip",{},void 0,t.key):""},new Promise(e=>{if(s)o.selectedLang=o.languages.find(e=>e.key===s);else if(a)for(let e of a)if(o.selectedLang=o.languages.find(t=>t.key===e),o.selectedLang)break;setTimeout(()=>{e(!0)})}).then((function(){o.selectedLang||(o.selectedLang=o.languages.find(e=>"en"===e.key)),e.use(o.selectedLang.key),r.setLanguage(o.selectedLang.key)}))}}}angular.module("graphdb.framework.core.directives.languageselector.languageselector",["graphdb.framework.utils.localstorageadapter","graphdb.framework.utils.event-emitter-service"]).directive("languageSelector",r).service("$languageService",[function(){this.language="en",this.setLanguage=function(e){this.language=e},this.getLanguage=function(){return this.language}}]),r.$inject=["$translate","LocalStorageAdapter","LSKeys","$languageService","EventEmitterService"]},56:function(e,t){function n(e,t){return{template:'<button class="copy-btn" gdb-tooltip="{{tooltipText | translate}}" ng-click="copyToClipboard()"><span class="icon-copy"></span></button>',restrict:"E",scope:{tooltipText:"@"},link:function(n,r){n.copyToClipboard=function(){const n=r.parent().find(".copyable").text();navigator.clipboard.writeText(n).then(()=>{t.success(e.instant("import.help.messages.copied_to_clipboard"))},e=>{console.error("Could not copy text: ",e)})}}}}angular.module("graphdb.framework.core.directives.copytoclipboard.copytoclipboard",[]).directive("copyToClipboard",n),n.$inject=["$translate","toastr"]},57:function(e,t){function n(e,t){return{restrict:"A",scope:{gdbTooltip:"@",fixedPosition:"=",titleClass:"@",showTrigger:"=",hideTrigger:"="},link:function(n,r,i){let o="mouseenter",s="mouseleave";i.showTrigger&&(o=i.showTrigger),i.hideTrigger&&(s=i.hideTrigger),n.createTooltip=function(e){i.gdbTooltip&&(n.tooltipElement=angular.element("<div>").addClass("angular-tooltip").addClass(n.titleClass),angular.element(document).find("body").append(n.tooltipElement),n.updateTooltip(i.gdbTooltip),n.tooltipElement.addClass("angular-tooltip-fade-in"))},n.updateTooltip=function(i){n.tooltipElement.html(i),t(n.tooltipElement.contents())(n),function e(t={}){const r=n.calculatePosition(n.tooltipElement,n.getDirection());n.tooltipElement.addClass("angular-tooltip-"+r.direction).css(r),t.left===r.left&&t.top===r.top||e(r)}(),e((function(){r.removeAttr("ng-attr-title"),r.removeAttr("title")}))},n.$watch("gdb-tooltip",(function(e){n.tooltipElement&&n.updateTooltip(e)})),n.removeTooltip=function(){angular.element(document.querySelectorAll(".angular-tooltip")).remove()},n.getDirection=function(){return r.attr("tooltip-placement")||"top"},n.calculatePosition=function(e,t){const i=e[0].getBoundingClientRect(),o=r[0].getBoundingClientRect(),s=window.scrollX||document.documentElement.scrollLeft,a=window.scrollY||document.documentElement.scrollTop,u={};let l=null;return n.stringStartsWith(t,"left")?u.left=o.left-i.width-6+s:n.stringStartsWith(t,"right")?u.left=o.left+o.width+6+s:n.stringContains(t,"left")?u.left=o.left-i.width+12+s:n.stringContains(t,"right")?u.left=o.left+o.width-12+s:u.left=o.left+o.width/2-i.width/2+s,n.stringStartsWith(t,"top")?u.top=o.top-i.height-6+a:n.stringStartsWith(t,"bottom")?u.top=o.top+o.height+6+a:n.stringContains(t,"top")?u.top=o.top-i.height+12+a:n.stringContains(t,"bottom")?u.top=o.top+o.height-12+a:u.top=o.top+o.height/2-i.height/2+a,n.fixedPosition&&(u.left<s?l=t.replace("left","right"):u.left+i.width>window.innerWidth+s&&(l=t.replace("right","left")),u.top<a?l=t.replace("top","bottom"):u.top+i.height>window.innerHeight+a&&(l=t.replace("bottom","top")),l)?n.calculatePosition(e,l):(u.left+="px",u.top+="px",u.direction=t,u)},n.stringStartsWith=function(e,t){return e.substr(0,t.length)===t},n.stringContains=function(e,t){return-1!==e.indexOf(t)},i.gdbTooltip?(r.on(o,n.createTooltip),r.on(s,n.removeTooltip)):(r.off(o,n.createTooltip),r.off(s,n.removeTooltip)),r.on("destroy",n.removeTooltip),n.$on("$destroy",n.removeTooltip)}}}angular.module("graphdb.framework.core.directives.angular-tooltips",[]).directive("gdbTooltip",n),n.$inject=["$timeout","$compile"]},58:function(e,t){angular.module("graphdb.framework.core.directives.uppercased",[]).directive("uppercased",(function(){return{require:"ngModel",link:function(e,t,n,r){r.$parsers.push((function(e){return e?e.toUpperCase():""})),t.css("text-transform","uppercase")}}}))},59:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(4),o=n(3),s=n(25);function a(e,t,n,a){return{restrict:"E",templateUrl:"js/angular/core/directives/operations-statuses-monitor/templates/operations-statuses-monitor.html",link:function(l){l.OPERATION_STATUS=i.OPERATION_STATUS,l.OPERATION_GROUP_TYPE=r.OPERATION_GROUP_TYPE,l.OPERATION_TYPE=o.OPERATION_TYPE,l.operationsSummary=void 0,l.activeOperations=void 0;let c=void 0,h=!1,p=0;const d=s.SequenceGeneratorUtil.getFibonacciSequenceGenerator(),f=e=>{if(l.activeOperations.operations)return l.activeOperations.operations.reduce((t,n)=>e!==n.operationGroup||r.OPERATION_GROUP_TYPE.CLUSTER_OPERATION===n.operationGroup||r.OPERATION_GROUP_TYPE.BACKUP_AND_RESTORE_OPERATION===n.operationGroup?t:r.OPERATION_GROUP_TYPE.QUERIES_OPERATION===n.operationGroup||r.OPERATION_GROUP_TYPE.IMPORT_OPERATION===n.operationGroup?t+n.runningOperationCount:t+1,0)},g=e=>l.activeOperations.operations.reduce((t,n)=>e!==n.operationGroup?t:i.OPERATION_STATUS_SORT_ORDER.getOrder(n.status)>i.OPERATION_STATUS_SORT_ORDER.getOrder(t)?n.status:t,i.OPERATION_STATUS.INFORMATION),m=e=>{if(angular.equals(l.activeOperations,e))return;l.activeOperations=e,l.activeOperations.operations.sort((e,t)=>o.OPERATION_TYPE_SORT_ORDER[e.type]-o.OPERATION_TYPE_SORT_ORDER[t.type]);const t=[],n=[];l.activeOperations.operations.forEach(e=>{const r=e.operationGroup;n.includes(r)||(n.push(r),t.push((e=>{const t=f(e);return new u(e,t,g(e))})(r)))}),l.operationsSummary=t},v=()=>{if(!a.isAuthenticated()||h)return void(l.activeOperations=void 0);if(p>0)return void p--;const e=t.getActiveRepository();e&&n.monitorActiveOperations(e).then(e=>{m(e),d.reset(),p=0}).catch(()=>p=d.next()).finally(()=>h=!1)};l.$on("$destroy",()=>{c&&e.cancel(c)}),v(),c=e(()=>v(),2e3)}}}angular.module("graphdb.framework.core.directives.operationsstatusesmonitor",[]).directive("operationsStatusesMonitor",a),a.$inject=["$interval","$repositories","MonitoringRestService","$jwtAuth"];class u{constructor(e,t,n){this.type=e,this.runningOperations=t,this.status=n}}},6:function(e,t,n){"use strict";n.r(t),n.d(t,"UserType",(function(){return i})),n.d(t,"UserRole",(function(){return r})),n.d(t,"UserUtils",(function(){return o}));const r=Object.freeze({ROLE_ADMIN:"ROLE_ADMIN",ROLE_USER:"ROLE_USER",ROLE_REPO_MANAGER:"ROLE_REPO_MANAGER",ROLE_MONITORING:"ROLE_MONITORING"}),i=Object.freeze({ADMIN:"admin",USER:"user",REPO_MANAGER:"repoManager"}),o={getUserRoleName:function(e){switch(e){case i.USER:return"User";case i.REPO_MANAGER:return"Repository manager";case i.ADMIN:return"Administrator";default:return"Unknown"}}}},60:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(26);function o(e,t,n,o,s,a,u,l,c){return{restrict:"E",require:"ngModel",scope:{ngModel:"=",namespaces:"=",autocompleteStatusLoader:"=",placeholder:"@",styleClass:"@",multiline:"@",defaultresults:"=",onModelChange:"&",keypress:"&",required:"=?",validateUri:"=?",validateSimpleRdfStarValue:"=?",validateLiteralValue:"=?",validateDefaultValue:"=?"},templateUrl:"js/angular/core/directives/autocomplete/templates/autocomplete.html",link:function(e,h,p,d){let f,g,m=h.find(".autocomplete-input");e.searchInput=e.ngModel||"",e.placeholder=p.$attr.placeholder||l.instant("search.resources.msg"),h.autoCompleteStatus=void 0,h.autoCompleteWarning=!1,e.onBlur=()=>{setTimeout(()=>{e.autoCompleteUriResults=[]},0)},e.onChange=()=>(e.searchInput=y(e.searchInput),h.autoCompleteStatus?A(e.searchInput):Promise.resolve()),e.onKeyDown=n=>{if("Enter"===n.key)n.preventDefault(),E()?S():e.keypress({$event:n});else if(e.searchInput&&e.searchInput.length>0&&!h.autoCompleteWarning&&!h.autoCompleteStatus){h.autoCompleteWarning=!0;const e=Object(r.decodeHTML)(l.instant("explore.autocomplete.warning.msg"));t.warning("",`<div class="autocomplete-toast"><a href="autocomplete">${e}</a></div>`,{allowHtml:!0})}h.autoCompleteStatus&&!angular.isUndefined(e.autoCompleteUriResults)&&("ArrowDown"===n.key&&e.activeSearchElm<e.autoCompleteUriResults.length-1&&(e.activeSearchElm++,C()),"ArrowUp"===n.key&&e.activeSearchElm>0&&(n.preventDefault(),e.activeSearchElm--,F()),"Escape"===n.key&&(e.autoCompleteUriResults=[]),e.searchInput||x())},e.getResultItemHtml=e=>a.trustAsHtml(e.description),e.selectResource=t=>{"prefix"===t.type?(e.searchInput=y(t.value+":"),m.focus(),e.onChange()):"default"===t.type?(e.searchInput=t.value,e.autoCompleteUriResults=[],m.focus()):t&&"string"==typeof t&&v(t)?(e.searchInput=t,e.autoCompleteUriResults=[]):(e.searchInput="<"+t.value+">",e.autoCompleteUriResults=[])},e.setActiveItemIndex=t=>{h.autoCompleteStatus&&(e.activeSearchElm=t)},e.positionAutocompleteWrapper=function(e){c(()=>{const t=h.find(".autocomplete-results-wrapper"),n=t.get(0);if(e)return n.style.left="auto",void(n.style.right="auto");if(n&&"auto"!==n.style.right)return;const r=t.parent().find(".autocomplete-select")[0].getBoundingClientRect(),i=document.body.getElementsByClassName("edit-rule-row")[0].getBoundingClientRect(),o=document.body.getBoundingClientRect(),s=n.getBoundingClientRect();if(n&&s.right>=o.width){const e=i.right-r.right;n.style.left="auto",n.style.right=`-${e}px`}else n&&s.right<o.width&&(n.style.right="auto",n.style.left="0px")},0)},e.$watch("autoCompleteUriResults",(function(t){const n=!t||t&&0===t.length;e.positionAutocompleteWrapper(n)})),d.$validators.custom=function(t){return!(e.validateUri||e.validateLiteralValue||e.validateDefaultValue)||(e.validateUri&&v(t)||e.validateSimpleRdfStarValue&&b(t)||e.validateLiteralValue&&w(t)||e.validateDefaultValue&&$(t)?(h.find(".autocomplete-editable").removeClass("invalid"),!0):(h.find(".autocomplete-editable").addClass("invalid"),!1))};const v=e=>{const t=e.indexOf("<")>=0&&e.indexOf(">")>=0,n=-1===e.indexOf("<")&&-1===e.lastIndexOf(">"),r=/^<?(http|urn).*>?/.test(e)&&(t||n);let i=!1;if(r)if(e.indexOf("http")>=0){const t=e.indexOf("//");i=t>4&&e.substring(t+2).length>0}else e.indexOf("urn")>=0&&(i=e.substring(4).length>0);return r&&i},y=t=>{if(!t)return;if(!/^<?(http|urn).*>?/.test(t)){const r=t.split(":"),i=r[0],o=r[1];if(!angular.isUndefined(o)){const t=n.getNamespaceUriForPrefix(e.namespaces,i);if(f=t!==f?t:f,f)return m.val(f),"<"+f+o+">"}}return t},b=e=>/^<<.*>>$/.test(e),$=t=>e.defaultresults.some(e=>e.value===t),w=e=>/^"([^"\\]*(?:\\.[^"\\]*)*)"(@[a-zA-Z]+(-[a-zA-Z0-9]+)*)?(\^\^[^\s]+)?$/.test(e),x=()=>{e.searchInput="",e.selectedElementIndex=-1,e.autoCompleteUriResults=[]},S=()=>{if(E())if("prefix"===e.autoCompleteUriResults[e.activeSearchElm].type)e.searchInput=y(e.autoCompleteUriResults[e.activeSearchElm].value+":"),e.autoCompleteUriResults=[];else{const t=e.autoCompleteUriResults[e.activeSearchElm];e.selectResource({type:t.type,value:t.value,description:t.description})}else{const n=e.searchInput;v(n)?e.selectResource(n):t.error(l.instant("invalid.uri.msg"))}},E=()=>h.autoCompleteStatus&&e.autoCompleteUriResults&&e.autoCompleteUriResults.length>0,A=t=>{if(!t)return;let n=t.replace(f,f+";");return h.autoCompleteStatus?(";"===n.charAt(0)&&(n=n.slice(1)),n=(e=>{let t=e;if(-1===t.indexOf(";")&&v(t)){t=t.replace(/<|>/g,"");const e=/[^/^#]*$/.exec(t)[0];return t.split(e)[0]+";"+e}return t})(n),g&&g.resolve(),g=s.defer(),o.getAutocompleteSuggestions(n,g.promise).then(i.mapUriAsNtripleAutocompleteResponse).then(t=>{g=null,e.defaultresults&&e.defaultresults.length>0?e.autoCompleteUriResults=D(e.defaultresults,e.searchInput,t):e.autoCompleteUriResults=t,e.activeSearchElm=0})):Promise.resolve()},C=()=>{const e=h.find(".autocomplete-results-wrapper"),t=e.children("div"),n=e.children("div.active");void 0!==n[0]&&n[0].offsetTop-t.height()-6-e.scrollTop()>90&&e.scrollTop(n[0].offsetTop-t.height()-6-90)},F=()=>{const e=h.find(".autocomplete-results-wrapper"),t=e.children("div"),n=e.children("div.active");void 0!==n[0]&&n[0].offsetTop-t.height()+6<=e.scrollTop()-34&&e.scrollTop(e.scrollTop()-34)},T=[];T.push(e.$watch("autocompleteStatusLoader",()=>{!u.isActiveRepoFedXType()&&angular.isDefined(e.autocompleteStatusLoader)&&e.autocompleteStatusLoader.then(t=>{h.autoCompleteStatus=!!t.data,""===e.searchInput||e.ngModel||e.onChange()}).catch(()=>{t.error(l.instant("explore.error.autocomplete"))})})),T.push(e.$watch("searchInput",t=>{e.autoexpand&&e.adjustTextareaHeight();e.ngModel=t,e.onModelChange()})),T.push(e.$on("$destroy",()=>{T.forEach(e=>e())})),e.isMultiline="true"===p.multiline,e.isMultiline&&(m=h.find(".autocomplete-textarea"));e.initialRows=p.initialRows||1,e.autoexpand=p.autoexpand||!1,e.adjustTextareaHeight=()=>{e.isMultiline&&c(()=>{const e=m[0];e.style.overflow="hidden",e.style.height="0px",e.style.height=e.scrollHeight+"px"},0)};const D=(e,t,n)=>e.filter(e=>e&&e.value.toLowerCase().includes(t.toLowerCase())).map(e=>({type:e.type,value:e.value,description:R(l.instant(e.description),t)})).concat(n),R=(e,t)=>{const n=e.toLowerCase().indexOf(t.toLowerCase());if(-1===n)return e;const r=n+t.length;return e.substring(0,n)+"<b>"+e.substring(n,r)+"</b>"+e.substring(r)}}}}angular.module("graphdb.framework.core.directives.autocomplete",[]).directive("autocomplete",o),o.$inject=["$location","toastr","ClassInstanceDetailsService","AutocompleteRestService","$q","$sce","$repositories","$translate","$timeout"]},61:function(e,t){function n(){return{restrict:"A",scope:{propIndeterminate:"="},link:(e,t,n)=>{const r=[];r.push(e.$watch("propIndeterminate",()=>{t.prop("indeterminate",!!e.propIndeterminate)}));e.$on("$destroy",()=>{r.forEach(e=>e())})}}}angular.module("graphdb.framework.core.directives.prop-indeterminate",[]).directive("propIndeterminate",n),n.$inject=[]},62:function(e,t){var n;
/*! 12.2.13 */
!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=(n=window.XMLHttpRequest.prototype.setRequestHeader,function(e,t){if("__setXHR_"===e){var r=t(this);r instanceof Function&&r(this)}else n.apply(this,arguments)}));var r=angular.module("ngFileUpload",[]);r.version="12.2.13",r.service("UploadBase",["$http","$q","$timeout",function(e,t,n){function i(r){function i(e){l.notify&&l.notify(e),c.progressFunc&&n((function(){c.progressFunc(e)}))}function o(e){return null!=r._start&&a?{loaded:e.loaded+r._start,total:r._file&&r._file.size||e.total,type:e.type,config:r,lengthComputable:!0,target:e.target}:e}function u(){e(r).then((function(e){if(a&&r._chunkSize&&!r._finished&&r._file){var t=r._file&&r._file.size||0;i({loaded:Math.min(r._end,t),total:t,config:r,type:"progress"}),s.upload(r,!0)}else r._finished&&delete r._finished,l.resolve(e)}),(function(e){l.reject(e)}),(function(e){l.notify(e)}))}r.method=r.method||"POST",r.headers=r.headers||{};var l=r._deferred=r._deferred||t.defer(),c=l.promise;return r.disableProgress||(r.headers.__setXHR_=function(){return function(e){e&&e.upload&&e.upload.addEventListener&&(r.__XHR=e,r.xhrFn&&r.xhrFn(e),e.upload.addEventListener("progress",(function(e){e.config=r,i(o(e))}),!1),e.upload.addEventListener("load",(function(e){e.lengthComputable&&(e.config=r,i(o(e)))}),!1))}}),a?r._chunkSize&&r._end&&!r._finished?(r._start=r._end,r._end+=r._chunkSize,u()):r.resumeSizeUrl?e.get(r.resumeSizeUrl).then((function(e){r._start=r.resumeSizeResponseReader?r.resumeSizeResponseReader(e.data):parseInt((null==e.data.size?e.data:e.data.size).toString()),r._chunkSize&&(r._end=r._start+r._chunkSize),u()}),(function(e){throw e})):r.resumeSize?r.resumeSize().then((function(e){r._start=e,r._chunkSize&&(r._end=r._start+r._chunkSize),u()}),(function(e){throw e})):(r._chunkSize&&(r._start=0,r._end=r._start+r._chunkSize),u()):u(),c.success=function(e){return c.then((function(t){e(t.data,t.status,t.headers,r)})),c},c.error=function(e){return c.then(null,(function(t){e(t.data,t.status,t.headers,r)})),c},c.progress=function(e){return c.progressFunc=e,c.then(null,null,(function(t){e(t)})),c},c.abort=c.pause=function(){return r.__XHR&&n((function(){r.__XHR.abort()})),c},c.xhr=function(e){return r.xhrFn=function(t){return function(){t&&t.apply(c,arguments),e.apply(c,arguments)}}(r.xhrFn),c},s.promisesCount++,c.finally&&c.finally instanceof Function&&c.finally((function(){s.promisesCount--})),c}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var s=this;s.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var a=this.isResumeSupported();this.isUploadInProgress=function(){return s.promisesCount>0},this.rename=function(e,t){return e.ngfName=t,e},this.jsonBlob=function(e){null==e||angular.isString(e)||(e=JSON.stringify(e));var t=new window.Blob([e],{type:"application/json"});return t._ngfBlob=!0,t},this.json=function(e){return angular.toJson(e)},this.isFile=function(e){return null!=e&&(e instanceof window.Blob||e.flashId&&e.name&&e.size)},this.upload=function(e,t){function n(t,n){if(t._ngfBlob)return t;if(e._file=e._file||t,null!=e._start&&a){e._end&&e._end>=t.size&&(e._finished=!0,e._end=t.size);var r=t.slice(e._start,e._end||t.size);return r.name=t.name,r.ngfName=t.ngfName,e._chunkSize&&(n.append("_chunkSize",e._chunkSize),n.append("_currentChunkSize",e._end-e._start),n.append("_chunkNumber",Math.floor(e._start/e._chunkSize)),n.append("_totalSize",e._file.size)),r}return t}function r(t,i,o){if(void 0!==i)if(angular.isDate(i)&&(i=i.toISOString()),angular.isString(i))t.append(o,i);else if(s.isFile(i)){var a=n(i,t),u=o.split(",");u[1]&&(a.ngfName=u[1].replace(/^\s+|\s+$/g,""),o=u[0]),e._fileKey=e._fileKey||o,t.append(o,a,a.ngfName||a.name)}else if(angular.isObject(i)){if(i.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+o;i.$$ngfCircularDetection=!0;try{for(var l in i)if(i.hasOwnProperty(l)&&"$$ngfCircularDetection"!==l){var c=null==e.objectKey?"[i]":e.objectKey;i.length&&parseInt(l)>-1&&(c=null==e.arrayKey?c:e.arrayKey),r(t,i[l],o+c.replace(/[ik]/g,l))}}finally{delete i.$$ngfCircularDetection}}else t.append(o,i)}return t||(e=o(e)),e._isDigested||(e._isDigested=!0,e._chunkSize=s.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push((function(t){var n,i=new window.FormData;for(n in t=t||e.fields||{},e.file&&(t.file=e.file),t)if(t.hasOwnProperty(n)){var o=t[n];e.formDataAppender?e.formDataAppender(i,n,o):r(i,o,n)}return i}))),i(e)},this.http=function(t){return(t=o(t)).transformRequest=t.transformRequest||function(t){return window.ArrayBuffer&&t instanceof window.ArrayBuffer||t instanceof window.Blob?t:e.defaults.transformRequest[0].apply(this,arguments)},t._chunkSize=s.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,i(t)},this.translateScalars=function(e){if(angular.isString(e)){if(e.search(/kb/i)===e.length-2)return parseFloat(1024*e.substring(0,e.length-2));if(e.search(/mb/i)===e.length-2)return parseFloat(1048576*e.substring(0,e.length-2));if(e.search(/gb/i)===e.length-2)return parseFloat(1073741824*e.substring(0,e.length-2));if(e.search(/b/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/s/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/m/i)===e.length-1)return parseFloat(60*e.substring(0,e.length-1));if(e.search(/h/i)===e.length-1)return parseFloat(3600*e.substring(0,e.length-1))}return e},this.urlToBlob=function(n){var r=t.defer();return e({url:n,method:"get",responseType:"arraybuffer"}).then((function(e){var t=new Uint8Array(e.data),i=e.headers("content-type")||"image/WebP",o=new window.Blob([t],{type:i}),s=n.match(/.*\/(.+?)(\?.*)?$/);s.length>1&&(o.name=s[1]),r.resolve(o)}),(function(e){r.reject(e)})),r.promise},this.setDefaults=function(e){this.defaults=e||{}},this.defaults={},this.version=r.version}]),r.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(e,t,n,r,i){function o(e,t,n){var i=[u.emptyPromise()];return angular.forEach(e,(function(r,o){0===r.type.indexOf("image/jpeg")&&u.attrGetter("ngfFixOrientation",t,n,{$file:r})&&i.push(u.happyPromise(u.applyExifRotation(r),r).then((function(t){e.splice(o,1,t)})))})),r.all(i)}function s(e,t,n,i){var o=u.attrGetter("ngfResize",t,n);if(!o||!u.isResizeSupported()||!e.length)return u.emptyPromise();if(o instanceof Function){var s=r.defer();return o(e).then((function(r){a(r,e,t,n,i).then((function(e){s.resolve(e)}),(function(e){s.reject(e)}))}),(function(e){s.reject(e)}))}return a(o,e,t,n,i)}function a(e,t,n,i,o){function s(r,s){if(0===r.type.indexOf("image")){if(e.pattern&&!u.validatePattern(r,e.pattern))return;e.resizeIf=function(e,t){return u.attrGetter("ngfResizeIf",n,i,{$width:e,$height:t,$file:r})};var l=u.resize(r,e);a.push(l),l.then((function(e){t.splice(s,1,e)}),(function(e){r.$error="resize",(r.$errorMessages=r.$errorMessages||{}).resize=!0,r.$errorParam=(e?(e.message?e.message:e)+": ":"")+(r&&r.name),o.$ngfValidations.push({name:"resize",valid:!1}),u.applyModelValidation(o,t)}))}}for(var a=[u.emptyPromise()],l=0;l<t.length;l++)s(t[l],l);return r.all(a)}var u=i;return u.getAttrWithDefaults=function(e,t){if(null!=e[t])return e[t];var n=u.defaults[t];return null==n||angular.isString(n)?n:JSON.stringify(n)},u.attrGetter=function(t,n,r,i){var o=this.getAttrWithDefaults(n,t);if(!r)return o;try{return i?e(o)(r,i):e(o)(r)}catch(e){if(t.search(/min|max|pattern/i))return o;throw e}},u.shouldUpdateOn=function(e,t,n){var r=u.attrGetter("ngfModelOptions",t,n);return!r||!r.updateOn||r.updateOn.split(" ").indexOf(e)>-1},u.emptyPromise=function(){var e=r.defer(),n=arguments;return t((function(){e.resolve.apply(e,n)})),e.promise},u.rejectPromise=function(){var e=r.defer(),n=arguments;return t((function(){e.reject.apply(e,n)})),e.promise},u.happyPromise=function(e,n){var i=r.defer();return e.then((function(e){i.resolve(e)}),(function(e){t((function(){throw e})),i.resolve(n)})),i.promise},u.updateModel=function(n,r,i,a,l,c,h){function p(o,s,l,h,p){r.$$ngfPrevValidFiles=o,r.$$ngfPrevInvalidFiles=s;var d=o&&o.length?o[0]:null,f=s&&s.length?s[0]:null;n&&(u.applyModelValidation(n,o),n.$setViewValue(p?d:o)),a&&e(a)(i,{$files:o,$file:d,$newFiles:l,$duplicateFiles:h,$invalidFiles:s,$invalidFile:f,$event:c});var g=u.attrGetter("ngfModelInvalid",r);g&&t((function(){e(g).assign(i,p?f:s)})),t((function(){}))}function d(){function e(){t((function(){p($?g.concat(b):b,$?m.concat(y):y,l,v,w)}),S&&S.debounce?S.debounce.change||S.debounce:0)}var o=x?f:b;s(o,r,i,n).then((function(){x?u.validate(f,$?g.length:0,n,r,i).then((function(t){b=t.validsFiles,y=t.invalidsFiles,e()})):e()}),(function(){for(var t=0;t<o.length;t++){var n=o[t];if("resize"===n.$error){var r=b.indexOf(n);r>-1&&(b.splice(r,1),y.push(n)),e()}}}))}var f,g,m,v=[],y=[],b=[];g=r.$$ngfPrevValidFiles||[],m=r.$$ngfPrevInvalidFiles||[],n&&n.$modelValue&&(g=function(e){return angular.isArray(e)?e:[e]}(n.$modelValue));var $=u.attrGetter("ngfKeep",r,i);f=(l||[]).slice(0),("distinct"===$||!0===u.attrGetter("ngfKeepDistinct",r,i))&&function(){function e(e,t){return e.name===t.name&&(e.$ngfOrigSize||e.size)===(t.$ngfOrigSize||t.size)&&e.type===t.type}function t(t){var n;for(n=0;n<g.length;n++)if(e(t,g[n]))return!0;for(n=0;n<m.length;n++)if(e(t,m[n]))return!0;return!1}if(l){f=[],v=[];for(var n=0;n<l.length;n++)t(l[n])?v.push(l[n]):f.push(l[n])}}();var w=!$&&!u.attrGetter("ngfMultiple",r,i)&&!u.attrGetter("multiple",r);if(!$||f.length){u.attrGetter("ngfBeforeModelChange",r,i,{$files:l,$file:l&&l.length?l[0]:null,$newFiles:f,$duplicateFiles:v,$event:c});var x=u.attrGetter("ngfValidateAfterResize",r,i),S=u.attrGetter("ngfModelOptions",r,i);u.validate(f,$?g.length:0,n,r,i).then((function(e){h?p(f,[],l,v,w):(S&&S.allowInvalid||x?b=f:(b=e.validFiles,y=e.invalidFiles),u.attrGetter("ngfFixOrientation",r,i)&&u.isExifSupported()?o(b,r,i).then((function(){d()})):d())}))}},u}]),r.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(e,t,n,r){function i(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);if(t&&t.length>2){var n=r.defaults.androidFixMinorVersion||4;return parseInt(t[1])<4||parseInt(t[1])===n&&parseInt(t[2])<n}return-1===e.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(e)}function o(e,t,n,r,o,a,u,l){function c(){return"input"===t[0].tagName.toLowerCase()&&n.type&&"file"===n.type.toLowerCase()}function h(){return g("ngfChange")||g("ngfSelect")}function p(t){if(l.shouldUpdateOn("change",n,e)){var i=t.__files_||t.target&&t.target.files,o=[];if(!i)return;for(var s=0;s<i.length;s++)o.push(i[s]);l.updateModel(r,n,e,h(),o.length?o:null,t)}}function d(e,r){function i(t){e.attr("id","ngf-"+t),r.attr("id","ngf-label-"+t)}for(var o=0;o<t[0].attributes.length;o++){var s=t[0].attributes[o];"type"!==s.name&&"class"!==s.name&&"style"!==s.name&&("id"===s.name?(i(s.value),m.push(n.$observe("id",i))):e.attr(s.name,s.value||"required"!==s.name&&"multiple"!==s.name?s.value:s.name))}}function f(t){l.shouldUpdateOn("click",n,e)&&b.val()&&(b.val(null),l.updateModel(r,n,e,h(),null,t,!0))}var g=function(e,t){return l.attrGetter(e,n,t)};l.registerModelChangeValidator(r,n,e);var m=[];g("ngfMultiple")&&m.push(e.$watch(g("ngfMultiple"),(function(){b.attr("multiple",g("ngfMultiple",e))}))),g("ngfCapture")&&m.push(e.$watch(g("ngfCapture"),(function(){b.attr("capture",g("ngfCapture",e))}))),g("ngfAccept")&&m.push(e.$watch(g("ngfAccept"),(function(){b.attr("accept",g("ngfAccept",e))}))),m.push(n.$observe("accept",(function(){b.attr("accept",g("accept"))})));var v=0,y=0,b=t;c()||(b=function(){if(c())return t;var e=angular.element('<input type="file">'),n=angular.element("<label>upload</label>");return n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),d(e,n),s.push({el:t,ref:n}),document.body.appendChild(n.append(e)[0]),e}()),b.bind("change",p),c()?t.bind("click",f):t.bind("click touchstart touchend",(function(n){if(t.attr("disabled"))return!1;if(!g("ngfSelectDisabled",e)){var r=function(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if(t){if("touchstart"===e.type)return y=t[0].clientX,v=t[0].clientY,!0;if("touchend"===e.type){var n=t[0].clientX,r=t[0].clientY;if(Math.abs(n-y)>20||Math.abs(r-v)>20)return e.stopPropagation(),e.preventDefault(),!1}return!0}}(n);if(null!=r)return r;f(n);try{c()||document.body.contains(b[0])||(s.push({el:t,ref:b.parent()}),document.body.appendChild(b.parent()[0]),b.bind("change",p))}catch(e){}return i(navigator.userAgent)?setTimeout((function(){b[0].click()}),0):b[0].click(),!1}})),-1!==navigator.appVersion.indexOf("MSIE 10")&&b.bind("click",(function e(t){if(b&&!b.attr("__ngf_ie10_Fix_")){if(!b[0].parentNode)return void(b=null);t.preventDefault(),t.stopPropagation(),b.unbind("click");var n=b.clone();return b.replaceWith(n),(b=n).attr("__ngf_ie10_Fix_","true"),b.bind("change",p),b.bind("click",e),b[0].click(),!1}b.removeAttr("__ngf_ie10_Fix_")})),r&&r.$formatters.push((function(e){return(null==e||0===e.length)&&b.val()&&b.val(null),e})),e.$on("$destroy",(function(){c()||b.parent().remove(),angular.forEach(m,(function(e){e()}))})),a((function(){for(var e=0;e<s.length;e++){var t=s[e];document.body.contains(t.el[0])||(s.splice(e,1),t.ref.remove())}})),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(t,b,p)}var s=[];return{restrict:"AEC",require:"?ngModel",link:function(e,n,i,s){o(e,n,i,s,0,t,0,r)}}}]),function(){function e(e,t,n,r,i,o,s,a){function u(o){var s=e.attrGetter("ngfNoObjectUrl",i,n);e.dataUrl(o,s).finally((function(){t((function(){var e=(s?o.$ngfDataUrl:o.$ngfBlobUrl)||o.$ngfDataUrl;a?r.css("background-image","url('"+(e||"")+"')"):r.attr("src",e),e?r.removeClass("ng-hide"):r.addClass("ng-hide")}))}))}t((function(){var t=n.$watch(i[o],(function(t){var l=s;if("ngfThumbnail"===o&&(l||(l={width:r[0].naturalWidth||r[0].clientWidth,height:r[0].naturalHeight||r[0].clientHeight}),0===l.width&&window.getComputedStyle)){var c=getComputedStyle(r[0]);c.width&&c.width.indexOf("px")>-1&&c.height&&c.height.indexOf("px")>-1&&(l={width:parseInt(c.width.slice(0,-2)),height:parseInt(c.height.slice(0,-2))})}return angular.isString(t)?(r.removeClass("ng-hide"),a?r.css("background-image","url('"+t+"')"):r.attr("src",t)):void(!t||!t.type||0!==t.type.search(function(e){return"img"===e.tagName.toLowerCase()?"image":"audio"===e.tagName.toLowerCase()?"audio":"video"===e.tagName.toLowerCase()?"video":/./}(r[0]))||a&&0!==t.type.indexOf("image")?r.addClass("ng-hide"):l&&e.isResizeSupported()?(l.resizeIf=function(r,o){return e.attrGetter("ngfResizeIf",i,n,{$width:r,$height:o,$file:t})},e.resize(t,l).then((function(e){u(e)}),(function(e){throw e}))):u(t))}));n.$on("$destroy",(function(){t()}))}))}r.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,t,n){var r=e;return r.base64DataUrl=function(e){if(angular.isArray(e)){var t=n.defer(),i=0;return angular.forEach(e,(function(n){r.dataUrl(n,!0).finally((function(){if(++i===e.length){var n=[];angular.forEach(e,(function(e){n.push(e.$ngfDataUrl)})),t.resolve(n,e)}}))})),t.promise}return r.dataUrl(e,!0)},r.dataUrl=function(e,i){if(!e)return r.emptyPromise(e,e);if(i&&null!=e.$ngfDataUrl||!i&&null!=e.$ngfBlobUrl)return r.emptyPromise(i?e.$ngfDataUrl:e.$ngfBlobUrl,e);var o=i?e.$$ngfDataUrlPromise:e.$$ngfBlobUrlPromise;if(o)return o;var s=n.defer();return t((function(){if(window.FileReader&&e&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||e.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||e.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!i){var o;try{o=n.createObjectURL(e)}catch(n){return void t((function(){e.$ngfBlobUrl="",s.reject()}))}t((function(){if(e.$ngfBlobUrl=o,o){s.resolve(o,e),r.blobUrls=r.blobUrls||[],r.blobUrlsTotalSize=r.blobUrlsTotalSize||0,r.blobUrls.push({url:o,size:e.size}),r.blobUrlsTotalSize+=e.size||0;for(var t=r.defaults.blobUrlsMaxMemory||268435456,i=r.defaults.blobUrlsMaxQueueSize||200;(r.blobUrlsTotalSize>t||r.blobUrls.length>i)&&r.blobUrls.length>1;){var a=r.blobUrls.splice(0,1)[0];n.revokeObjectURL(a.url),r.blobUrlsTotalSize-=a.size}}}))}else{var a=new FileReader;a.onload=function(n){t((function(){e.$ngfDataUrl=n.target.result,s.resolve(n.target.result,e),t((function(){delete e.$ngfDataUrl}),1e3)}))},a.onerror=function(){t((function(){e.$ngfDataUrl="",s.reject()}))},a.readAsDataURL(e)}}else t((function(){e[i?"$ngfDataUrl":"$ngfBlobUrl"]="",s.reject()}))})),(o=i?e.$$ngfDataUrlPromise=s.promise:e.$$ngfBlobUrlPromise=s.promise).finally((function(){delete e[i?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]})),o},r}]),r.directive("ngfSrc",["Upload","$timeout",function(t,n){return{restrict:"AE",link:function(r,i,o){e(t,n,r,i,o,"ngfSrc",t.attrGetter("ngfResize",o,r),!1)}}}]),r.directive("ngfBackground",["Upload","$timeout",function(t,n){return{restrict:"AE",link:function(r,i,o){e(t,n,r,i,o,"ngfBackground",t.attrGetter("ngfResize",o,r),!0)}}}]),r.directive("ngfThumbnail",["Upload","$timeout",function(t,n){return{restrict:"AE",link:function(r,i,o){var s=t.attrGetter("ngfSize",o,r);e(t,n,r,i,o,"ngfThumbnail",s,t.attrGetter("ngfAsBackground",o,r))}}}]),r.config(["$compileProvider",function(e){e.imgSrcSanitizationWhitelist&&e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),e.aHrefSanitizationWhitelist&&e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),r.filter("ngfDataUrl",["UploadDataUrl","$sce",function(e,t){return function(n,r,i){if(angular.isString(n))return t.trustAsResourceUrl(n);var o=n&&((r?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);return n&&!o?(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)&&(n.$ngfDataUrlFilterInProgress=!0,e.dataUrl(n,r)),""):(n&&delete n.$ngfDataUrlFilterInProgress,(n&&o?i?t.trustAsResourceUrl(o):o:n)||"")}}])}(),r.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(e,t,n){var r=e;return r.validatePattern=function(e,t){if(!t)return!0;var n=function e(t){var n="",r=[];if(t.length>2&&"/"===t[0]&&"/"===t[t.length-1])n=t.substring(1,t.length-1);else{var i=t.split(",");if(i.length>1)for(var o=0;o<i.length;o++){var s=e(i[o]);s.regexp?(n+="("+s.regexp+")",o<i.length-1&&(n+="|")):r=r.concat(s.excludes)}else 0===t.indexOf("!")?r.push("^((?!"+e(t.substring(1)).regexp+").)*$"):(0===t.indexOf(".")&&(t="*"+t),n=(n="^"+t.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$").replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:n,excludes:r}}(t),r=!0;if(n.regexp&&n.regexp.length){var i=new RegExp(n.regexp,"i");r=null!=e.type&&i.test(e.type)||null!=e.name&&i.test(e.name)}for(var o=n.excludes.length;o--;){var s=new RegExp(n.excludes[o],"i");r=r&&(null==e.type||s.test(e.type))&&(null==e.name||s.test(e.name))}return r},r.ratioToFloat=function(e){var t=e.toString(),n=t.search(/[x:]/i);return n>-1?parseFloat(t.substring(0,n))/parseFloat(t.substring(n+1)):parseFloat(t)},r.registerModelChangeValidator=function(e,t,n){e&&e.$formatters.push((function(i){if(e.$dirty){var o=i;i&&!angular.isArray(i)&&(o=[i]),r.validate(o,0,e,t,n).then((function(){r.applyModelValidation(e,o)}))}return i}))},r.applyModelValidation=function(e,t){(function(e,t){null==t||e.$dirty||(e.$setDirty?e.$setDirty():e.$dirty=!0)})(e,t),angular.forEach(e.$ngfValidations,(function(t){e.$setValidity(t.name,t.valid)}))},r.getValidationAttr=function(e,t,n,i,o){var s="ngf"+n[0].toUpperCase()+n.substr(1),a=r.attrGetter(s,e,t,{$file:o});if(null==a&&(a=r.attrGetter("ngfValidate",e,t,{$file:o}))){var u=(i||n).split(".");a=a[u[0]],u.length>1&&(a=a&&a[u[1]])}return a},r.validate=function(e,n,i,o,s){function a(t,n,a){if(e){for(var u=e.length,l=null;u--;){var d=e[u];if(d){var f=r.getValidationAttr(o,s,t,n,d);null!=f&&(a(d,f,u)||(-1===c.indexOf(t)?(d.$error=t,(d.$errorMessages=d.$errorMessages||{})[t]=!0,d.$errorParam=f,-1===p.indexOf(d)&&p.push(d),h||e.splice(u,1),l=!1):e.splice(u,1)))}}null!==l&&i.$ngfValidations.push({name:t,valid:l})}}function u(n,a,u,d,f){function g(t,r,i){function o(o){if(o())if(-1===c.indexOf(n)){if(r.$error=n,(r.$errorMessages=r.$errorMessages||{})[n]=!0,r.$errorParam=i,-1===p.indexOf(r)&&p.push(r),!h){var s=e.indexOf(r);s>-1&&e.splice(s,1)}t.resolve(!1)}else{var a=e.indexOf(r);a>-1&&e.splice(a,1),t.resolve(!0)}else t.resolve(!0)}null!=i?d(r,i).then((function(e){o((function(){return!f(e,i)}))}),(function(){o((function(){return l("ngfValidateForce",{$file:r})}))})):t.resolve(!0)}var m=[r.emptyPromise(!0)];e&&(e=void 0===e.length?[e]:e,angular.forEach(e,(function(e){var i=t.defer();return m.push(i.promise),!u||null!=e.type&&0===e.type.search(u)?void("dimensions"===n&&null!=r.attrGetter("ngfDimensions",o)?r.imageDimensions(e).then((function(t){g(i,e,l("ngfDimensions",{$file:e,$width:t.width,$height:t.height}))}),(function(){i.resolve(!1)})):"duration"===n&&null!=r.attrGetter("ngfDuration",o)?r.mediaDuration(e).then((function(t){g(i,e,l("ngfDuration",{$file:e,$duration:t}))}),(function(){i.resolve(!1)})):g(i,e,r.getValidationAttr(o,s,n,a,e))):void i.resolve(!0)})));var v=t.defer();return t.all(m).then((function(e){for(var t=!0,r=0;r<e.length;r++)if(!e[r]){t=!1;break}i.$ngfValidations.push({name:n,valid:t}),v.resolve(t)})),v.promise}(i=i||{}).$ngfValidations=i.$ngfValidations||[],angular.forEach(i.$ngfValidations,(function(e){e.valid=!0}));var l=function(e,t){return r.attrGetter(e,o,s,t)},c=(r.attrGetter("ngfIgnoreInvalid",o,s)||"").split(" "),h=r.attrGetter("ngfRunAllValidations",o,s);if(null==e||0===e.length)return r.emptyPromise({validFiles:e,invalidFiles:[]});e=void 0===e.length?[e]:e.slice(0);var p=[];a("pattern",null,r.validatePattern),a("minSize","size.min",(function(e,t){return e.size+.1>=r.translateScalars(t)})),a("maxSize","size.max",(function(e,t){return e.size-.1<=r.translateScalars(t)}));var d=0;if(a("maxTotalSize",null,(function(t,n){return!((d+=t.size)>r.translateScalars(n))||(e.splice(0,e.length),!1)})),a("validateFn",null,(function(e,t){return!0===t||null===t||""===t})),!e.length)return r.emptyPromise({validFiles:[],invalidFiles:p});var f=t.defer(),g=[];return g.push(u("maxHeight","height.max",/image/,this.imageDimensions,(function(e,t){return e.height<=t}))),g.push(u("minHeight","height.min",/image/,this.imageDimensions,(function(e,t){return e.height>=t}))),g.push(u("maxWidth","width.max",/image/,this.imageDimensions,(function(e,t){return e.width<=t}))),g.push(u("minWidth","width.min",/image/,this.imageDimensions,(function(e,t){return e.width>=t}))),g.push(u("dimensions",null,/image/,(function(e,t){return r.emptyPromise(t)}),(function(e){return e}))),g.push(u("ratio",null,/image/,this.imageDimensions,(function(e,t){for(var n=t.toString().split(","),i=!1,o=0;o<n.length;o++)Math.abs(e.width/e.height-r.ratioToFloat(n[o]))<.01&&(i=!0);return i}))),g.push(u("maxRatio","ratio.max",/image/,this.imageDimensions,(function(e,t){return e.width/e.height-r.ratioToFloat(t)<1e-4}))),g.push(u("minRatio","ratio.min",/image/,this.imageDimensions,(function(e,t){return e.width/e.height-r.ratioToFloat(t)>-1e-4}))),g.push(u("maxDuration","duration.max",/audio|video/,this.mediaDuration,(function(e,t){return e<=r.translateScalars(t)}))),g.push(u("minDuration","duration.min",/audio|video/,this.mediaDuration,(function(e,t){return e>=r.translateScalars(t)}))),g.push(u("duration",null,/audio|video/,(function(e,t){return r.emptyPromise(t)}),(function(e){return e}))),g.push(u("validateAsyncFn",null,null,(function(e,t){return t}),(function(e){return!0===e||null===e||""===e}))),t.all(g).then((function(){if(h)for(var t=0;t<e.length;t++){e[t].$error&&e.splice(t--,1)}h=!1,a("maxFiles",null,(function(e,t,r){return t>n+r})),f.resolve({validFiles:e,invalidFiles:p})})),f.promise},r.imageDimensions=function(e){if(e.$ngfWidth&&e.$ngfHeight){var i=t.defer();return n((function(){i.resolve({width:e.$ngfWidth,height:e.$ngfHeight})})),i.promise}if(e.$ngfDimensionPromise)return e.$ngfDimensionPromise;var o=t.defer();return n((function(){return 0!==e.type.indexOf("image")?void o.reject("not image"):void r.dataUrl(e).then((function(t){function r(){var t=s[0].naturalWidth||s[0].clientWidth,n=s[0].naturalHeight||s[0].clientHeight;s.remove(),e.$ngfWidth=t,e.$ngfHeight=n,o.resolve({width:t,height:n})}function i(){s.remove(),o.reject("load error")}var s=angular.element("<img>").attr("src",t).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");s.on("load",r),s.on("error",i);var a=0;(function e(){n((function(){s[0].parentNode&&(s[0].clientWidth?r():a++>10?i():e())}),1e3)})(),angular.element(document.getElementsByTagName("body")[0]).append(s)}),(function(){o.reject("load error")}))})),e.$ngfDimensionPromise=o.promise,e.$ngfDimensionPromise.finally((function(){delete e.$ngfDimensionPromise})),e.$ngfDimensionPromise},r.mediaDuration=function(e){if(e.$ngfDuration){var i=t.defer();return n((function(){i.resolve(e.$ngfDuration)})),i.promise}if(e.$ngfDurationPromise)return e.$ngfDurationPromise;var o=t.defer();return n((function(){return 0!==e.type.indexOf("audio")&&0!==e.type.indexOf("video")?void o.reject("not media"):void r.dataUrl(e).then((function(t){function r(){var t=s[0].duration;e.$ngfDuration=t,s.remove(),o.resolve(t)}function i(){s.remove(),o.reject("load error")}var s=angular.element(0===e.type.indexOf("audio")?"<audio>":"<video>").attr("src",t).css("visibility","none").css("position","fixed");s.on("loadedmetadata",r),s.on("error",i);var a=0;(function e(){n((function(){s[0].parentNode&&(s[0].duration?r():a>10?i():e())}),1e3)})(),angular.element(document.body).append(s)}),(function(){o.reject("load error")}))})),e.$ngfDurationPromise=o.promise,e.$ngfDurationPromise.finally((function(){delete e.$ngfDurationPromise})),e.$ngfDurationPromise},r}]),r.service("UploadResize",["UploadValidate","$q",function(e,t){var n=e,r=function(e,r,i,o,s,a,u,l){var c=t.defer(),h=document.createElement("canvas"),p=document.createElement("img");return p.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(p),p.onload=function(){var e=p.width,t=p.height;if(p.parentNode.removeChild(p),null==l||!1!==l(e,t))try{if(a){var d=n.ratioToFloat(a);d>e/t?i=(r=e)/d:r=(i=t)*d}r||(r=e),i||(i=t);var f=function(e,t,n,r,i){var o=i?Math.max(n/e,r/t):Math.min(n/e,r/t);return{width:e*o,height:t*o,marginX:e*o-n,marginY:t*o-r}}(e,t,r,i,u);h.width=Math.min(f.width,r),h.height=Math.min(f.height,i),h.getContext("2d").drawImage(p,Math.min(0,-f.marginX/2),Math.min(0,-f.marginY/2),f.width,f.height),c.resolve(h.toDataURL(s||"image/WebP",o||.934))}catch(e){c.reject(e)}else c.reject("resizeIf")},p.onerror=function(){p.parentNode.removeChild(p),c.reject()},p.src=e,c.promise};return n.dataUrltoBlob=function(e,t,n){for(var r=e.split(","),i=r[0].match(/:(.*?);/)[1],o=atob(r[1]),s=o.length,a=new Uint8Array(s);s--;)a[s]=o.charCodeAt(s);var u=new window.Blob([a],{type:i});return u.name=t,u.$ngfOrigSize=n,u},n.isResizeSupported=function(){var e=document.createElement("canvas");return window.atob&&e.getContext&&e.getContext("2d")&&window.Blob},n.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(e){this.$ngfName=e},configurable:!0}),n.resize=function(e,i){if(0!==e.type.indexOf("image"))return n.emptyPromise(e);var o=t.defer();return n.dataUrl(e,!0).then((function(t){r(t,i.width,i.height,i.quality,i.type||e.type,i.ratio,i.centerCrop,i.resizeIf).then((function(r){if("image/jpeg"===e.type&&!1!==i.restoreExif)try{r=n.restoreExif(t,r)}catch(e){setTimeout((function(){throw e}),1)}try{var s=n.dataUrltoBlob(r,e.name,e.size);o.resolve(s)}catch(e){o.reject(e)}}),(function(t){"resizeIf"===t&&o.resolve(e),o.reject(t)}))}),(function(e){o.reject(e)})),o.promise},n}]),function(){function e(e,n,r,i,o,s,a,u,l,c){function h(){return n.attr("disabled")||v("ngfDropDisabled",e)}function p(t,n,r){if(t){var i;try{i=t&&t.getData&&t.getData("text/html")}catch(e){}g(t.items,t.files,!1!==v("ngfAllowDir",e),v("multiple")||v("ngfMultiple",e)).then((function(e){e.length?d(e,n):f(r,i).then((function(e){d(e,n)}))}))}}function d(t,n){u.updateModel(i,r,e,v("ngfChange")||v("ngfDrop"),t,n)}function f(t,n){if(!u.shouldUpdateOn(t,r,e)||"string"!=typeof n)return u.rejectPromise([]);var i=[];n.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,(function(e,t,n){i.push(n)}));var o=[],s=[];if(i.length){angular.forEach(i,(function(e){o.push(u.urlToBlob(e).then((function(e){s.push(e)})))}));var a=c.defer();return c.all(o).then((function(){a.resolve(s)}),(function(e){a.reject(e)})),a.promise}return u.emptyPromise()}function g(t,n,i,o){function s(e,t){var n=c.defer();if(null!=e)if(e.isDirectory){var r=[u.emptyPromise()];if(p){var i={type:"directory"};i.name=i.path=(t||"")+e.name,d.push(i)}var o=e.createReader(),a=[],g=function(){o.readEntries((function(i){try{i.length?(a=a.concat(Array.prototype.slice.call(i||[],0)),g()):(angular.forEach(a.slice(0),(function(n){d.length<=l&&h>=f&&r.push(s(n,(t||"")+e.name+"/"))})),c.all(r).then((function(){n.resolve()}),(function(e){n.reject(e)})))}catch(e){n.reject(e)}}),(function(e){n.reject(e)}))};g()}else e.file((function(e){try{e.path=(t||"")+e.name,p&&(e=u.rename(e,e.path)),d.push(e),f+=e.size,n.resolve()}catch(e){n.reject(e)}}),(function(e){n.reject(e)}));return n.promise}var l=u.getValidationAttr(r,e,"maxFiles");null==l&&(l=Number.MAX_VALUE);var h=u.getValidationAttr(r,e,"maxTotalSize");null==h&&(h=Number.MAX_VALUE);var p=v("ngfIncludeDir",e),d=[],f=0,g=[u.emptyPromise()];if(t&&t.length>0&&"file:"!==a.location.protocol)for(var m=0;m<t.length;m++){if(t[m].webkitGetAsEntry&&t[m].webkitGetAsEntry()&&t[m].webkitGetAsEntry().isDirectory){var y=t[m].webkitGetAsEntry();if(y.isDirectory&&!i)continue;null!=y&&g.push(s(y))}else{var b=t[m].getAsFile();null!=b&&(d.push(b),f+=b.size)}if(d.length>l||f>h||!o&&d.length>0)break}else if(null!=n)for(var $=0;$<n.length;$++){var w=n.item($);if((w.type||w.size>0)&&(d.push(w),f+=w.size),d.length>l||f>h||!o&&d.length>0)break}var x=c.defer();return c.all(g).then((function(){if(o||p||!d.length)x.resolve(d);else{for(var e=0;d[e]&&"directory"===d[e].type;)e++;x.resolve([d[e]])}}),(function(e){x.reject(e)})),x.promise}var m=t(),v=function(e,t,n){return u.attrGetter(e,r,t,n)};if(v("dropAvailable")&&s((function(){e[v("dropAvailable")]?e[v("dropAvailable")].value=m:e[v("dropAvailable")]=m})),m){null==v("ngfSelect")&&u.registerModelChangeValidator(i,r,e);var y,b=null,$=o(v("ngfStopPropagation")),w=1;n[0].addEventListener("dragover",(function(t){if(!h()&&u.shouldUpdateOn("drop",r,e)){if(t.preventDefault(),$(e)&&t.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var i=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy"}s.cancel(b),y||(y="C",function(e,t,n,r){var i=v("ngfDragOverClass",e,{$event:n}),o="dragover";if(angular.isString(i))o=i;else if(i&&(i.delay&&(w=i.delay),i.accept||i.reject)){var s=n.dataTransfer.items;if(null!=s&&s.length)for(var a=i.pattern||v("ngfPattern",e,{$event:n}),l=s.length;l--;){if(!u.validatePattern(s[l],a)){o=i.reject;break}o=i.accept}else o=i.accept}r(o)}(e,0,t,(function(r){y=r,n.addClass(y),v("ngfDrag",e,{$isDragging:!0,$class:y,$event:t})})))}}),!1),n[0].addEventListener("dragenter",(function(t){!h()&&u.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),$(e)&&t.stopPropagation())}),!1),n[0].addEventListener("dragleave",(function(t){!h()&&u.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),$(e)&&t.stopPropagation(),b=s((function(){y&&n.removeClass(y),y=null,v("ngfDrag",e,{$isDragging:!1,$event:t})}),w||100))}),!1),n[0].addEventListener("drop",(function(t){!h()&&u.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),$(e)&&t.stopPropagation(),y&&n.removeClass(y),y=null,p(t.dataTransfer,t,"dropUrl"))}),!1),n[0].addEventListener("paste",(function(t){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&v("ngfEnableFirefoxPaste",e)&&t.preventDefault(),!h()&&u.shouldUpdateOn("paste",r,e)&&p(t.clipboardData||t.originalEvent.clipboardData,t,"pasteUrl")}),!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&v("ngfEnableFirefoxPaste",e)&&(n.attr("contenteditable",!0),n.on("keypress",(function(e){e.metaKey||e.ctrlKey||e.preventDefault()})))}else!0===v("ngfHideOnDropNotAvailable",e)&&n.css("display","none")}function t(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e&&!/Edge\/12./i.test(navigator.userAgent)}r.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(t,n,r,i,o,s){return{restrict:"AEC",require:"?ngModel",link:function(o,a,u,l){e(o,a,u,l,t,n,r,i,0,s)}}}]),r.directive("ngfNoFileDrop",(function(){return function(e,n){t()&&n.css("display","none")}})),r.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(e,n,r){return function(i,o,s){if(t()){var a=e(r.attrGetter("ngfDropAvailable",s));n((function(){a(i),a.assign&&a.assign(i,!0)}))}}}])}(),r.service("UploadExif",["UploadResize","$q",function(e,t){var n=e;return n.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&n.isResizeSupported()},n.readOrientation=function(e){var n=t.defer(),r=new FileReader,i=e.slice?e.slice(0,65536):e;return r.readAsArrayBuffer(i),r.onerror=function(e){return n.reject(e)},r.onload=function(e){var t={orientation:1},r=new DataView(this.result);if(65496!==r.getUint16(0,!1))return n.resolve(t);for(var i=r.byteLength,o=2;i>o;){var s=r.getUint16(o,!1);if(o+=2,65505===s){if(1165519206!==r.getUint32(o+=2,!1))return n.resolve(t);var a=18761===r.getUint16(o+=6,!1);o+=r.getUint32(o+4,a);var u=r.getUint16(o,a);o+=2;for(var l=0;u>l;l++)if(274===r.getUint16(o+12*l,a)){var c=r.getUint16(o+12*l+8,a);return c>=2&&8>=c&&(r.setUint16(o+12*l+8,1,a),t.fixedArrayBuffer=e.target.result),t.orientation=c,n.resolve(t)}}else{if(65280!=(65280&s))break;o+=r.getUint16(o,!1)}}return n.resolve(t)},n.promise},n.applyExifRotation=function(e){if(0!==e.type.indexOf("image/jpeg"))return n.emptyPromise(e);var r=t.defer();return n.readOrientation(e).then((function(t){return t.orientation<2||t.orientation>8?r.resolve(e):void n.dataUrl(e,!0).then((function(i){var o=document.createElement("canvas"),s=document.createElement("img");s.onload=function(){try{o.width=t.orientation>4?s.height:s.width,o.height=t.orientation>4?s.width:s.height;var i=o.getContext("2d");(function(e,t,n,r){switch(t){case 2:return e.transform(-1,0,0,1,n,0);case 3:return e.transform(-1,0,0,-1,n,r);case 4:return e.transform(1,0,0,-1,0,r);case 5:return e.transform(0,1,1,0,0,0);case 6:return e.transform(0,1,-1,0,r,0);case 7:return e.transform(0,-1,-1,0,r,n);case 8:e.transform(0,-1,1,0,0,n)}})(i,t.orientation,s.width,s.height),i.drawImage(s,0,0);var a=o.toDataURL(e.type||"image/WebP",.934);a=n.restoreExif(function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;r>i;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)}(t.fixedArrayBuffer),a);var u=n.dataUrltoBlob(a,e.name);r.resolve(u)}catch(e){return r.reject(e)}},s.onerror=function(){r.reject()},s.src=i}),(function(e){r.reject(e)}))}),(function(e){r.reject(e)})),r.promise},n.restoreExif=function(e,t){var n={KEY_STR:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode64:function(e){var t,n,r,i,o,s="",a="",u="",l=0;do{r=(t=e[l++])>>2,i=(3&t)<<4|(n=e[l++])>>4,o=(15&n)<<2|(a=e[l++])>>6,u=63&a,isNaN(n)?o=u=64:isNaN(a)&&(u=64),s=s+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(u),t=n=a="",r=i=o=u=""}while(l<e.length);return s},restore:function(e,t){e.match("data:image/jpeg;base64,")&&(e=e.replace("data:image/jpeg;base64,",""));var n=this.decode64(e),r=this.slice2Segments(n),i=this.exifManipulation(t,r);return"data:image/jpeg;base64,"+this.encode64(i)},exifManipulation:function(e,t){var n=this.getExifArray(t),r=this.insertExif(e,n);return new Uint8Array(r)},getExifArray:function(e){for(var t,n=0;n<e.length;n++)if(255===(t=e[n])[0]&225===t[1])return t;return[]},insertExif:function(e,t){var n=e.replace("data:image/jpeg;base64,",""),r=this.decode64(n),i=r.indexOf(255,3),o=r.slice(0,i),s=r.slice(i),a=o;return(a=a.concat(t)).concat(s)},slice2Segments:function(e){for(var t=0,n=[];!(255===e[t]&218===e[t+1]);){if(255===e[t]&216===e[t+1])t+=2;else{var r=t+(256*e[t+2]+e[t+3])+2,i=e.slice(t,r);n.push(i),t=r}if(t>e.length)break}return n},decode64:function(e){var t,n,r,i,o="",s="",a=0,u=[];/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=this.KEY_STR.indexOf(e.charAt(a++))<<2|(r=this.KEY_STR.indexOf(e.charAt(a++)))>>4,n=(15&r)<<4|(i=this.KEY_STR.indexOf(e.charAt(a++)))>>2,o=(3&i)<<6|(s=this.KEY_STR.indexOf(e.charAt(a++))),u.push(t),64!==i&&u.push(n),64!==s&&u.push(o),t=n=o="",r=i=s=""}while(a<e.length);return u}};return n.restore(e,t)},n}])},63:function(e,t){
/*! 12.2.13 */
!function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,n){try{Object.defineProperty(e,t,{get:n})}catch(e){}}if(window.FileAPI||(window.FileAPI={}),!window.XMLHttpRequest)throw"AJAX is not supported. XMLHttpRequest is not defined.";if(FileAPI.shouldLoad=!window.FormData||FileAPI.forceLoad,FileAPI.shouldLoad){var n=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,r){e.__listeners[n]=r,t&&t.apply(this,arguments)}}};e("open",(function(e){return function(t,r,i){n(this),this.__url=r;try{e.apply(this,[t,r,i])}catch(n){n.message.indexOf("Access is denied")>-1&&(this.__origError=n,e.apply(this,[t,"_fix_for_ie_crossdomain__",i]))}}})),e("getResponseHeader",(function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}})),e("getAllResponseHeaders",(function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}})),e("abort",(function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}})),e("setRequestHeader",(function(e){return function(t,r){if("__setXHR_"===t){n(this);var i=r(this);i instanceof Function&&i(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=r,e.apply(this,arguments)}})),e("send",(function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){for(var r=arguments[0],i={url:n.__url,jsonp:!1,cache:!0,complete:function(e,r){e&&angular.isString(e)&&-1!==e.indexOf("#2174")&&(e=null),n.__completed=!0,!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==r.status&&t(n,"status",(function(){return 0===r.status&&e&&"abort"!==e?500:r.status})),void 0!==r.statusText&&t(n,"statusText",(function(){return r.statusText})),t(n,"readyState",(function(){return 4})),void 0!==r.response&&t(n,"response",(function(){return r.response}));var i=r.responseText||(e&&0===r.status&&"abort"!==e?e:void 0);t(n,"responseText",(function(){return i})),t(n,"response",(function(){return i})),e&&t(n,"err",(function(){return e})),n.__fileApiXHR=r,n.onreadystatechange&&n.onreadystatechange(),n.onload&&n.onload()},progress:function(e){if(e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout((function(){n.__completed||(n.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))}),FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders,data:{},files:{}},o=0;o<r.data.length;o++){var s=r.data[o];null!=s.val&&null!=s.val.name&&null!=s.val.size&&null!=s.val.type?i.files[s.key]=s.val:i.data[s.key]=s.val}setTimeout((function(){if(!FileAPI.hasFlash)throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(i)}),1)}else{if(this.__origError)throw this.__origError;e.apply(n,arguments)}}})),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(e,t,n){t.__isFileAPIBlobShim&&(t=t.data[0]),this.data.push({key:e,val:t,name:n})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:!0}}}}(),function(){function e(){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return!0}catch(e){if(void 0!==navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1}function t(e){var t=0,n=0;if(window.jQuery)return jQuery(e).offset();if(e.offsetParent)do{t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent}while(e);return{left:t,top:n}}if(FileAPI.shouldLoad){if(FileAPI.hasFlash=e(),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var n,r,i,o,s,a=document.createElement("script"),u=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)n=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)r=window.FileAPI.jsPath;else for(i=0;i<u.length;i++)if((o=(s=u[i].src).search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/))>-1){r=s.substring(0,o+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=r),a.setAttribute("src",n||r+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(a)}FileAPI.ngfFixIE=function(n,r,i){if(!e())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.bind("mouseenter",(function(){var e=r.parent();n.attr("disabled")?e&&e.removeClass("js-fileapi-wrapper"):(r.attr("__ngf_flash_")||(r.unbind("change"),r.unbind("click"),r.bind("change",(function(e){o.apply(this,[e]),i.apply(this,[e])})),r.attr("__ngf_flash_","true")),e.addClass("js-fileapi-wrapper"),function(e){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}(n)||(e.css("position","absolute").css("top",t(n[0]).top+"px").css("left",t(n[0]).left+"px").css("width",n[0].offsetWidth+"px").css("height",n[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",n.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible"),r.css("width",n[0].offsetWidth+"px").css("height",n[0].offsetHeight+"px").css("position","absolute").css("top","0px").css("left","0px")))}));var o=function(e){for(var t=FileAPI.getFiles(e),n=0;n<t.length;n++)void 0===t[n].size&&(t[n].size=0),void 0===t[n].name&&(t[n].name="file"),void 0===t[n].type&&(t[n].type="undefined");e.target||(e.target={}),e.target.files=t,e.target.files!==t&&(e.__files_=t),(e.__files_||e.target.files).item=function(t){return(e.__files_||e.target.files)[t]||null}}},FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}}(),window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(n)},this.removeEventListener=function(t,n){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(n),1)},this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n)for(var r=0;r<n.length;r++)n[r].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var r={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(r.target.result=n.result),r},r=function(r){var i;t||(t=!0,e.onloadstart&&e.onloadstart(n("loadstart",r))),"load"===r.type?(e.onloadend&&e.onloadend(n("loadend",r)),i=n("load",r),e.onload&&e.onload(i),e.dispatchEvent(i)):"progress"===r.type?(i=n("progress",r),e.onprogress&&e.onprogress(i),e.dispatchEvent(i)):(i=n("error",r),e.onerror&&e.onerror(i),e.dispatchEvent(i))};this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,r)},this.readAsText=function(e){FileAPI.readAsText(e,r)}})},64:function(e,t,n){var r;
/*!
 * angular-translate - v2.19.0 - 2021-09-02
 * 
 * Copyright (c) 2021 The angular-translate team, Pascal Precht; Licensed MIT
 */void 0===(r=function(){return function(){function e(e){"use strict";var t=e.storageKey(),n=e.storage(),r=function(){var r=e.preferredLanguage();angular.isString(r)?e.use(r):n.put(t,e.use())};r.displayName="fallbackFromIncorrectStorageValue",n?n.get(t)?e.use(n.get(t)).catch(r):r():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function t(e,t,n,r){"use strict";var i,o,s,a,u,l,c,h,p,d,f,g,m,v,y,b,$={},w=[],x=e,S=[],E="translate-cloak",A=!1,C=!1,F=!0,T=".",D=!1,R=!1,k=0,I=!0,P="default",O={default:function(e){return(e||"").split("-").join("_")},java:function(e){var t=(e||"").split("-").join("_"),n=t.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():t},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");switch(n.length){case 1:n[0]=n[0].toLowerCase();break;case 2:n[0]=n[0].toLowerCase(),4===n[1].length?n[1]=n[1].charAt(0).toUpperCase()+n[1].slice(1).toLowerCase():n[1]=n[1].toUpperCase();break;case 3:n[0]=n[0].toLowerCase(),n[1]=n[1].charAt(0).toUpperCase()+n[1].slice(1).toLowerCase(),n[2]=n[2].toUpperCase();break;default:return t}return n.join("-")},"iso639-1":function(e){return(e||"").split("_").join("-").split("-")[0].toLowerCase()}},_=function(){if(angular.isFunction(r.getLocale))return r.getLocale();var e,n,i=t.$get().navigator,o=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(i.languages))for(e=0;e<i.languages.length;e++)if((n=i.languages[e])&&n.length)return n;for(e=0;e<o.length;e++)if((n=i[o[e]])&&n.length)return n;return null};_.displayName="angular-translate/service: getFirstBrowserLanguage";var j=function(){var e=_()||"";return O[P]&&(e=O[P](e)),e};j.displayName="angular-translate/service: getLocale";var L=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},N=function(){return this.toString().replace(/^\s+|\s+$/g,"")},M=function(e){return angular.isString(e)?e.toLowerCase():e},B=function(e){if(e){for(var t,n=[],r=M(e),i=0,s=w.length;i<s;i++)n.push(M(w[i]));if((i=L(n,r))>-1)return w[i];if(o)for(var a in o)if(o.hasOwnProperty(a)){var u=!1,l=Object.prototype.hasOwnProperty.call(o,a)&&M(a)===M(e);if("*"===a.slice(-1)&&(u=M(a.slice(0,-1))===M(e.slice(0,a.length-1))),(l||u)&&(t=o[a],L(n,M(t))>-1))return t}var c=e.split("_");return c.length>1&&L(n,M(c[0]))>-1?c[0]:void 0}},H=function(e,t){if(!e&&!t)return $;if(e&&!t){if(angular.isString(e))return $[e]}else angular.isObject($[e])||($[e]={}),angular.extend($[e],U(t));return this};this.translations=H,this.cloakClassName=function(e){return e?(E=e,this):E},this.allowNamespaces=function(e){return void 0===e?F:(F=e,this)},this.nestedObjectDelimeter=function(e){return e?(T=e,this):T};var U=function(e,t,n,r){var i,o,s;if(t||(t=[]),n||(n={}),!F)return e;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s=e[i],angular.isObject(s)?U(s,t.concat(i),n,i):(o=t.length?""+t.join(T)+T+i:i,t.length&&i===r&&(n[""+t.join(T)]="@:"+o),n[o]=s));return n};U.displayName="flatObject",this.addInterpolation=function(e){return S.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return d=e,this},this.useSanitizeValueStrategy=function(e){return n.useStrategy(e),this},this.preferredLanguage=function(e){return e?(V(e),this):i};var V=function(e){return e&&(i=e),i};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(m=e,this):m},this.translationNotFoundIndicatorRight=function(e){return e?(v=e,this):v},this.fallbackLanguage=function(e){return q(e),this};var q=function(e){return e?(angular.isString(e)?(a=!0,s=[e]):angular.isArray(e)&&(a=!1,s=e),angular.isString(i)&&L(s,i)<0&&s.push(i),this):a?s[0]:s};this.use=function(e){if(e){if(!$[e]&&!f)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return u=e,this}return u},this.resolveClientLocale=function(){return j()};var z=function(e){return e?(x=e,this):h?h+x:x};this.storageKey=z,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return f=e,g=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return c=e,this},this.storagePrefix=function(e){return e?(h=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return p=e,this},this.usePostCompiling=function(e){return A=!!e,this},this.forceAsyncReload=function(e){return C=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},P=e.standard,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():j();return i=w.length&&B(t)||t,this},this.registerAvailableLanguageKeys=function(e,t){return e?(w=e,t&&(o=t),this):w},this.useLoaderCache=function(e){return!1===e?y=void 0:!0===e?y=!0:void 0===e?y="$translationCache":e&&(y=e),this},this.directivePriority=function(e){return void 0===e?k:(k=e,this)},this.statefulFilter=function(e){return void 0===e?I:(I=e,this)},this.postProcess=function(e){return b=e||void 0,this},this.keepContent=function(e){return R=!!e,this},this.$get=["$log","$injector","$rootScope","$q",function(e,t,n,r){var o,h,P,O=t.get(d||"$translateDefaultInterpolation"),_=!1,M={},K={},G=function(e,t,n,a,l,p){!u&&i&&(u=i);var d=l&&l!==u?B(l)||l:u;if(l&&se(l),angular.isArray(e))return function(e){for(var i={},o=[],s=function(e){var o=r.defer(),s=function(t){i[e]=t,o.resolve([e,t])};return G(e,t,n,a,l,p).then(s,s),o.promise},u=0,c=e.length;u<c;u++)o.push(s(e[u]));return r.all(o).then((function(){return i}))}(e);var f=r.defer();if(!e)throw new TypeError("translationId must be a not empty string");e=N.apply(e);var g=function(){var e=K[d]||K[i];if(h=0,c&&!e){var t=o.get(x);if(e=K[t],s&&s.length){var n=L(s,t);h=0===n?1:0,L(s,i)<0&&s.push(i)}}return e}();if(g){var m=function(){l||(d=u),re(e,t,n,a,d,p).then(f.resolve,f.reject)};m.displayName="promiseResolved",g.finally(m).catch(angular.noop)}else re(e,t,n,a,d,p).then(f.resolve,f.reject);return f.promise},W=function(e){return m&&(e=[m,e].join(" ")),v&&(e=[e,v].join(" ")),e},Y=function(e){u=e,c&&o.put(G.storageKey(),u),n.$emit("$translateChangeSuccess",{language:e}),O.setLocale(u);var t=function(e,t){M[t].setLocale(u)};t.displayName="eachInterpolatorLocaleSetter",angular.forEach(M,t),n.$emit("$translateChangeEnd",{language:e})},X=function(e){if(!e)throw"No language key specified for loading.";var i=r.defer();n.$emit("$translateLoadingStart",{language:e}),_=!0;var o=y;"string"==typeof o&&(o=t.get(o));var s=angular.extend({},g,{key:e,$http:angular.extend({},{cache:o},g.$http)}),a=function(t){var r={};n.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(t)?angular.forEach(t,(function(e){angular.extend(r,U(e))})):angular.extend(r,U(t)),_=!1,i.resolve({key:e,table:r}),n.$emit("$translateLoadingEnd",{language:e})};a.displayName="onLoaderSuccess";var u=function(e){n.$emit("$translateLoadingError",{language:e}),i.reject(e),n.$emit("$translateLoadingEnd",{language:e})};return u.displayName="onLoaderError",t.get(f)(s).then(a,u),i.promise};if(c&&(!(o=t.get(c)).get||!o.put))throw new Error("Couldn't use storage '"+c+"', missing get() or put() method!");if(S.length){var J=function(e){var n=t.get(e);n.setLocale(i||u),M[n.getInterpolationIdentifier()]=n};J.displayName="interpolationFactoryAdder",angular.forEach(S,J)}var Q=function(e,t,n,i,o){var s=r.defer(),a=function(r){if(Object.prototype.hasOwnProperty.call(r,t)&&null!==r[t]){i.setLocale(e);var a=r[t];if("@:"===a.substr(0,2))Q(e,a.substr(2),n,i,o).then(s.resolve,s.reject);else{var l=i.interpolate(r[t],n,"service",o,t);l=oe(t,r[t],l,n,e),s.resolve(l)}i.setLocale(u)}else s.reject()};return a.displayName="fallbackTranslationResolver",function(e){var t=r.defer();if(Object.prototype.hasOwnProperty.call($,e))t.resolve($[e]);else if(K[e]){var n=function(e){H(e.key,e.table),t.resolve(e.table)};n.displayName="translationTableResolver",K[e].then(n,t.reject)}else t.reject();return t.promise}(e).then(a,s.reject),s.promise},Z=function(e,t,n,r,i){var o,s=$[e];if(s&&Object.prototype.hasOwnProperty.call(s,t)&&null!==s[t]){if(r.setLocale(e),o=r.interpolate(s[t],n,"filter",i,t),o=oe(t,s[t],o,n,e,i),!angular.isString(o)&&angular.isFunction(o.$$unwrapTrustedValue)){var a=o.$$unwrapTrustedValue();if("@:"===a.substr(0,2))return Z(e,a.substr(2),n,r,i)}else if("@:"===o.substr(0,2))return Z(e,o.substr(2),n,r,i);r.setLocale(u)}return o},ee=function(e,n,r,i){return p?t.get(p)(e,u,n,r,i):e},te=function(e,t,n,i,o,a){var u=r.defer();if(e<s.length){var l=s[e];Q(l,t,n,i,a).then((function(e){u.resolve(e)}),(function(){return te(e+1,t,n,i,o,a).then(u.resolve,u.reject)}))}else if(o)u.resolve(o);else{var c=ee(t,n,o);p&&c?u.resolve(c):u.reject(W(t))}return u.promise},ne=function(e,t,n,r,i){var o;if(e<s.length){var a=s[e];(o=Z(a,t,n,r,i))||""===o||(o=ne(e+1,t,n,r))}return o},re=function(e,t,n,i,o,a){var u=r.defer(),l=o?$[o]:$,c=n?M[n]:O;if(l&&Object.prototype.hasOwnProperty.call(l,e)&&null!==l[e]){var d=l[e];if("@:"===d.substr(0,2))G(d.substr(2),t,n,i,o,a).then(u.resolve,u.reject);else{var f=c.interpolate(d,t,"service",a,e);f=oe(e,d,f,t,o),u.resolve(f)}}else{var g;p&&!_&&(g=ee(e,t,i)),o&&s&&s.length?function(e,t,n,r,i){return te(P>0?P:h,e,t,n,r,i)}(e,t,c,i,a).then((function(e){u.resolve(e)}),(function(e){u.reject(W(e))})):p&&!_&&g?i?u.resolve(i):u.resolve(g):i?u.resolve(i):u.reject(W(e))}return u.promise},ie=function(e,t,n,r,i){var o,a=r?$[r]:$,u=O;if(M&&Object.prototype.hasOwnProperty.call(M,n)&&(u=M[n]),a&&Object.prototype.hasOwnProperty.call(a,e)&&null!==a[e]){var l=a[e];"@:"===l.substr(0,2)?o=ie(l.substr(2),t,n,r,i):(o=u.interpolate(l,t,"filter",i,e),o=oe(e,l,o,t,r,i))}else{var c;p&&!_&&(c=ee(e,t,i)),r&&s&&s.length?(h=0,o=function(e,t,n,r){return ne(P>0?P:h,e,t,n,r)}(e,t,u,i)):o=p&&!_&&c?c:W(e)}return o},oe=function(e,n,r,i,o,s){var a=b;return a&&("string"==typeof a&&(a=t.get(a)),a)?a(e,n,r,i,o,s):r},se=function(e){$[e]||!f||K[e]||(K[e]=X(e).then((function(e){return H(e.key,e.table),e})))};G.preferredLanguage=function(e){return e&&V(e),i},G.cloakClassName=function(){return E},G.allowNamespaces=function(){return F},G.nestedObjectDelimeter=function(){return T},G.fallbackLanguage=function(e){if(null!=e){if(q(e),f&&s&&s.length)for(var t=0,n=s.length;t<n;t++)K[s[t]]||(K[s[t]]=X(s[t]));G.use(G.use())}return a?s[0]:s},G.useFallbackLanguage=function(e){if(null!=e)if(e){var t=L(s,e);t>-1&&(P=t)}else P=0},G.proposedLanguage=function(){return l},G.storage=function(){return o},G.negotiateLocale=B,G.use=function(e){if(!e)return u;var t=r.defer();t.promise.then(null,angular.noop),n.$emit("$translateChangeStart",{language:e});var i=B(e);return w.length>0&&!i?r.reject(e):(i&&(e=i),l=e,!C&&$[e]||!f||K[e]?K[e]?K[e].then((function(e){return l===e.key&&Y(e.key),t.resolve(e.key),e}),(function(e){return!u&&s&&s.length>0&&s[0]!==e?G.use(s[0]).then(t.resolve,t.reject):t.reject(e)})):(t.resolve(e),Y(e)):(K[e]=X(e).then((function(n){return H(n.key,n.table),t.resolve(n.key),l===e&&Y(n.key),n}),(function(e){return n.$emit("$translateChangeError",{language:e}),t.reject(e),n.$emit("$translateChangeEnd",{language:e}),r.reject(e)})),K[e].finally((function(){!function(e){l===e&&(l=void 0),K[e]=void 0}(e)})).catch(angular.noop)),t.promise)},G.resolveClientLocale=function(){return j()},G.storageKey=function(){return z()},G.isPostCompilingEnabled=function(){return A},G.isForceAsyncReloadEnabled=function(){return C},G.isKeepContent=function(){return R},G.refresh=function(e){if(!f)throw new Error("Couldn't refresh translation table, no loader registered!");n.$emit("$translateRefreshStart",{language:e});var t=r.defer(),i={};function o(e){var t=X(e);return K[e]=t,t.then((function(t){$[e]={},H(e,t.table),i[e]=!0}),angular.noop),t}if(t.promise.then((function(){for(var e in $)$.hasOwnProperty(e)&&(e in i||delete $[e]);u&&Y(u)}),angular.noop).finally((function(){n.$emit("$translateRefreshEnd",{language:e})})),e)$[e]?o(e).then(t.resolve,t.reject):t.reject();else{var a=s&&s.slice()||[];u&&-1===a.indexOf(u)&&a.push(u),r.all(a.map(o)).then(t.resolve,t.reject)}return t.promise},G.instant=function(e,t,n,r,o){var a=r&&r!==u?B(r)||r:u;if(null===e||angular.isUndefined(e))return e;if(r&&se(r),angular.isArray(e)){for(var l={},c=0,h=e.length;c<h;c++)l[e[c]]=G.instant(e[c],t,n,r,o);return l}if(angular.isString(e)&&e.length<1)return e;e&&(e=N.apply(e));var d,f,g=[];i&&g.push(i),a&&g.push(a),s&&s.length&&(g=g.concat(s));for(var y=0,b=g.length;y<b;y++){var w=g[y];if($[w]&&void 0!==$[w][e]&&(d=ie(e,t,n,a,o)),void 0!==d)break}return d||""===d||(m||v?d=W(e):(d=O.interpolate(e,t,"filter",o),p&&!_&&(f=ee(e,t,o)),p&&!_&&f&&(d=f))),d},G.versionInfo=function(){return"2.19.0"},G.loaderCache=function(){return y},G.directivePriority=function(){return k},G.statefulFilter=function(){return I},G.isReady=function(){return D};var ae=r.defer();ae.promise.then((function(){D=!0})),G.onReady=function(e){var t=r.defer();return angular.isFunction(e)&&t.promise.then(e),D?t.resolve():ae.promise.then(t.resolve),t.promise},G.getAvailableLanguageKeys=function(){return w.length>0?w:null},G.getTranslationTable=function(e){return(e=e||G.use())&&$[e]?angular.copy($[e]):null};var ue=n.$on("$translateReady",(function(){ae.resolve(),ue(),ue=null})),le=n.$on("$translateChangeEnd",(function(){ae.resolve(),le(),le=null}));if(f){if(angular.equals($,{})&&G.use()&&G.use(G.use()),s&&s.length)for(var ce=function(e){return H(e.key,e.table),n.$emit("$translateChangeEnd",{language:e.key}),e},he=0,pe=s.length;he<pe;he++){var de=s[he];!C&&$[de]||(K[de]=X(de).then(ce))}}else n.$emit("$translateReady",{language:G.use()});return G}]}function n(e,t){"use strict";var n={setLocale:function(e){},getInterpolationIdentifier:function(){return"default"},useSanitizeValueStrategy:function(e){return t.useStrategy(e),this},interpolate:function(n,r,i,o,s){var a;return r=r||{},r=t.sanitize(r,"params",o,i),angular.isNumber(n)?a=""+n:angular.isString(n)?(a=e(n)(r),a=t.sanitize(a,"text",o,i)):a="",a}};return n}function r(e,t,n,r,i){"use strict";var o=function(){return this.toString().replace(/^\s+|\s+$/g,"")},s=function(e){return angular.isString(e)?e.toLowerCase():e};return{restrict:"AE",scope:!0,priority:e.directivePriority(),compile:function(a,u){var l=u.translateValues?u.translateValues:void 0,c=u.translateInterpolation?u.translateInterpolation:void 0,h=u.translateSanitizeStrategy?u.translateSanitizeStrategy:void 0,p=a[0].outerHTML.match(/translate-value-+/i),d="^(.*)("+t.startSymbol()+".*"+t.endSymbol()+")(.*)",f="^(.*)"+t.startSymbol()+"(.*)"+t.endSymbol()+"(.*)";return function(a,g,m){a.interpolateParams={},a.preText="",a.postText="",a.translateNamespace=function e(t){return t.translateNamespace?t.translateNamespace:t.$parent?e(t.$parent):void 0}(a);var v={},y=function(e){if(angular.isFunction(y._unwatchOld)&&(y._unwatchOld(),y._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)){var n=o.apply(g.text()).replace(/\n/g," "),r=n.match(d);if(angular.isArray(r)){a.preText=r[1],a.postText=r[3],v.translate=t(r[2])(a.$parent);var i=n.match(f);angular.isArray(i)&&i[2]&&i[2].length&&(y._unwatchOld=a.$watch(i[2],(function(e){v.translate=e,E()})))}else v.translate=n||void 0}else v.translate=e;E()},b=function(e){m.$observe(e,(function(t){v[e]=t,E()}))};!function(e,t,n){if(t.translateValues&&angular.extend(e,r(t.translateValues)(a.$parent)),p)for(var i in n)Object.prototype.hasOwnProperty.call(t,i)&&"translateValue"===i.substr(0,14)&&"translateValues"!==i&&(e[s(i.substr(14,1))+i.substr(15)]=n[i])}(a.interpolateParams,m,u);var $=!0;for(var w in m.$observe("translate",(function(e){void 0===e?y(""):""===e&&$||(v.translate=e,E()),$=!1})),m)m.hasOwnProperty(w)&&"translateAttr"===w.substr(0,13)&&w.length>13&&b(w);if(m.$observe("translateDefault",(function(e){a.defaultText=e,E()})),h&&m.$observe("translateSanitizeStrategy",(function(e){a.sanitizeStrategy=r(e)(a.$parent),E()})),l&&m.$observe("translateValues",(function(e){e&&a.$parent.$watch((function(){angular.extend(a.interpolateParams,r(e)(a.$parent))}))})),p){var x=function(e){m.$observe(e,(function(t){var n=s(e.substr(14,1))+e.substr(15);a.interpolateParams[n]=t}))};for(var S in m)Object.prototype.hasOwnProperty.call(m,S)&&"translateValue"===S.substr(0,14)&&"translateValues"!==S&&x(S)}var E=function(){for(var e in v)v.hasOwnProperty(e)&&void 0!==v[e]&&A(e,v[e],a,a.interpolateParams,a.defaultText,a.translateNamespace)},A=function(t,n,r,i,o,s){n?(s&&"."===n.charAt(0)&&(n=s+n),e(n,i,c,o,r.translateLanguage,r.sanitizeStrategy).then((function(e){C(e,r,!0,t)}),(function(e){C(e,r,!1,t)}))):C(n,r,!1,t)},C=function(t,r,i,o){if(i||void 0!==r.defaultText&&(t=r.defaultText),"translate"===o){(i||!i&&!e.isKeepContent()&&void 0===m.translateKeepContent)&&g.empty().append(r.preText+t+r.postText);var s=e.isPostCompilingEnabled(),a=void 0!==u.translateCompile,l=a&&"false"!==u.translateCompile;(s&&!a||l)&&n(g.contents())(r)}else{var c=m.$attr[o];"data-"===c.substr(0,5)&&(c=c.substr(5)),c=c.substr(15),g.attr(c,t)}};(l||p||m.translateDefault)&&a.$watch("interpolateParams",E,!0),a.$on("translateLanguageChanged",E);var F=i.$on("$translateChangeSuccess",E);g.text().length?m.translate?y(m.translate):y(""):m.translate&&y(m.translate),E(),a.$on("$destroy",F)}}}}function i(e,t){"use strict";return{restrict:"A",priority:e.directivePriority(),link:function(n,r,i){var s,a,u,l={},c=function(){angular.forEach(s,(function(t,o){t&&(l[o]=!0,n.translateNamespace&&"."===t.charAt(0)&&(t=n.translateNamespace+t),e(t,a,i.translateInterpolation,void 0,n.translateLanguage,u).then((function(e){r.attr(o,e)}),(function(e){r.attr(o,e)})))})),angular.forEach(l,(function(e,t){s[t]||(r.removeAttr(t),delete l[t])}))};o(n,i.translateAttr,(function(e){s=e}),c),o(n,i.translateValues,(function(e){a=e}),c),o(n,i.translateSanitizeStrategy,(function(e){u=e}),c),i.translateValues&&n.$watch(i.translateValues,c,!0),n.$on("translateLanguageChanged",c);var h=t.$on("$translateChangeSuccess",c);c(),n.$on("$destroy",h)}}}function o(e,t,n,r){"use strict";t&&("::"===t.substr(0,2)?t=t.substr(2):e.$watch(t,(function(e){n(e),r()}),!0),n(e.$eval(t)))}function s(e,t){"use strict";return{compile:function(n){var r=function(t){t.addClass(e.cloakClassName())},i=function(t){t.removeClass(e.cloakClassName())};return r(n),function(n,o,s){var a=i.bind(this,o),u=r.bind(this,o);s.translateCloak&&s.translateCloak.length?(s.$observe("translateCloak",(function(t){e(t).then(a,u)})),t.$on("$translateChangeSuccess",(function(){e(s.translateCloak).then(a,u)}))):e.onReady(a)}}}}function a(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=function e(t){return t.translateNamespace?t.translateNamespace:t.$parent?e(t.$parent):void 0}(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function u(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(e,t,n){n.$observe("translateLanguage",(function(t){e.translateLanguage=t})),e.$watch("translateLanguage",(function(){e.$broadcast("translateLanguageChanged")}))}}}}function l(e,t){"use strict";var n=function(n,r,i,o){if(!angular.isObject(r)){var s=this||{__SCOPE_IS_NOT_AVAILABLE:"More info at https://github.com/angular/angular.js/commit/8863b9d04c722b278fa93c5d66ad1e578ad6eb1f"};r=e(r)(s)}return t.instant(n,r,i,o)};return t.statefulFilter()&&(n.$stateful=!0),n}function c(e){"use strict";return e("translations")}return e.$inject=["$translate"],t.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.$inject=["$interpolate","$translateSanitization"],r.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],i.$inject=["$translate","$rootScope"],s.$inject=["$translate","$rootScope"],l.$inject=["$parse","$translate"],c.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(e),e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",(function(){"use strict";var e,t,n,r=null,i=!1,o=!1;(n={sanitize:function(e,t){return"text"===t&&(e=a(e)),e},escape:function(e,t){return"text"===t&&(e=s(e)),e},sanitizeParameters:function(e,t){return"params"===t&&(e=l(e,a)),e},escapeParameters:function(e,t){return"params"===t&&(e=l(e,s)),e},sce:function(e,t,n){return"text"===t?e=u(e):"params"===t&&"filter"!==n&&(e=l(e,s)),e},sceParameters:function(e,t){return"params"===t&&(e=l(e,u)),e}}).escaped=n.escapeParameters,this.addStrategy=function(e,t){return n[e]=t,this},this.removeStrategy=function(e){return delete n[e],this},this.useStrategy=function(e){return i=!0,r=e,this},this.$get=["$injector","$log",function(s,a){var u={};return s.has("$sanitize")&&(e=s.get("$sanitize")),s.has("$sce")&&(t=s.get("$sce")),{useStrategy:function(e){return function(t){e.useStrategy(t)}}(this),sanitize:function(e,t,l,c){return r||i||o||(a.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),o=!0),l||null===l||(l=r),l?(c||(c="service"),function(e,t,r,i){return angular.forEach(i,(function(i){if(angular.isFunction(i))e=i(e,t,r);else if(angular.isFunction(n[i]))e=n[i](e,t,r);else{if(!angular.isString(n[i]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'");if(!u[n[i]])try{u[n[i]]=s.get(n[i])}catch(e){throw u[n[i]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'")}e=u[n[i]](e,t,r)}})),e}(e,t,c,angular.isArray(l)?l:[l])):e}}}];var s=function(e){var t=angular.element("<div></div>");return t.text(e),t.html()},a=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return e(t)},u=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return t.trustAsHtml(e)},l=function(e,t,n){if(angular.isDate(e))return e;if(angular.isObject(e)){var r=angular.isArray(e)?[]:{};if(n){if(n.indexOf(e)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(e),angular.forEach(e,(function(e,i){angular.isFunction(e)||(r[i]=l(e,t,n))})),n.splice(-1,1),r}return angular.isNumber(e)||!0===e||!1===e||angular.isUndefined(e)||null===e?e:t(e)}})),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",t),t.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",n),n.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",r),r.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",i),i.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",s),s.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",a),a.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",u),u.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",l),l.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",c),c.displayName="$translationCache","pascalprecht.translate"}()}.apply(t,[]))||(e.exports=r)},65:function(e,t,n){n(369),e.exports=angular},7:function(e,t,n){"use strict";n.r(t);n(356),n(357),n(358),n(359),n(360),n(361),n(27),n(363),n(364),n(45),n(365),n(28),n(34),n(64);function r(e,t,n){return{openSimpleModal:r,openCopyToClipboardModal:function(t){return e.open({templateUrl:"js/angular/core/templates/modal/copy-to-clipboard-modal.html",controller:"CopyToClipboardModalCtrl",resolve:{uri:function(){return t}}})},openConfirmation:function(e,t,n=(()=>{}),i=(()=>{})){r({title:e,message:t,warning:!0}).result.then(n,i)}};function r(t){return e.open({templateUrl:t.warning?"js/angular/core/templates/modal/modal-warning.html":"js/angular/core/templates/modal/modal-simple.html",controller:"SimpleModalCtrl",size:t.size,windowClass:t.dialogClass,resolve:{title:function(){return t.title},message:function(){return n.trustAsHtml(t.message)}}})}}function i(e){return{getDetails:function(t){return e.get("rest/explore/details",{params:{uri:t},headers:{Accept:"application/json"}})},getGraph:function(t){const n=encodeURIComponent(t);return e.get("rest/explore/graph?uri="+n+"&role=subject",{headers:{Accept:"application/rdf+json"}})},getNamespaceUriForPrefix:function(e,t){let n="";for(let r=0;r<e.length;r++)if(e[r].prefix===t){n=e[r].uri;break}return n},getNamespacePrefixForUri:function(e,t){let n="";for(let r=0;r<e.length;r++)if(e[r].uri===t){n=e[r].prefix;break}return n},getLocalName:function(e){if(angular.isUndefined(e))return e;{let t;const n=e.length-1;let r=e.toString().lastIndexOf("/");r===n&&(t=e.substr(0,n),r=t.lastIndexOf("/"));let i=e.toString().lastIndexOf("#");return i===n&&(t=e.substr(0,n),i=t.lastIndexOf("/")),e.toString().substring(Math.max(i,r)+1)}}}}angular.module("graphdb.framework.core",["ui.bootstrap","jlareau.bowser","LocalStorageModule","graphdb.framework.core.controllers","pascalprecht.translate"]).provider("$menuItems",(function(){const e=function(t,n){for(let r=0;r<t.length;r++){const i=t[r];if(i.label===n)return i;const o=e(i.children,n);if(!angular.isUndefined(o))return o}},t=function(e,t){for(let n=0;n<e.length;n++){if(e[n].label===t)return!0}return!1},n=function(e,t){return e.order<t.order?-1:e.order>t.order?1:0},r=function(e,t){return{label:e.label,labelKey:e.labelKey,href:e.href,hrefFun:e.hrefFun,order:e.order,role:e.role,editions:e.editions,icon:e.icon,guideSelector:e.guideSelector,children:t}};let i;const o=[];let s=[];this.addItem=function(e){angular.isUndefined(e.parent)?t(o,e.label)||(o.push(r(e,[])),this.updateItemsWithMissedParent()):this.addItemToParent(e)||s.push(e)},this.addItemToParent=function(n){const i=e(o,n.parent);return!angular.isUndefined(i)&&!t(i.children,n.label)&&(i.children.push(r(n,n.children?n.children:[])),!0)},this.updateItemsWithMissedParent=function(){if(s.length>0){const e=[];let t=this;s.forEach((function(n){t.addItemToParent(n)||e.push(n)})),s=e}},this.$get=function(){o.sort(n);for(let e=0;e<o.length;e++){o[e].children.sort(n)}return o},this.setProductInfo=function(e){i=e},this.getProductInfo=function(){return i}})).factory("ModalService",r).factory("ClassInstanceDetailsService",i).factory("AuthTokenService",(function(){const e="com.ontotext.graphdb.auth";return{AUTH_STORAGE_NAME:e,getAuthToken:function(){return localStorage.getItem(e)},setAuthToken:function(t){localStorage.setItem(e,t)},clearAuthToken:function(){localStorage.removeItem(e)},OPENID_CONFIG:{}}})),r.$inject=["$uibModal","$timeout","$sce"],i.$inject=["$http"]},8:function(e,t,n){"use strict";n.r(t),n.d(t,"ActiveOperationModel",(function(){return i}));var r=n(4);class i{constructor(){this.operationGroup=void 0,this.runningOperationCount=0,this.status=r.OPERATION_STATUS.INFORMATION,this.type=void 0,this.titleLabelKey="",this.monitoringViewUrl=""}}},9:function(e,t,n){"use strict";n.r(t),n.d(t,"OPERATION_MONITORING_CONSTANTS",(function(){return r}));const r={IMPORT_MONITORING_URL:"import",QUERIES_MONITORING_URL:"monitor/queries",BACKUP_AND_RESTORE_MONITORING_URL:"monitor/backup-and-restore",CLUSTER_MONITORING_URL:"cluster"}}});