(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{274:function(e,t){PluginRegistry.add("guide.step",[{guideBlockName:"import-rdf-file",getSteps:(e,t)=>{const i=t.GuideUtils,o=t.toastr,l=t.$translate,n=t.$interpolate,r=t.EventEmitterService;e.mainAction="import-file";const c=[{guideBlockName:"click-main-menu",options:angular.extend({},{menu:"import",showIntro:!0},e)}];e.resourcePath&&c.push({guideBlockName:"download-guide-resource",options:angular.extend({},{title:""},e)});const s=i.getGuideElementSelector("import-settings-import-button");let a;return c.push({guideBlockName:"clickable-element",options:angular.extend({},{content:"guide.step_plugin.import_rdf_file.content",url:"/import",elementSelector:i.getGuideElementSelector("uploadRdfFileButton"),class:"upload-rdf-file-button-guide-dialog",advanceOn:void 0,show:t=>()=>{a=r.subscribe("filesForUploadSelected",o=>{(o.files||[]).some(t=>t.name===e.resourceFile)?i.isVisible(i.getGuideElementSelector("import-file-"+e.resourceFile))?i.getOrWaiteFor(".confirm-duplicate-files-dialog").then(()=>t.next()):i.getOrWaiteFor(s).then(()=>t.next()):o.cancel=!0})},hide:()=>()=>{a&&a()},onNextValidate:()=>Promise.allSettled([i.getOrWaiteFor(".confirm-duplicate-files-dialog"),i.getOrWaiteFor(i.getGuideElementSelector("import-file-"+e.resourceFile))]).then(([t,r])=>"rejected"!==t.status||"rejected"!==r.status||(i.noNextErrorToast(o,l,n,"guide.step_plugin.import_rdf_file.file-must-be-uploaded",e),!1)),onNextClick:t=>{i.getOrWaiteFor(i.getGuideElementSelector("import-file-"+e.resourceFile)).then(e=>{e.click()}).catch(e=>{console.log(e)}).finally(()=>t.next())}},e)},{guideBlockName:"clickable-element",options:angular.extend({},{content:"guide.step_plugin.import_rdf_file.confirm_duplicate_files_dialog.content",elementSelector:i.getElementSelector(".confirm-duplicate-files-dialog .confirm-overwrite-btn"),url:"/import",placement:"bottom",class:"import-file-button-guide-dialog",skipFromHistory:!0,showOn:()=>i.isVisible(i.getElementSelector(".confirm-duplicate-files-dialog")),onNextClick:()=>i.clickOnElement(".confirm-duplicate-files-dialog .confirm-overwrite-btn")(),onPreviousClick:()=>i.isVisible(i.getElementSelector(".confirm-duplicate-files-dialog"))?i.clickOnElement(".confirm-duplicate-files-dialog .cancel-btn"):Promise.resolve()},e)},{guideBlockName:"clickable-element",options:angular.extend({},{content:"guide.step_plugin.import_rdf_file.import-settings.import.button.content",elementSelector:s,placement:"top",class:"import-settings-import-file-button-guide-dialog",onPreviousClick:()=>new Promise((function(e){i.clickOnGuideElement("import-settings-cancel-button")().then(()=>e())})),beforeShowPromise:()=>t.GuideUtils.deferredShow(300)().then(()=>i.getOrWaiteFor(s,3).catch(e=>(t.toastr.error(t.$translate.instant("guide.unexpected.error.message")),Promise.reject(e)))),onNextClick:()=>i.clickOnGuideElement("import-settings-import-button")(),canBePaused:!1},e)},{guideBlockName:"read-only-element",options:angular.extend({},{content:"guide.step_plugin.import_status_info.content",url:"/import",elementSelector:".import-resource-message",class:"import-status-info-guide-dialog",beforeShowPromise:()=>i.isVisible(".import-resource-message")?Promise.resolve():i.waitFor(".import-resource-message",10),onPreviousClick:()=>i.getOrWaiteFor(i.getGuideElementSelector("import-file-"+e.resourceFile),10).then(e=>{e.click()})},e)}),c}}])}}]);